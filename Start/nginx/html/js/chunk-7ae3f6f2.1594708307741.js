(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ae3f6f2","chunk-de071fb0","chunk-1e365bfe","chunk-76c339ce","chunk-67f818f5","chunk-ec688b00"],{"001a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"check-list",attrs:{"infinite-scroll-disabled":t.busy}},[t._l(t.list,(function(e,n){return a("li",{key:n},[a("div",{staticClass:"info"},[a("h3",{staticClass:"name"},[t._v(t._s(e.feeKind))]),t._v(" "),a("p",{staticClass:"summary"},[t._v(t._s(e.remark))]),t._v(" "),a("p",{staticClass:"desc"},[a("span",[t._v(t._s(e.storeName))]),t._v("\n        | "),a("span",[t._v("¥"+t._s(t._f("toThousands")(e.amount)))]),t._v(" |\n        "),a("span",[t._v(t._s(e.feeDate))]),t._v(" |\n        "),a("span",[t._v(t._s(e.inUserName))]),t._v(" "),e.attachs&&e.attachs.length?[t._v("\n          |\n          "),a("span",{staticClass:"blue link-btn",on:{click:function(a){return a.stopPropagation(),t.previewImg(0,e.attachs)}}},[t._v("\n            查看图片\n          ")])]:t._e()],2)]),t._v(" "),a("div",{staticClass:"operate"},[t.costPBtn.includes("SHENHE")&&1==e.status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.checkClick(e.id)}}},[t._v("\n        审核\n      ")]):t._e()],1)])})),t._v(" "),a("el-dialog",{attrs:{title:"审核",visible:t.toggleCheckDialog,"close-on-click-modal":!1,width:"360px"},on:{"update:visible":function(e){t.toggleCheckDialog=e}}},[a("el-radio-group",{staticClass:"c-flex1 is-checked--orange",attrs:{size:"small"},model:{value:t.checkData.success,callback:function(e){t.$set(t.checkData,"success",e)},expression:"checkData.success"}},[a("el-radio-button",{attrs:{label:1}},[t._v("通过审核")]),t._v(" "),a("el-radio-button",{attrs:{label:0}},[t._v("驳回")])],1),t._v(" "),0==t.checkData.success?a("el-input",{staticClass:"input-bg mt20",attrs:{type:"textarea",placeholder:"请输入驳回理由"},model:{value:t.checkData.auditRemark,callback:function(e){t.$set(t.checkData,"auditRemark",e)},expression:"checkData.auditRemark"}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.toggleCheckDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.checkSubmit}},[t._v("确 定")])],1)],1)],2)},s=[],i=a("a34a"),r=a.n(i),o=a("c1ed"),l=a.n(o),c=a("405f");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={data:function(){return{houesPlaceholderImg:l.a,queryData:{pageNum:1,pageSize:10,status:1},list:[],costPBtn:[],checkData:{success:1,auditRemark:""},busy:!0,toggleCheckDialog:!1}},created:function(){this.getList(),this.getCostPBtn()},methods:{getCostPBtn:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("settings/getBtnPermissionFrom","/work/storeManagement/cost");case 2:a=e.sent,t.costPBtn=a;case 4:case"end":return e.stop()}}),e)})))()},getList:function(){var t=this;return d(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.queryData,e.next=3,Object(c["e"])(a);case 3:n=e.sent,s=n&&n.list,t.queryData.pageNum++,s&&s.length&&(t.busy=!1,t.list=t.list.concat(s),(0==s.length||s.length<a.pageSize)&&(t.busy=!0));case 7:case"end":return e.stop()}}),e)})))()},previewImg:function(t,e){this.$root.$emit("showPreview",{urlList:e,index:t})},checkClick:function(t){this.toggleCheckDialog=!0,this.checkData.id=t},checkSubmit:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(t.checkData);case 2:a=e.sent,a&&(t.$showSuccess("操作成功"),t.toggleCheckDialog=!1,t.checkData.auditRemark="",t.list=[],t.queryData.pageNum=1,t.getList());case 4:case"end":return e.stop()}}),e)})))()},loadMore:function(){this.busy||this.getList()}}},m=p,f=(a("4271"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"30e239c1",null);e["default"]=v.exports},"005d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",staticClass:"user-doc",class:{isView:t.isView},attrs:{model:t.formData}},[a("div",{staticClass:"doc-cell"},[a("p",{staticClass:"title"},[t._v("1、个人资料")]),t._v(" "),a("ul",{staticClass:"base-form"},[a("li",[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("出生日期")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.birthday",rules:[t.rules.required()]}},[a("el-date-picker",{attrs:{"value-format":"yyyy/MM/dd",format:"yyyy/MM/dd",placeholder:"请选择出生日期",disabled:t.isView},model:{value:t.formData.userBasicVo.birthday,callback:function(e){t.$set(t.formData.userBasicVo,"birthday",e)},expression:"formData.userBasicVo.birthday"}})],1)],1),t._v(" "),a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("体重")]),t._v(" "),a("el-form-item",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:t.formData.userBasicVo.weight,callback:function(e){t.$set(t.formData.userBasicVo,"weight",e)},expression:"formData.userBasicVo.weight"}}),t._v(" "),a("i",{staticClass:"suffix"},[t._v("KG")])],1)],1),t._v(" "),a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("身高")]),t._v(" "),a("el-form-item",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:t.formData.userBasicVo.height,callback:function(e){t.$set(t.formData.userBasicVo,"height",e)},expression:"formData.userBasicVo.height"}}),t._v(" "),a("i",{staticClass:"suffix"},[t._v("CM")])],1)],1)]),t._v(" "),a("li",[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("民族")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.nation",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:t.formData.userBasicVo.nation,callback:function(e){t.$set(t.formData.userBasicVo,"nation",e)},expression:"formData.userBasicVo.nation"}})],1)],1),t._v(" "),a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("籍贯")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.nativePlace",rules:[t.rules.required()]}},[t.isView?a("p",[t._v(t._s(t.formData.userBasicVo.nativePlace))]):a("el-cascader",{attrs:{options:t.regions,props:t.regionProps,filterable:"",clearable:"",disabled:t.isView},on:{change:function(e){return t.nativePlaceChange(e,"nativePlace")}},model:{value:t.formData.userBasicVo.nativePlace2,callback:function(e){t.$set(t.formData.userBasicVo,"nativePlace2",e)},expression:"formData.userBasicVo.nativePlace2"}})],1)],1),t._v(" "),a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("健康状况")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.health",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:t.formData.userBasicVo.health,callback:function(e){t.$set(t.formData.userBasicVo,"health",e)},expression:"formData.userBasicVo.health"}})],1)],1)]),t._v(" "),a("li",[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("慢性病")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.chronicDisease",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"是否有慢性疾病",disabled:t.isView},model:{value:t.formData.userBasicVo.chronicDisease,callback:function(e){t.$set(t.formData.userBasicVo,"chronicDisease",e)},expression:"formData.userBasicVo.chronicDisease"}})],1)],1),t._v(" "),a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("重大疾病")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.majorDisease",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"是否有重大疾病",disabled:t.isView},model:{value:t.formData.userBasicVo.majorDisease,callback:function(e){t.$set(t.formData.userBasicVo,"majorDisease",e)},expression:"formData.userBasicVo.majorDisease"}})],1)],1),t._v(" "),a("div",{staticClass:"cell required"},[a("span",{staticClass:"th required"},[t._v("婚姻状况")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.marryStatus",rules:[t.rules.required()]}},[a("el-select",{attrs:{placeholder:"请选择",disabled:t.isView},model:{value:t.formData.userBasicVo.marryStatus,callback:function(e){t.$set(t.formData.userBasicVo,"marryStatus",e)},expression:"formData.userBasicVo.marryStatus"}},t._l(t.marryStatusList,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1)],1)]),t._v(" "),a("li",[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("是否孕期")]),t._v(" "),a("el-form-item",{staticClass:"td ",attrs:{prop:"userBasicVo.isPregnancy",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"是否孕期",disabled:t.isView},model:{value:t.formData.userBasicVo.isPregnancy,callback:function(e){t.$set(t.formData.userBasicVo,"isPregnancy",e)},expression:"formData.userBasicVo.isPregnancy"}})],1)],1),t._v(" "),a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("户口所在地")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.registeredResidence",rules:[t.rules.required()]}},[t.isView?a("p",[t._v("\n              "+t._s(t.formData.userBasicVo.registeredResidence)+"\n            ")]):a("el-cascader",{attrs:{options:t.regions,props:t.regionProps,filterable:"",clearable:"",disabled:t.isView},on:{change:function(e){return t.nativePlaceChange(e,"registeredResidence")}},model:{value:t.formData.userBasicVo.registeredResidence2,callback:function(e){t.$set(t.formData.userBasicVo,"registeredResidence2",e)},expression:"formData.userBasicVo.registeredResidence2"}})],1)],1),t._v(" "),a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("最高学历")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.highestDegree",rules:[t.rules.required()]}},[a("el-select",{attrs:{placeholder:"请选择",disabled:t.isView},model:{value:t.formData.userBasicVo.highestDegree,callback:function(e){t.$set(t.formData.userBasicVo,"highestDegree",e)},expression:"formData.userBasicVo.highestDegree"}},t._l(t.educationList,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1)],1)]),t._v(" "),a("li",[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("联系电话")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.phone",rules:[t.rules.required(),t.rules.tel]}},[a("el-input",{attrs:{placeholder:"请录入电话",maxlength:"11",disabled:t.isView},model:{value:t.formData.userBasicVo.phone,callback:function(e){t.$set(t.formData.userBasicVo,"phone",e)},expression:"formData.userBasicVo.phone"}})],1)],1),t._v(" "),a("div",{staticClass:"cell flex2 required"},[a("span",{staticClass:"th"},[t._v("身份证号码")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.idCard",rules:[t.rules.required(),t.rules.idNum]}},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:t.formData.userBasicVo.idCard,callback:function(e){t.$set(t.formData.userBasicVo,"idCard",e)},expression:"formData.userBasicVo.idCard"}})],1)],1)]),t._v(" "),a("li",[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("现住城市")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.city",rules:[t.rules.required()]}},[t.isView?a("p",[t._v("\n              "+t._s(t.formData.userBasicVo.city)+"\n            ")]):a("el-cascader",{attrs:{placeholder:"省 / 市 / 县",options:t.regions,props:t.regionProps,filterable:"",clearable:"",disabled:t.isView},on:{change:function(e){return t.nativePlaceChange(e,"city")}},model:{value:t.formData.userBasicVo.city2,callback:function(e){t.$set(t.formData.userBasicVo,"city2",e)},expression:"formData.userBasicVo.city2"}})],1)],1),t._v(" "),a("div",{staticClass:"cell flex2 required"},[a("span",{staticClass:"th"},[t._v("详细地址")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.currentAddress",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"街道门牌及小区名称",disabled:t.isView},model:{value:t.formData.userBasicVo.currentAddress,callback:function(e){t.$set(t.formData.userBasicVo,"currentAddress",e)},expression:"formData.userBasicVo.currentAddress"}})],1)],1)]),t._v(" "),a("li",[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("紧急联系人")]),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.emergencyContact",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"姓名",disabled:t.isView},model:{value:t.formData.userBasicVo.emergencyContact,callback:function(e){t.$set(t.formData.userBasicVo,"emergencyContact",e)},expression:"formData.userBasicVo.emergencyContact"}})],1)],1),t._v(" "),a("div",{staticClass:"cell flex2"},[a("el-form-item",{staticClass:"th th2",attrs:{prop:"userBasicVo.emergencyContactRelation",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"关系",disabled:t.isView},model:{value:t.formData.userBasicVo.emergencyContactRelation,callback:function(e){t.$set(t.formData.userBasicVo,"emergencyContactRelation",e)},expression:"formData.userBasicVo.emergencyContactRelation"}})],1),t._v(" "),a("el-form-item",{staticClass:"td",attrs:{prop:"userBasicVo.emergencyContactPhone",rules:[t.rules.required(),t.rules.tel]}},[a("el-input",{attrs:{placeholder:"联系电话",disabled:t.isView},model:{value:t.formData.userBasicVo.emergencyContactPhone,callback:function(e){t.$set(t.formData.userBasicVo,"emergencyContactPhone",e)},expression:"formData.userBasicVo.emergencyContactPhone"}})],1)],1)])])]),t._v(" "),a("div",{staticClass:"doc-cell"},[a("p",{staticClass:"title"},[t._v("\n      2、教育与培训\n      "),t.isView?t._e():a("span",{staticClass:"sub"},[t._v("（从最高学历开始填写，至少填写1条）")])]),t._v(" "),a("ul",{staticClass:"experience-form"},[a("li",{staticClass:"th"},[a("div",{staticClass:"cell flex4"},[t._v("起止日期")]),t._v(" "),a("div",{staticClass:"cell flex2"},[t._v("学校/培训机构名称")]),t._v(" "),a("div",{staticClass:"cell flex1"},[t._v("学历")]),t._v(" "),a("div",{staticClass:"cell flex2"},[t._v("专业")]),t._v(" "),a("div",{staticClass:"cell flex3"},[t._v("学位/所获证书")])]),t._v(" "),t._l(t.formData.educationExperienceVos,(function(e,n){return a("li",{key:n,staticClass:"td"},[a("el-form-item",{staticClass:"cell flex4",attrs:{prop:"educationExperienceVos."+n+".startDate",rules:t.verifyEducationItem(e,n)}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy/MM/dd",format:"yyyy/MM/dd","picker-options":t.$disabledFutureDate,disabled:t.isView},on:{change:function(e){return t.dateRangeChange(e,"educationExperienceVos",n)}},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"item.date"}})],1),t._v(" "),a("el-form-item",{staticClass:"cell flex2",attrs:{prop:"educationExperienceVos."+n+".schoolName",rules:t.verifyEducationItem(e,n)}},[t.isView?a("p",[t._v(t._s(e.schoolName))]):a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:e.schoolName,callback:function(a){t.$set(e,"schoolName",a)},expression:"item.schoolName"}})],1),t._v(" "),a("el-form-item",{staticClass:"cell flex1",attrs:{prop:"educationExperienceVos."+n+".qualification",rules:t.verifyEducationItem(e,n)}},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:e.qualification,callback:function(a){t.$set(e,"qualification",a)},expression:"item.qualification"}})],1),t._v(" "),a("el-form-item",{staticClass:"cell flex2",attrs:{prop:"educationExperienceVos."+n+".specialitie",rules:t.verifyEducationItem(e,n)}},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:e.specialitie,callback:function(a){t.$set(e,"specialitie",a)},expression:"item.specialitie"}})],1),t._v(" "),a("el-form-item",{staticClass:"cell flex3",attrs:{prop:"educationExperienceVos."+n+".academic",rules:t.verifyEducationItem(e,n)}},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:e.academic,callback:function(a){t.$set(e,"academic",a)},expression:"item.academic"}})],1)],1)}))],2)]),t._v(" "),a("div",{staticClass:"doc-cell"},[a("p",{staticClass:"title"},[t._v("\n      3、工作经历\n      "),t.isView?t._e():a("span",{staticClass:"sub"},[t._v("（最近三家单位，按时间顺序依次填写，至少填写1条）")])]),t._v(" "),a("ul",{staticClass:"experience-form"},[a("li",{staticClass:"th"},[a("div",{staticClass:"cell flex3"},[t._v("入离职日期")]),t._v(" "),a("div",{staticClass:"cell flex2"},[t._v("公司名称")]),t._v(" "),a("div",{staticClass:"cell flex1"},[t._v("职位名称")]),t._v(" "),a("div",{staticClass:"cell flex4"},[t._v("离职原因")])]),t._v(" "),t._l(t.formData.workExperienceVos,(function(e,n){return a("li",{key:n,staticClass:"td"},[a("el-form-item",{staticClass:"cell flex3",attrs:{prop:"workExperienceVos."+n+".startDate",rules:t.verifyWorkExperienceItem(e,n)}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy/MM/dd",format:"yyyy/MM/dd","picker-options":t.$disabledFutureDate,disabled:t.isView},on:{change:function(e){return t.dateRangeChange(e,"workExperienceVos",n)}},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"item.date"}})],1),t._v(" "),a("el-form-item",{staticClass:"cell flex2",attrs:{prop:"workExperienceVos."+n+".companyName",rules:t.verifyWorkExperienceItem(e,n)}},[t.isView?a("p",[t._v(t._s(e.companyName))]):a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:e.companyName,callback:function(a){t.$set(e,"companyName",a)},expression:"item.companyName"}})],1),t._v(" "),a("el-form-item",{staticClass:"cell flex1",attrs:{prop:"workExperienceVos."+n+".positionName",rules:t.verifyWorkExperienceItem(e,n)}},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:e.positionName,callback:function(a){t.$set(e,"positionName",a)},expression:"item.positionName"}})],1),t._v(" "),a("el-form-item",{staticClass:"cell flex4",attrs:{prop:"workExperienceVos."+n+".leaveReason",rules:t.verifyWorkExperienceItem(e,n)}},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:e.leaveReason,callback:function(a){t.$set(e,"leaveReason",a)},expression:"item.leaveReason"}})],1)],1)}))],2)]),t._v(" "),t.$own(t.authActions,"glygda")&&t.isView||t.isMine&&t.isFirst&&t.isView?a("div",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){t.isView=!1}}},[a("svg-icon",{attrs:{"icon-class":"follow-up"}}),t._v(" "),a("span",[t._v("编辑")])],1)],1):t._e(),t._v(" "),t.isView?t._e():a("div",{staticClass:"submit",class:[t.isRegPage?"flex-center":"btn-group"]},[t.isRegPage?t._e():a("el-button",{attrs:{size:"small"},on:{click:function(e){t.isView=!0}}},[t._v("取消")]),t._v(" "),a("el-button",{class:{btn:t.isRegPage},attrs:{type:"primary",size:t.isRegPage?"":"small"},on:{click:t.submitForm}},[t._v("保 存")])],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("acb0"),c=a("ed08"),u=a("e60e");function d(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=p(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function p(t,e){if(t){if("string"===typeof t)return m(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function f(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function v(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){f(i,n,s,r,o,"next",t)}function o(t){f(i,n,s,r,o,"throw",t)}r(void 0)}))}}var h={date:[],academic:"",endDate:"",id:null,qualification:"",schoolName:"",specialitie:"",startDate:"",userId:null},b={date:[],companyName:"",endDate:"",id:null,leaveReason:"",positionName:"",startDate:"",userId:null},g={educationExperienceVos:[Object(c["b"])(h),Object(c["b"])(h),Object(c["b"])(h)],userBasicVo:{birthday:"",chronicDisease:"",city:"",area:"",currentAddress:"",emergencyContact:"",emergencyContactRelation:"",emergencyContactPhone:"",health:"",height:"",highestDegree:null,id:null,idCard:"",isPregnancy:"",majorDisease:"",marryStatus:null,nation:"",nativePlace:"",phone:"",registeredResidence:"",userId:null,weight:""},workExperienceVos:[Object(c["b"])(b),Object(c["b"])(b),Object(c["b"])(b)]},_={props:{isMine:{type:Boolean,default:!0}},data:function(){return{formData:Object(c["b"])(g),regionProps:{label:"name",value:"name"},regions:[],city:[],rules:o["a"].rules,marryStatusList:o["a"].config.marryStatusList2,educationList:o["a"].config.educationList,operateType:"create",isView:!0,isFirst:!1}},computed:{verifyWorkExperienceItem:function(){var t=this;return function(e,a){var n=e.companyName,s=e.startDate,i=e.positionName,r=e.leaveReason,o=Object.values({companyName:n,startDate:s,positionName:i,leaveReason:r}).some((function(t){return t}));return(0==a||o)&&t.rules.required()}},verifyEducationItem:function(){var t=this;return function(e,a){var n=e.academic,s=e.qualification,i=e.schoolName,r=e.specialitie,o=e.startDate,l=Object.values({academic:n,qualification:s,schoolName:i,specialitie:r,startDate:o}).some((function(t){return t}));return(0==a||l)&&t.rules.required()}},userId:function(){return this.$route.params.id||this.$store.state.settings.userInfo.userId},isRegPage:function(){return"/enrollment"==this.$route.path},authActions:function(){return this.$route.meta.authActions||[]}},created:function(){var t=this;return v(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getRegionLv3();case 2:t.initData(),t.getUserDoc(),t.isView=!t.isRegPage;case 5:case"end":return e.stop()}}),e)})))()},methods:{initData:function(){this.formData.userBasicVo.userId=this.userId;var t,e=d(this.formData.workExperienceVos);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.userId=this.userId}}catch(r){e.e(r)}finally{e.f()}var n,s=d(this.formData.educationExperienceVos);try{for(s.s();!(n=s.n()).done;){var i=n.value;i.userId=this.userId}}catch(r){s.e(r)}finally{s.f()}},getUserDoc:function(){var t=this;return v(r.a.mark((function e(){var a,n,s,i,o,l,d;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["h"])(t.userId);case 2:if(a=e.sent,!a){e.next=22;break}if(a.userBasicVo&&a.userBasicVo.birthday){e.next=7;break}return t.isFirst=!0,e.abrupt("return");case 7:t.operateType="update",n=Object(c["b"])(a),s=n.educationExperienceVos,i=n.workExperienceVos,o=n.userBasicVo,t.formData.userBasicVo=Object.assign({},t.formData.userBasicVo,o),t.formData.educationExperienceVos=s.map((function(t){return t.date=[t.startDate,t.endDate],t})),t.formData.workExperienceVos=i.map((function(t){return t.date=[t.startDate,t.endDate],t})),l=o.currentAddress.split(" / "),d=o.emergencyContact.split(" / "),t.formData.userBasicVo.currentAddress=l.pop(),t.formData.userBasicVo.city2=l,t.formData.userBasicVo.city=l.join(" / "),t.formData.userBasicVo.emergencyContact=d[0],t.formData.userBasicVo.emergencyContactRelation=d[1],t.formData.userBasicVo.emergencyContactPhone=d[2],t.formData.userBasicVo.nativePlace2=a.userBasicVo.nativePlace.split(" / "),t.formData.userBasicVo.registeredResidence2=a.userBasicVo.registeredResidence.split(" / ");case 22:case"end":return e.stop()}}),e)})))()},dateRangeChange:function(t,e,a){if(!t||!t.length)return this.formData[e][a].startDate=null,void(this.formData[e][a].endDate=null);this.formData[e][a].startDate=t[0],this.formData[e][a].endDate=t[1]},nativePlaceChange:function(t,e){this.formData.userBasicVo[e]=t.join(" / ")},getRegionLv3:function(){var t=this;return v(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$loading({lock:!0,background:"rgba(0, 0, 0, 0.7)"}),e.next=3,Object(l["q"])(0);case 3:return n=e.sent,n&&(t.regions=n),a.close(),e.abrupt("return",Promise.resolve(n));case 7:case"end":return e.stop()}}),e)})))()},submitForm:function(){var t=this;this.$refs.form.clearValidate(),this.$refs.form.validate(function(){var e=v(r.a.mark((function e(a){var n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=t.$cloneObj(t.formData),n.userBasicVo.currentAddress="".concat(n.userBasicVo.city," / ").concat(n.userBasicVo.currentAddress),n.userBasicVo.emergencyContact="".concat(n.userBasicVo.emergencyContact," / ").concat(n.userBasicVo.emergencyContactRelation," / ").concat(n.userBasicVo.emergencyContactPhone),n.educationExperienceVos=n.educationExperienceVos.filter((function(t){return t.startDate})),n.workExperienceVos=n.workExperienceVos.filter((function(t){return t.startDate})),s="create"==t.operateType?u["c"]:u["k"],e.next=10,s(n);case 10:i=e.sent,i&&(t.$showSuccess("保存成功"),t.$emit("fulfill","isFinishBasic"),t.getUserDoc(),t.isRegPage||(t.isView=!0));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},y=_,w=(a("b5a6"),a("d8e7"),a("2877")),C=Object(w["a"])(y,n,s,!1,null,"a47dca2a",null);e["default"]=C.exports},"0071":function(t,e,a){"use strict";var n=a("867f"),s=a.n(n);s.a},"01a1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu"},[a("div",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v("岗位列表")]),t._v(" "),a("span",{staticClass:"btn",on:{click:t.addPosition}},[t._v("[新增]")])]),t._v(" "),t._l(t.positions,(function(e,n){return a("div",{key:n,staticClass:"item",class:{active:n==t.menuIndex},on:{click:function(a){return t.handleMenuClick(n,e)}}},[a("div",{staticClass:"icon-group"},[-1!=e.id?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"delete2"},on:{click:function(a){return t.deletePosition(e.id)}}}):t._e()],1),t._v(" "),a("div",{staticClass:"text"},[t._v(t._s(e.name))])])}))],2)},s=[],i=a("c24f"),r={data:function(){return{positions:[],menuIndex:0}},created:function(){this.getPositions()},methods:{getPositions:function(){var t=this;Object(i["n"])().then((function(e){t.positions=e,t.$emit("position",e[0])}))},editPosition:function(t){this.$emit("edit",t)},deletePosition:function(t){this.$emit("del",t)},handleMenuClick:function(t,e){this.menuIndex=t,this.$emit("position",e)},addPosition:function(){this.$emit("add",!0)}}},o=r,l=(a("4264"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"3cff0947",null);e["default"]=c.exports},"01b5":function(t,e,a){"use strict";var n=a("36b9"),s=a.n(n);s.a},"0219":function(t,e,a){},"0303":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"fm-table-conditions"},[a("div",{staticClass:"head"},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"搜索编号、客户名称或者客户电话","prefix-icon":"el-icon-search",size:"small"},model:{value:t.queryData.keyword,callback:function(e){t.$set(t.queryData,"keyword",e)},expression:"queryData.keyword"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.search(1)}}},[t._v("搜索客户")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.enterCustomer}},[t._v("录入客户")])],1),t._v(" "),a("div",{staticClass:"fm-filtrator2"},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"content border-radio-wrap"},[a("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){return t.search(1)}},model:{value:t.queryData.customerLevel,callback:function(e){t.$set(t.queryData,"customerLevel",e)},expression:"queryData.customerLevel"}},t._l(t.customerLevels,(function(e){return a("el-radio",{key:e.value,attrs:{label:e.value,border:""}},[t._v(t._s(e.label))])})),1)],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(1),t._v(" "),a("div",{staticClass:"content border-radio-wrap"},[a("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){return t.search(1)}},model:{value:t.queryData.customerRequirement,callback:function(e){t.$set(t.queryData,"customerRequirement",e)},expression:"queryData.customerRequirement"}},t._l(t.damends,(function(e){return a("el-radio",{key:e.id,attrs:{label:e.id,border:""}},[t._v(t._s(e.text))])})),1)],1)])])]),t._v(" "),a("div",{staticClass:"split-line"}),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"fm-table-tips"},[a("div",{staticClass:"result"},[a("p",{staticClass:"tips"},[t._v("\n          共找到 "),a("span",{staticClass:"strong"},[t._v(t._s(t.totalNum))]),t._v("条记录\n        ")]),t._v(" "),a("p",{staticClass:"clear",on:{click:t.clearQuery}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"clear"}}),t._v(" "),a("span",{staticClass:"text"},[t._v("清空条件")])],1)])]),t._v(" "),a("div",{staticClass:"c"},[a("el-table",{staticClass:"fm-table mt10",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"row-click":t.rowClick}},[a("el-table-column",{attrs:{label:"客户姓名",width:"330px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("h3",{staticClass:"name"},[t._v(t._s(e.row.customerName))]),t._v(" "),a("el-rate",{staticClass:"c-rate",attrs:{max:3,"void-color":"#999999",disabled:"","text-color":"#ff9900"},model:{value:e.row.customerLevel,callback:function(a){t.$set(e.row,"customerLevel",a)},expression:"scope.row.customerLevel"}})],1)}}])}),t._v(" "),a("el-table-column",{attrs:{label:"客户需求/标签"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("div",{staticClass:"damends"},[t._v("\n              "+t._s(t.filetercustomerDemands(e.row.customerRequirement))+"\n            ")]),t._v(" "),a("div",{staticClass:"label tags"},t._l((e.row.customerLabel||"").split(","),(function(e,n){return a("span",{key:n,staticClass:"tag"},[t._v(t._s(e))])})),0)])}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"inDate"}}),t._v(" "),a("el-table-column",{attrs:{label:"上次维护时间"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("p",[t._v(t._s(e.row.lastMaitainDate))])])}}])})],1)],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[t.totalNum>t.queryData.pageSize?a("el-pagination",{attrs:{background:"","page-size":t.queryData.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.totalNum},on:{"current-change":t.handleCurrentChange}}):t._e()],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label md"},[a("p",[t._v("客户等级")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label md"},[a("p",[t._v("客户需求")])])}],i=a("f6b0"),r=a("db49");function o(t){return d(t)||u(t)||c(t)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return p(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var m={props:{tab:{type:String,default:""}},data:function(){return{config:r["a"].config,totalNum:0,queryData:{customerArea:"2",customerLevel:"",customerRequirement:"",keyword:"",pageNum:1,pageSize:10,queryType:"新房"==this.tab?2:1},tableData:[]}},computed:{customerLevels:function(){return[{value:"",label:"不限"},{value:1,label:"未分级"}].concat(o(this.config.customerLevels))},damends:function(){return"新房"==this.tab?[{id:"",text:"不限"},{id:"1",text:"求购"}]:[{id:"",text:"不限"},{id:"1",text:"求购"},{id:"2",text:"求租"}]},damends2:function(){return this.config.customerDemands}},created:function(){var t=this;this.queryData.keyword=this.$route.query.search,"全部客户"==this.$route.name?this.queryData.customerArea="1":this.queryData.customerArea="2",this.search(),this.$root.$on("RESET_CUSTOMER_LIST",(function(){t.search()}))},activated:function(){var t=this;this.$root.$on("RESET_CUSTOMER_LIST",(function(){t.search()}))},deactivated:function(){this.$root.$off("RESET_CUSTOMER_LIST")},methods:{handleCurrentChange:function(t){this.search(t)},filetercustomerDemands:function(t){var e=this,a=[];return t.split(",").forEach((function(t){e.damends2.forEach((function(e){t==e.value&&a.push(e.label)}))})),a.join(" , ")},enterCustomer:function(){this.$emit("enter",!0)},clearQuery:function(){this.queryData.customerLevel="",this.queryData.customerRequirement="",this.queryData.keyword="",this.search()},rowClick:function(t){this.$navigateTo({name:"客户详情",query:{title:"".concat(t.customerName)},params:{id:t.customerId,source:this.$route.name}})},search:function(t){var e=this,a=Object.assign({},this.queryData,{siteId:this.$store.state.settings.site.id,pageNum:1});t&&(a.pageNum=t,this.queryData.pageNum=t),Object(i["e"])(a).then((function(t){t&&(e.tableData=t.list.map((function(t){return Object.assign({},t,{customerLevel:Number(t.customerLevel)-1})})),e.totalNum=t.total,"新房"==e.tab?e.$emit("newtotal",t.total):e.$emit("oldtotal",t.total))}))}}},f=m,v=(a("5df6"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"cea36a0a",null);e["default"]=h.exports},"041d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.options&&t.options.length?a("ul",{staticClass:"tools"},[t._t("default",t._l(t.options,(function(e){return a("li",{key:e.value,staticClass:"tool",on:{click:function(a){return t.handleClick(e.label)}}},[a("svg-icon",{attrs:{"icon-class":e.icon}}),t._v(" "),a("p",[t._v(t._s(e.label))])],1)}))),t._v(" "),a("li",{staticClass:"tool top",on:{click:t.backToTop}},[a("svg-icon",{attrs:{"icon-class":"backTop"}}),t._v(" "),a("p",[t._v("回顶部")])],1)],2):t._e()},s=[],i={props:{options:{type:Array,default:function(){return[{icon:"delete2",label:"删除"}]}},container:{type:String,default:".sub-views"}},methods:{handleClick:function(t){this.$emit("handleClick",t)},backToTop:function(){var t=document.querySelector(this.container);t&&(t.scrollTop=0)}}},r=i,o=(a("6939"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,null,null);e["a"]=l.exports},"0449":function(t,e,a){},"0534":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"role-setting y"},[a("div",{staticClass:"title"},[a("div",{staticClass:"flex1 x3 aic"},[a("p",{staticClass:"fs18 color3"},[t._v(t._s(t.roleName)+"-权限设置")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.save}},[t._v("\n        保存\n      ")])],1)]),t._v(" "),a("div",{staticClass:"main"},[a("el-table",{staticStyle:{width:"100%"},attrs:{size:"small",border:"",data:t.menuTree,"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"menuName",label:"菜单",width:"250"}}),t._v(" "),a("el-table-column",{attrs:{p:"",label:"权限"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.authActions&&e.row.authActions.length?[a("el-checkbox",{on:{change:function(a){return t.setAll(a,e.row)}},model:{value:e.row.setAll,callback:function(a){t.$set(e.row,"setAll",a)},expression:"scope.row.setAll"}},[t._v("\n            全部\n          ")]),t._v(" "),t._l(e.row.authActions,(function(n,s){return a("el-checkbox",{key:s,on:{change:function(a){return t.setLook(a,e.row,n)}},model:{value:n.own,callback:function(e){t.$set(n,"own",e)},expression:"item.own"}},[t._v("\n            "+t._s(n.menuName)+"\n          ")])}))]:void 0}}],null,!0)})],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("1f27"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={data:function(){return{routeSetting:l["a"].routeSetting,menuTree:[],allTree:[]}},computed:{roleId:function(){return this.$route.params.id},roleName:function(){return this.$route.query.name}},created:function(){this.getMenuTree()},methods:{getMenuTree:function(){var t=this;return u(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.roleId,n=t.$route.path,n=n.replace(t.roleId,""),s="/coc/hr/roleSetting/"===n?o["f"]:o["a"],e.next=6,s({roleId:a});case 6:i=e.sent,t.allTree=i,t.menuTree=i[0].children;case 9:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.allTree[0].children=JSON.parse(JSON.stringify(t.menuTree)),e.next=3,Object(o["g"])(t.allTree,t.roleId);case 3:a=e.sent,a&&t.$showSuccess("修改成功");case 5:case"end":return e.stop()}}),e)})))()},setAll:function(t,e){t&&e.authActions.forEach((function(t){t.own=!0}))},setLook:function(t,e,a){var n=this,s=0;e.authActions.forEach((function(t){t.own&&s++})),t?e.authActions.forEach((function(t){t.componentPath==n.routeSetting.liulan&&(t.own=!0)})):s&&a.componentPath==this.routeSetting.liulan&&(a.own=!0)}}},p=d,m=(a("2bd8"),a("8563"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"7000717e",null);e["default"]=f.exports},"063c":function(t,e,a){"use strict";var n=a("43d8"),s=a.n(n);s.a},"0664":function(t,e,a){},"0667":function(t,e,a){},"066c":function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"performance"},[a("div",{staticClass:"head"},[a("div",{staticClass:"title-wrap"},t._l(t.tabNameData,(function(e,n){return a("h3",{key:n,class:{active:n==t.queryData.performanceType},on:{click:function(a){return t.tabClick(n,e)}}},[t._v("\n        "+t._s(e)+"\n      ")])})),0),t._v(" "),a("div",{staticClass:"filtrator"},[a("div",{staticClass:"tag"},[a("span",{on:{click:function(e){return t.clickDate(1)}}},[t._v("本周")]),t._v(" "),a("span",{on:{click:function(e){return t.clickDate(2)}}},[t._v("本月")]),t._v(" "),a("span",{on:{click:function(e){return t.clickDate(3)}}},[t._v("全年")])]),t._v(" "),a("el-date-picker",{attrs:{size:"mini","picker-options":t.$disabledFutureDate,type:"daterange","range-separator":"-","start-placeholder":"统计日期","end-placeholder":"统计日期","value-format":"yyyy-MM-dd"},model:{value:t.queryData.date,callback:function(e){t.$set(t.queryData,"date",e)},expression:"queryData.date"}}),t._v(" "),a("el-cascader",{attrs:{size:"mini",clearable:"","show-all-levels":!1,options:t.storegrouptree,props:{label:"name",value:"nodeId",checkStrictly:!0,emitPath:!1},placeholder:"请选择店组或用户"},model:{value:t.queryData.nodeId,callback:function(e){t.$set(t.queryData,"nodeId",e)},expression:"queryData.nodeId"}})],1)]),t._v(" "),a("div",{staticClass:"content row"},[a("div",{staticClass:"left"},[a("h3",{staticClass:"title"},[t._v(t._s(t.tabNameData[t.queryData.performanceType])+"趋势")]),t._v(" "),a("div",{ref:"charts",staticClass:"charts"})]),t._v(" "),a("div",{staticClass:"right"},[a("h3",{staticClass:"title"},[t._v("\n        店内"+t._s(t.tabNameData[t.queryData.performanceType])+"TOP10\n      ")]),t._v(" "),a("ul",{staticClass:"rank"},[t._l(t.tops,(function(e,n){return a("li",{key:n},[a("div",{staticClass:"label"},[a("span",{staticClass:"no",class:{top:n<3}},[t._v(t._s(n+1))]),t._v(" "),"site"==t.nodeType?a("span",{staticClass:"name"},[t._v("\n              "+t._s(e.storeName)+"\n            ")]):a("span",{staticClass:"name"},[t._v("\n              "+t._s(e.userName)+t._s(e.groupName&&","+e.groupName)+"\n            ")])]),t._v(" "),a("div",{staticClass:"value"},[t._v("¥"+t._s(t._f("toThousands")(e.amount)))])])})),t._v(" "),t.myRank?a("li",{staticClass:"my"},[a("div",{staticClass:"label"},[a("el-image",{staticClass:"avatar",attrs:{fit:"cover",src:t.userInfo.avatarPath}},[a("img",{attrs:{slot:"error",src:t.avatar},slot:"error"})]),t._v(" "),a("span",[t._v("我，¥"+t._s(t._f("toThousands")(t.myRank.amount)))])],1),t._v(" "),a("div",{staticClass:"value"},[t._v("第"+t._s(t.myRank.rank)+"名")])]):t._e()],2)])])])},i=[],r=a("a34a"),o=a.n(r),l=a("164e"),c=a.n(l),u=a("1195"),d=a.n(u),p=a("3191"),m=a("2b6d");function f(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function v(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){f(i,n,s,r,o,"next",t)}function o(t){f(i,n,s,r,o,"throw",t)}r(void 0)}))}}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var b={data:function(){return{avatar:d.a,queryData:{date:[],parentType:"1",dateType:4,performanceType:0,nodeId:null},totalAmount:0,groups:[],tops:[],myRank:null,tabNameData:["门店应收业绩","门店实收业绩"]}},computed:{userInfo:function(){return this.$store.state.settings.userInfo},storeGroupTreeNodeId:function(){return this.$store.state.settings.userInfo.storeGroupTreeNodeId},nodeType:function(){var t="",e=this.queryData.nodeId;if(e){var a=e.split("-");t=a[0]}return t}},watch:(n={},h(n,"queryData.parentType",(function(){this.performance()})),h(n,"queryData.performanceType",(function(){this.performance()})),h(n,"queryData.nodeId",(function(){this.performance()})),h(n,"queryData.date",(function(t){t&&this.performance()})),h(n,"storeGroupTreeNodeId",(function(t){t&&(this.queryData.nodeId=t,this.performance())})),n),created:function(){this.init()},methods:{init:function(){var t=this.$time().subtract("days",6).format("YYYY-MM-DD"),e=this.$time().format("YYYY-MM-DD");this.queryData.date=[t,e],this.getStoregrouptree(),this.storeGroupTreeNodeId&&(this.queryData.nodeId=this.storeGroupTreeNodeId,this.performance())},clickDate:function(t){if(1==t){var e=this.$time().startOf("week").format("YYYY-MM-DD"),a=this.$time().format("YYYY-MM-DD");this.queryData.date=[e,a]}if(2==t){var n=this.$time().startOf("month").format("YYYY-MM-DD"),s=this.$time().format("YYYY-MM-DD");this.queryData.date=[n,s]}if(3==t){var i=this.$time().startOf("year").format("YYYY-MM-DD"),r=this.$time().format("YYYY-MM-DD");this.queryData.date=[i,r]}this.performance()},performance:function(){var t=this;return v(o.a.mark((function e(){var a,n,s,i,r,l,c,u;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.queryData.date,t.queryData.startDate=a[0],t.queryData.endDate=a[1],e.next=5,Object(p["a"])(t.queryData);case 5:if(n=e.sent,n){e.next=8;break}return e.abrupt("return");case 8:s=n.totalAmount,i=n.groups,r=n.tops,l=n.myRank,t.totalAmount=s,t.groups=i,c=[],u={total:[],xf:[],zl:[],mm:[]},i.forEach((function(t){c.push(t.date),u.total.push(t.totalAmount),u.xf.push(t.houseNewAmount),u.zl.push(t.houseLeaseAmount),u.mm.push(t.houseSellAmount)})),t.tops=r,t.myRank=l,t.drawLine(c,u);case 17:case"end":return e.stop()}}),e)})))()},setTreeValue:function(t){var e=this;t.forEach((function(t){t.value=t.type+"-"+t.id,t.children&&e.setTreeValue(t.children)}))},getStoregrouptree:function(){var t=this;return v(o.a.mark((function e(){var a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["v"])();case 2:a=e.sent,t.storegrouptree=a,t.setTreeValue(t.storegrouptree);case 5:case"end":return e.stop()}}),e)})))()},tabClick:function(t){this.queryData.performanceType=t},drawLine:function(t,e){var a=c.a.init(this.$refs.charts),n={title:{text:"统计周期内合计：¥".concat(this.totalAmount),textStyle:{fontSize:"14px",color:"#333333"}},tooltip:{trigger:"axis"},color:["#3e8ee2","#eb4a97","#c59a33","#8b29f6"],legend:{data:["合计","新房","买卖","租赁"],x:"right",y:"top"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t,axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#cccccc"}}},yAxis:{type:"value",axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:"#cccccc",width:1,type:"dotted"}}},series:[{name:"新房",type:"line",data:e.xf,lineStyle:{normal:{color:"#3e8ee2"}},smooth:!1,itemStyle:{normal:{lineStyle:{width:2,type:"dotted"}}}},{name:"合计",type:"line",data:e.total,lineStyle:{normal:{color:"#8b29f6"}}}]};a.setOption(n)}}},g=b,_=(a("92d4"),a("2877")),y=Object(_["a"])(g,s,i,!1,null,"76aff667",null);e["default"]=y.exports},"0677":function(t,e,a){"use strict";var n=a("78c7"),s=a.n(n);s.a},"0679":function(t,e,a){},"06e2":function(t,e,a){"use strict";var n=a("8de1"),s=a.n(n);s.a},"0730":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit"},[a("el-form",{ref:"form",attrs:{"label-position":"top",size:"small",model:t.formData}},[a("el-row",[a("el-form-item",{staticClass:"el-col-10",attrs:{label:"上级部门"}},[a("el-cascader",{ref:"departmentTree",attrs:{placeholder:"请选择",props:{value:"id",label:"name",checkStrictly:!0},clearable:"",options:t.stores},on:{change:t.changeDepartment},model:{value:t.formData.parentId,callback:function(e){t.$set(t.formData,"parentId",e)},expression:"formData.parentId"}})],1)],1),t._v(" "),a("el-row",[a("el-form-item",{staticClass:"el-col-10 mr4",attrs:{label:"部门名称",prop:"name",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"el-col-10",attrs:{label:"状态",rules:[t.rules.required()]}},[a("el-radio-group",{model:{value:t.formData.state,callback:function(e){t.$set(t.formData,"state",e)},expression:"formData.state"}},[a("el-radio-button",{attrs:{label:!0}},[t._v("启用")]),t._v(" "),a("el-radio-button",{attrs:{label:!1}},[t._v("停用")])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"fm-dialog-footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.close(!1)}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submit}},[t._v("确定")])],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("c24f"),c=a("ed08");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={state:!0,parentId:null,departmentType:null,name:"",id:null},m={props:{options:{type:Object,default:function(){}},stores:{type:Array,default:function(){return[]}}},data:function(){return{rules:o["a"].rules,formData:Object(c["b"])(p)}},watch:{options:{immediate:!0,handler:function(t){var e=this;t.id?this.formData=Object(c["b"])(t):this.formData=Object(c["b"])(p),this.$nextTick((function(){e.$refs.form.clearValidate()}))}}},methods:{close:function(t){this.$emit("close",t)},changeDepartment:function(){var t=this.$refs.departmentTree.getCheckedNodes(!0)||[];this.formData.departmentType=t[0]&&t[0].data.departmentType},submit:function(){var t=this;this.$refs.form.validate(function(){var e=d(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=t.$cloneObj(t.formData),n.parentId&&n.parentId.length&&(n.parentId=n.parentId[n.parentId.length-1]),e.next=6,Object(l["q"])(n);case 6:s=e.sent,s&&(t.$showSuccess("操作成功"),t.$emit("close"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=m,v=(a("b452"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"6678c8ae",null);e["default"]=h.exports},"079a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"enrollment"},[a("div",{staticClass:"wrap flex"},[a("div",{staticClass:"left"},[a("div",{staticClass:"base-info"},[a("div",{staticClass:"head flex-y-center"},[a("el-image",{staticClass:"avatar",attrs:{fit:"cover",src:t.userImg}},[a("img",{attrs:{slot:"error",src:t.avatar},slot:"error"})]),t._v(" "),a("div",{staticClass:"name-wrap"},[a("h3",[t._v(t._s(t.userInfo.realName))]),t._v(" "),a("p",[t._v(t._s(t._f("formatPhone")(t.userInfo.cellphone)))])])],1),t._v(" "),a("div",{staticClass:"body"},[a("p",[t._v("NO."+t._s(t.userInfo.code))]),t._v(" "),a("p",[a("svg-icon",{attrs:{"icon-class":"levels"}}),t._v(" "),a("span",[t._v("\n              "+t._s(t.userInfo.post&&t.userInfo.post.name)),t.userInfo.storeInfo?a("i",[t._v("/")]):t._e(),t._v(t._s(t.userInfo.storeInfo))])],1)])]),t._v(" "),a("ol",{staticClass:"tab"},t._l(t.navs,(function(e,n){return a("li",{key:n,staticClass:"flex-y-center",class:{active:n==t.activeNavIndex},on:{click:function(e){return t.switchTab(n)}}},[a("p",[a("strong",[t._v(t._s(e.label)+" ")])])])})),0)]),t._v(" "),a("div",{staticClass:"right flex1"},[a("el-tabs",{model:{value:t.activeTabName,callback:function(e){t.activeTabName=e},expression:"activeTabName"}},t._l(t.tabs,(function(e,n){return a("el-tab-pane",{key:n,attrs:{label:e,name:e}},[0==n?a("info",{attrs:{isMine:t.isMine},on:{userInfo:t.getUserInfo,fulfill:t.createProcess}}):t._e(),t._v(" "),1==n?a("user-doc",{attrs:{isMine:t.isMine},on:{fulfill:t.createProcess}}):t._e(),t._v(" "),2==n?a("wage-card",{attrs:{isMine:t.isMine},on:{fulfill:t.createProcess}}):t._e(),t._v(" "),3==n?a("electronic-file",{attrs:{isMine:t.isMine},on:{fulfill:t.createProcess}}):t._e(),t._v(" "),4==n?a("user-image",{attrs:{isMine:t.isMine,userImg:t.userImg},on:{fulfill:t.createProcess}}):t._e()],1)})),1)],1)])])},s=[],i=a("a34a"),r=a.n(i),o=a("1195"),l=a.n(o),c=a("aa22"),u=a("005d"),d=a("4ec4"),p=a("e2d2"),m=a("656c"),f=a("e60e");function v(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function h(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){v(i,n,s,r,o,"next",t)}function o(t){v(i,n,s,r,o,"throw",t)}r(void 0)}))}}var b={components:{Info:c["default"],UserDoc:u["default"],UserImage:d["default"],WageCard:p["default"],ElectronicFile:m["default"]},data:function(){return{avatar:l.a,activeNavIndex:0,activeTabName:"基本信息",userImg:"",userInfo:{},navs:[{label:"基本档案",value:0}],isShowOperate:!0,tabs:["基本信息","个人档案","工资卡信息","电子版资料","个人形象"],isMine:!0}},computed:{userId:function(){return this.$store.state.settings.userInfo.userId},dynamicMenu:function(){return this.$store.state.settings.menus}},created:function(){var t=this;this.$root.$on("getUserImg",(function(e){t.userImg=e})),this.setIsMine()},methods:{setIsMine:function(){var t=!0;t="/coc/mine"==this.$route.path||"/work/mine"==this.$route.path||this.$route.params.id===this.$store.state.settings.userInfo.userId,this.isMine=t},createProcess:function(t){var e=this;return h(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={isFinishAll:!1},n[t]=!0,a.next=4,Object(f["b"])({vo:n});case 4:if(s=a.sent,!s){a.next=7;break}return a.abrupt("return");case 7:"isFinishBasic"!=t&&e.$showSuccess("保存成功");case 8:case"end":return a.stop()}}),a)})))()},getUserInfo:function(t){this.userInfo=t,this.userImg=t.avatarPath},switchTab:function(t){this.activeNavIndex=t}}},g=b,_=(a("0e0b"),a("bb714"),a("2877")),y=Object(_["a"])(g,n,s,!1,null,"5c64f75c",null);e["default"]=y.exports},"07eb":function(t,e,a){"use strict";var n=a("dda9"),s=a.n(n);s.a},"08f7":function(t,e,a){"use strict";var n=a("8820"),s=a.n(n);s.a},"094c3":function(t,e,a){},"0a58":function(t,e,a){},"0a8e":function(t,e,a){"use strict";var n=a("a9d9"),s=a.n(n);s.a},"0ab7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"pd20 mb20 mt20"},[a("el-form",{ref:"form",attrs:{model:t.localData,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"grid bd3-b mb10"},[a("el-form-item",{attrs:{label:"钥匙类型",prop:"keyType",rules:[t.rules.number,t.rules.required()]}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.localData.keyType,callback:function(e){t.$set(t.localData,"keyType",e)},expression:"localData.keyType"}},t._l(t.config.keyList,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e+1}})})),1)],1),t._v(" "),t.keyType?a("el-form-item",{attrs:{label:t.keyType,prop:"keyCode",rules:[t.rules.required()]}},[a("el-input",{model:{value:t.localData.keyCode,callback:function(e){t.$set(t.localData,"keyCode",e)},expression:"localData.keyCode"}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"pd10-b bd3-b mb10"},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"备注信息"},model:{value:t.localData.remarkContent,callback:function(e){t.$set(t.localData,"remarkContent",e)},expression:"localData.remarkContent"}})],1),t._v(" "),a("div",[a("div",{staticClass:"flex-between"},[a("p",[t._v("上传附件")]),t._v(" "),a("el-upload",{ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",multiple:"",accept:"image/*","on-progress":function(){t.loading=!0},data:t.uploadData,"on-success":t.uploadSuccess,"show-file-list":!1}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload"}},[t._v("\n              立即上传\n            ")])],1)],1),t._v(" "),a("div",{staticClass:"grid4 mt20"},t._l(t.localData.files,(function(e,n){return a("div",{key:e,staticClass:"pt-r"},[a("el-image",{staticStyle:{width:"100px",height:"90px"},attrs:{src:e,fit:"cover"}}),t._v(" "),a("svg-icon",{staticClass:"icon pointer red pt-a",staticStyle:{left:"93px",top:"-5px"},attrs:{"icon-class":"close2"},on:{click:function(e){return t.localData.files.splice(n,1)}}})],1)})),0)])])],1),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("9a2e"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:{id:{type:[Number,String],required:!0},keyInfo:{type:Object,default:null}},data:function(){return{config:l["a"].config,rules:l["a"].rules,localData:{files:[],houseId:null,keyCode:null,keyType:null,remarkContent:null},loading:!1}},computed:{baseURL:function(){return window.baseURL},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},uploadData:function(){var t=this.token,e=this.userId;return{token:t,userId:e}},keyType:function(){var t=this.localData.keyType;switch(t){case 1:t="钥匙编号";break;case 2:t="电子密码";break}return t}},created:function(){this.setLocalData()},methods:{close:function(){this.$emit("close")},setLocalData:function(){var t=this.keyInfo;t&&(this.localData=t)},uploadSuccess:function(t){this.loading=!1;var e=t.data[0];this.localData.files=this.localData.files||[],this.localData.files.push(e.fileUrl)},save:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.form.validate(function(){var e=u(r.a.mark((function e(a){var n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=t.localData,t.localData.houseId=t.id,s=o["b"],t.keyInfo&&(s=o["f"]),e.next=8,s(n);case 8:i=e.sent,i&&(t.close(),t.$emit("refresh"),t.$root.$emit("houseDetailRefresh"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()}}},p=d,m=(a("a728"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"c9b04c92",null);e["default"]=f.exports},"0b62":function(t,e,a){"use strict";var n=a("c333"),s=a.n(n);s.a},"0bd1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-content"},[a("el-form",{ref:"form",attrs:{size:"small",model:t.formData}},[a("div",{staticClass:"row"},[a("el-form-item",{staticClass:"col",attrs:{label:"选择门店",prop:"storeId",rules:[t.rules.required()]}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:"门店"},model:{value:t.formData.storeId,callback:function(e){t.$set(t.formData,"storeId",e)},expression:"formData.storeId"}},t._l(t.store,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{staticClass:"col",attrs:{label:"费用类型",prop:"feeKind",rules:[t.rules.required()]}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:"类型"},model:{value:t.formData.feeKind,callback:function(e){t.$set(t.formData,"feeKind",e)},expression:"formData.feeKind"}},t._l(t.costType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{staticClass:"col",attrs:{label:"支出金额",prop:"amount",rules:[t.rules.required(),t.rules.m0m69p2]}},[a("el-input",{staticClass:"input",model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",e)},expression:"formData.amount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{staticClass:"col",attrs:{label:"支出日期",prop:"feeDate",rules:[t.rules.required()]}},[a("el-date-picker",{staticClass:"input",attrs:{placeholder:"","picker-options":t.dateRange,type:"date","value-format":"yyyy-MM-dd",format:"yyyy年MM月dd日"},model:{value:t.formData.feeDate,callback:function(e){t.$set(t.formData,"feeDate",e)},expression:"formData.feeDate"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"费用说明",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item-row",attrs:{label:"图片上传"}},[a("el-upload",{staticClass:"dp-f upload-card-small",attrs:{action:"http://localhost:8080","auto-upload":!1,"list-type":"picture-card",fileList:t.fileList,"on-change":t.imgChange,"on-remove":t.imgRemove}},[a("i",{staticClass:"el-icon-plus"})])],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("405f"),l=a("91b6"),c=a("ed08"),u=a("db49");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={props:{type:{type:String,default:"新增"},costType:{type:Array,default:function(){return[]}},store:{type:Array,default:function(){return[]}},detail:{type:Object,default:function(){return{}}}},data:function(){return{formData:{storeId:null,amount:null,attachs:[],feeDate:"",feeKind:"",remark:"",siteId:""},fileList:[]}},watch:{detail:{immediate:!0,handler:function(t){var e=this;"编辑"==this.type?this.$nextTick((function(){for(var a in e.formData)e.formData[a]=t[a];e.formData.id=t.id,e.fileList=e.formData.attachs.map((function(t){return{name:t,url:t}}))})):this.$nextTick((function(){e.$refs.form.resetFields(),e.formData.attachs=[],e.fileList=[]}))}}},computed:{rules:function(){return u["a"].rules},dateRange:function(){var t=(new Date).getDate();return t>6?{disabledDate:function(t){return t.getTime()<Object(c["j"])().month.startVal}}:{}}},created:function(){},methods:{close:function(){this.$emit("close")},submit:function(){var t=this;this.$refs.form.validate(function(){var e=p(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=null,n="新增"==t.type?o["b"]:o["d"],t.formData.siteId=t.$store.state.settings.site.id,e.next=7,n(t.formData);case 7:s=e.sent,s&&(t.$showSuccess("提交成功"),t.$emit("reRequest"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},imgChange:function(t,e){var a=this;return p(r.a.mark((function n(){var s;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,l["a"]({uploadType:"storefee",file:t.raw,dataType:"formData"});case 2:s=n.sent,s?t.url=s[0].fileUrl:e.splice(e.indexOf(t),1),a.formData.attachs=e.map((function(t){return t.url}));case 5:case"end":return n.stop()}}),n)})))()},imgRemove:function(t,e){this.formData.attachs=e.map((function(t){return t.url}))}}},f=m,v=(a("b6c7"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"4a2bb5c6",null);e["default"]=h.exports},"0c11":function(t,e,a){"use strict";var n=a("9cea"),s=a.n(n);s.a},"0d23":function(t,e,a){"use strict";var n=a("7094"),s=a.n(n);s.a},"0d24":function(t,e,a){"use strict";var n=a("9efa"),s=a.n(n);s.a},"0e0b":function(t,e,a){"use strict";var n=a("dcd0"),s=a.n(n);s.a},"0e73":function(t,e,a){},"0eab":function(t,e,a){},"0ed9":function(t,e,a){},"0fac":function(t,e,a){},"0fc8":function(t,e,a){},1:function(t,e){},1003:function(t,e,a){},"10a4":function(t,e,a){},"10b9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"expenditure"},[a("div",{staticClass:"fm-filtrator"},[a("div",{staticClass:"l"},[a("el-date-picker",{attrs:{size:"small",type:"month","value-format":"yyyy-MM-01",format:"yyyy年MM月",placeholder:"选择月","picker-options":t.$disabledFutureDate},on:{change:function(e){return t.search()}},model:{value:t.queryData.feeDate,callback:function(e){t.$set(t.queryData,"feeDate",e)},expression:"queryData.feeDate"}}),t._v(" "),a("el-select",{attrs:{size:"small",clearable:"",placeholder:"类型"},on:{change:function(e){return t.search()}},model:{value:t.queryData.feeKind,callback:function(e){t.$set(t.queryData,"feeKind",e)},expression:"queryData.feeKind"}},t._l(t.configData.costType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})})),1),t._v(" "),a("el-select",{attrs:{size:"small",clearable:"",placeholder:"状态"},on:{change:function(e){return t.search()}},model:{value:t.queryData.status,callback:function(e){t.$set(t.queryData,"status",e)},expression:"queryData.status"}},t._l(t.configData.status,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-select",{attrs:{size:"small",clearable:"",placeholder:"门店"},on:{change:function(e){return t.search()}},model:{value:t.queryData.storeId,callback:function(e){t.$set(t.queryData,"storeId",e)},expression:"queryData.storeId"}},t._l(t.configData.store,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("div",{staticClass:"r"},[a("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.edit("新增")}}},[t._v("添加费用支出")])],1)]),t._v(" "),a("el-table",{staticClass:"mt20",attrs:{data:t.tableData,border:"",size:"small"},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{label:"所属门店",sortable:"",prop:"storeName"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用类型",sortable:"",prop:"feeKind"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用说明",sortable:"",prop:"remark"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用金额",sortable:"",prop:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        ¥"+t._s(t._f("toThousands")(e.row.amount))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"支出日期",sortable:"",prop:"feeDate"}}),t._v(" "),a("el-table-column",{attrs:{label:"图片附件",prop:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.attachs&&e.row.attachs.length?a("span",{staticClass:"blue link-btn",on:{click:function(a){return a.stopPropagation(),t.previewImg(0,e.row.attachs)}}},[t._v("查看图片")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"录入人",sortable:"",prop:"inUserName"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",sortable:"",prop:"statusName"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{red:"待审核"==e.row.statusName,orange:"被驳回"==e.row.statusName}},[a("span",[t._v(t._s(e.row.statusName))]),e.row.auditRemark&&"被驳回"==e.row.statusName?a("el-tooltip",{attrs:{effect:"light","popper-class":"fm-tooltip",content:e.row.auditRemark,placement:"bottom-start"}},[a("i",{staticClass:"el-icon-info"})]):t._e()],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"",width:"220px"},scopedSlots:t._u([{key:"default",fn:function(e){return[2!=e.row.status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.edit(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),1==e.row.status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.checkClick(e.row.id)}}},[t._v("审核")]):t._e(),t._v(" "),2!=e.row.status?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.del(e.row.id)}}},[t._v("删除\n        ")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.queryData.pageSize,"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next","current-page":t.queryData.pageNum,total:t.totalNum},on:{"current-change":t.search,"update:currentPage":function(e){return t.$set(t.queryData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryData,"pageNum",e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.editType+"费用支出",visible:t.toggleEditDialog,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(e){t.toggleEditDialog=e}}},[a("edit-cost",{attrs:{store:t.configData.store,costType:t.configData.costType,type:t.editType,detail:t.rowData},on:{close:function(e){t.toggleEditDialog=!1},reRequest:function(e){t.toggleEditDialog=!1,t.search(t.queryData.pageNum)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"审核",visible:t.toggleCheckDialog,"close-on-click-modal":!1,width:"360px"},on:{"update:visible":function(e){t.toggleCheckDialog=e}}},[a("el-radio-group",{staticClass:"c-flex1 is-checked--orange",attrs:{size:"small"},model:{value:t.checkData.success,callback:function(e){t.$set(t.checkData,"success",e)},expression:"checkData.success"}},[a("el-radio-button",{attrs:{label:1}},[t._v("通过审核")]),t._v(" "),a("el-radio-button",{attrs:{label:0}},[t._v("驳回")])],1),t._v(" "),0==t.checkData.success?a("el-input",{staticClass:"input-bg mt20",attrs:{type:"textarea",placeholder:"请输入驳回理由"},model:{value:t.checkData.auditRemark,callback:function(e){t.$set(t.checkData,"auditRemark",e)},expression:"checkData.auditRemark"}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.toggleCheckDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.checkSubmit}},[t._v("确 定")])],1)],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("0bd1"),l=a("405f"),c=a("acb0"),u=a("73f5");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={components:{EditCost:o["default"]},data:function(){return{date:[],totalNum:0,tableData:[],configData:{status:[{label:"待审核",value:1},{label:"已审核",value:2},{label:"被驳回",value:3}],store:[],costType:[]},queryData:{feeDate:null,feeKind:null,pageNum:0,pageSize:10,siteId:null,sort:null,sortType:null,status:null,storeId:null},checkData:{success:1,auditRemark:""},rowData:null,toggleCheckDialog:!1,toggleEditDialog:!1,editType:"新增"}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){this.queryData.siteId=this.site.id,this.getCostType(),this.getUserStore(),this.search()},methods:{getCostType:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["n"])({dicttype:"6"});case 2:a=e.sent,a&&(t.configData.costType=a);case 4:case"end":return e.stop()}}),e)})))()},getUserStore:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["j"])({siteId:t.site.id});case 2:a=e.sent,a&&(t.configData.store=a);case 4:case"end":return e.stop()}}),e)})))()},search:function(t){var e=this;return p(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s in e.queryData.pageNum="number"==typeof t?t:1,n=JSON.parse(JSON.stringify(e.queryData)),n)n[s]||delete n[s];return a.next=5,Object(l["e"])(n);case 5:i=a.sent,i&&(e.tableData=i.list,e.totalNum=i.total);case 7:case"end":return a.stop()}}),a)})))()},sortChange:function(t){var e={storeName:1,feeKind:2,remark:3,amount:4,feeDate:5,inUserName:6,statusName:7};this.queryData.sortType=t.order?"descending"==t.order?1:0:null,this.queryData.sort=e[t.prop],this.search()},edit:function(t){"新增"==t?(this.editType="新增",this.rowData={}):(this.editType="编辑",this.rowData=t),this.toggleEditDialog=!0},del:function(t){var e=this;this.$confirm("你确定要删除费用吗？","删除费用",{confirmButtonClass:"el-button--danger",confirmButtonText:"删除",type:"warning"}).then((function(){Object(l["c"])({id:t}).then((function(t){t&&(e.$showSuccess("删除成功"),e.search(e.queryData.pageNum))}))})).catch((function(){}))},checkClick:function(t){this.toggleCheckDialog=!0,this.checkData.id=t},checkSubmit:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])(t.checkData);case 2:a=e.sent,a&&(t.$showSuccess("操作成功"),t.toggleCheckDialog=!1,t.checkData.auditRemark="",t.search(t.queryData.pageNum));case 4:case"end":return e.stop()}}),e)})))()},previewImg:function(t,e){this.$root.$emit("showPreview",{urlList:e,index:t})}}},f=m,v=(a("d883"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,null,null);e["default"]=h.exports},"10fe":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"getTab",rawName:"v-getTab",value:t.getTab,expression:"getTab"}],staticClass:"container"},[a("div",{staticClass:"head"},[a("h2",{staticClass:"fm-title20"},[t._v("业绩管理")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"bg-img"},[a("img",{attrs:{src:t.bgImg}})])]),t._v(" "),a("el-tabs",{staticClass:"store-cost-tabs",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t._l(t.tabs,(function(t,e){return[a("el-tab-pane",{key:e,attrs:{label:t.value,name:""+(e+1)}},[a(t.component,{tag:"component"})],1)]}))],2)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tips"},[a("p",[t._v("\n        应收业绩：报备成交确认后或合同录入系统后，由相关审核人员审核确认的预计收益业绩；\n      ")]),t._v(" "),a("p",[t._v("\n        实收业绩：根据佣金结算（新房分销）或合同收款（买卖/租赁）核算出来的实际收款业绩\n      ")])])}],i=a("521c"),r=a("bf0e"),o=a("dee5"),l=a("6333"),c=a.n(l),u={components:{performanceSummary:i["default"],performance:r["default"],performanceReceivable:o["default"]},data:function(){return{bgImg:c.a,activeName:"",tabs:[{component:"performanceSummary",value:"业绩汇总"},{component:"performance",value:"应收业绩明细"},{component:"performanceReceivable",value:"实收业绩明细"}]}},mounted:function(){this.activeName="1"},methods:{getTab:function(t){this.activeName=t}}},d=u,p=(a("337d"),a("c38e"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"cbf3cc5c",null);e["default"]=m.exports},1142:function(t,e,a){},1195:function(t,e,a){t.exports=a.p+"img/avatar.f1ca2b1e.png"},"13f8":function(t,e,a){"use strict";var n=a("942d"),s=a.n(n);s.a},1509:function(t,e,a){"use strict";var n=a("9bf2"),s=a.n(n);s.a},1534:function(t,e,a){"use strict";var n=a("5841"),s=a.n(n);s.a},"157f":function(t,e,a){"use strict";var n=a("6bc5"),s=a.n(n);s.a},"165c":function(t,e,a){},"16ad":function(t,e,a){},"172d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dao-box"},[a("div",{staticClass:"main"},[a("div",{staticClass:"title x3 aic"},[a("p",{staticClass:"fs18 color3"},[t._v("区域商圈")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.addArea}},[t._v("\n        添加区域\n      ")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序",sortable:"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"区域",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"商圈"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},t._l(e.row.children,(function(e){return a("span",{key:e.id},[t._v("\n              "+t._s(e.name)+"\n            ")])})),0)}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.editArea(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),"演示站点"!=e.row.name?a("el-button",{staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.delArea(e.$index,e.row)}}},[t._v("删除")]):t._e()]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{"close-on-click-modal":!1,title:t.title[t.editType-1]+"区域",visible:t.areaFlag},on:{"update:visible":function(e){t.areaFlag=e}}},[a("el-form",{ref:"areaForm",attrs:{model:t.areaForm,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"fr3"},[a("el-form-item",{attrs:{label:"城市站点",prop:"siteId",rules:[{required:!0,message:"不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.areaForm.siteId,callback:function(e){t.$set(t.areaForm,"siteId",e)},expression:"areaForm.siteId"}},t._l(t.sites,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"区域名称",prop:"areaName",rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{attrs:{type:"areaName",autocomplete:"off"},model:{value:t.areaForm.areaName,callback:function(e){t.$set(t.areaForm,"areaName",e)},expression:"areaForm.areaName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{type:"sort"},model:{value:t.areaForm.sort,callback:function(e){t.$set(t.areaForm,"sort",t._n(e))},expression:"areaForm.sort"}})],1)],1),t._v(" "),a("div",{staticClass:"fr3"},t._l(t.areaForm.businessAreaName,(function(e,n){return a("el-form-item",{key:n,attrs:{label:"商圈名称"+(n+1),prop:"businessAreaName."+n,rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{model:{value:t.areaForm.businessAreaName[n],callback:function(e){t.$set(t.areaForm.businessAreaName,n,e)},expression:"areaForm.businessAreaName[index]"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(e){return t.delAreaName(n)}},slot:"append"})],1)],1)})),1),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.addAreaName}},[t._v("+添加更多商圈")])],1)]),t._v(" "),a("div",{staticClass:"save"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("acb0");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={businessAreaName:[""],siteId:"",areaName:"",sort:null},d={data:function(){return{areaFlag:!1,areaForm:JSON.parse(JSON.stringify(u)),tableData:[],editType:1,title:["创建","编辑"],sites:[]}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){this.gettableData(),this.getSites()},methods:{getSites:function(){var t=this;return c(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["r"])();case 2:a=e.sent,t.sites=a;case 4:case"end":return e.stop()}}),e)})))()},addArea:function(){var t=this;this.areaForm=JSON.parse(JSON.stringify(u)),this.editType=1,this.areaFlag=!0,this.$nextTick((function(){t.$refs.areaForm.clearValidate(),t.areaForm=JSON.parse(JSON.stringify(u))}))},editArea:function(t,e){var a=e.id,n=e.name,s=e.sort,i=e.children,r=e.siteId,o=[];i.forEach((function(t){o.push(t.name)}));var l={areaId:a,businessAreaName:o,siteId:r,areaName:n,sort:s};this.areaForm=l,this.editType=2,this.areaFlag=!0},delArea:function(t,e){var a=this;return c(r.a.mark((function n(){var s,i;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={id:e.id},n.next=3,Object(o["e"])(s);case 3:i=n.sent,i&&a.tableData.splice(t,1);case 5:case"end":return n.stop()}}),n)})))()},gettableData:function(){var t=this;return c(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(o["c"])(a);case 3:n=e.sent,t.tableData=n;case 5:case"end":return e.stop()}}),e)})))()},delAreaName:function(t){this.areaForm.businessAreaName.length>1&&this.areaForm.businessAreaName.splice(t,1)},addAreaName:function(){this.areaForm.businessAreaName.push("")},save:function(){var t=this;this.$refs.areaForm.validate(function(){var e=c(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return n=t.areaForm,n.editType=t.editType,e.next=5,Object(o["l"])(n);case 5:s=e.sent,s&&(t.$showSuccess("操作成功"),t.areaFlag=!1,t.gettableData()),e.next=10;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},p=d,m=(a("fee2"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"b3cef820",null);e["default"]=f.exports},1761:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",label:"员工状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.workingStatus[e.row.workingStatus])+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"distributeRuleDesc",label:"分配规则"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$own(t.pBtn,"bj")&&1!=e.row.workingStatus?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.edit(e.row)}}},[t._v("\n            编辑\n          ")]):a("span",[t._v("-")])]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{"close-on-click-modal":!1,title:"“"+t.title+"”业绩分配规则",visible:t.formFlag,width:"600px"},on:{"update:visible":function(e){t.formFlag=e}}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"150px","label-position":"top"}},[a("el-form-item",{attrs:{label:"分配规则",prop:"distributeRule",rules:[t.rules.required()]}},[a("el-radio-group",{model:{value:t.formData.distributeRule,callback:function(e){t.$set(t.formData,"distributeRule",e)},expression:"formData.distributeRule"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("\n            划拨给公司\n          ")]),t._v(" "),a("el-radio-button",{attrs:{label:"2"}},[t._v("\n            划拨给本人\n          ")])],1)],1),t._v(" "),a("div",{staticClass:"tip"},[a("p",{staticClass:"fs13 color9"},[t._v("\n          • 划拨给公司：纳入公司或部门实收业绩，不参与个人业绩提成；\n        ")]),t._v(" "),a("p",{staticClass:"fs13 color9"},[t._v("\n          • 划拨给本人：纳入个人实收业绩，参与个人业绩提成；\n        ")])])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.formFlag=!1}}},[t._v("\n        取消\n      ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n        保存\n      ")])],1)],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("p",{staticClass:"fs18 bold"},[t._v("\n      实收业绩分配规则\n    ")])])}],i=a("a34a"),r=a.n(i),o=a("acb0"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={data:function(){return{formFlag:!1,formData:{distributeRule:"1"},tableData:[],title:"",workingStatus:{1:"在职员工",2:"非在职员工"}}},computed:{rules:function(){return l["a"].rules},pBtn:function(){return this.$route.meta.authActions||[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["p"])();case 2:a=e.sent,t.tableData=a;case 4:case"end":return e.stop()}}),e)})))()},edit:function(t){var e=this;return u(r.a.mark((function a(){return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.formFlag=!0,e.formData={distributeRule:t.distributeRule},e.title=e.workingStatus[t.workingStatus],e.$nextTick((function(){e.$refs.form.clearValidate()}));case 4:case"end":return a.stop()}}),a)})))()},save:function(){var t=this;this.$refs.form.validate(function(){var e=u(r.a.mark((function e(a){var n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,Object(o["k"])(t.formData);case 3:n=e.sent,n&&(t.getList(),t.formFlag=!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},p=d,m=(a("063c"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"03bc3104",null);e["default"]=f.exports},1773:function(t,e,a){"use strict";var n=a("8fc8"),s=a.n(n);s.a},"17e1":function(t,e,a){t.exports=a.p+"img/icon_fangkan.723905e4.png"},"17fb":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODY4NEU0MDMwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODY4NEU0MDQwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Njg0RTQwMTBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Njg0RTQwMjBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpRMqzsAAAGpSURBVHjaYvz//z8DMWD16tUwpgUQt0NpDoaBAT+A+AQQV0JphtDQUKI0spBokRUQ7wdiNiD+DMTPKHQ4yH45IP4FxE9I0CcKxA5AfBCInYD4KCkWkgJaoZ5tBOImIP5HoYdBnn0IxDeBWI8EfUxAXAfE9UDcAsSOpGgkBYCS8RcqeZYS8A/qhi9QNzHQysOgPPtugD2L7Ol3pJYjTAwjDIx6eNTDox4e9fCQAiwDbD+oWkmH0iPCw6CGw6zRJD3q4VEPj3p4qHhYBlpCHxkpHgbZLwjEfKNJehDVwyA9SmToAw3h/MIhx0ammSz08LAUEN8lQx9oCOcyDjl1Ms2kSwz/wuNwfOA7AblrZJipC00dNPXwCyA2oXLA3yHTTNAAoNxooTXq4cHXW3o60vrDo0l61MOjHh718JDwsBgQ72ag47jWQJfSoIkwFzKbqnSJYdDMu9AgyQrMULf8oKWHQcsLeBggk9HMA+zZWqhbTtAySVcB8QEGyMx7GamhiyfAtRhIG4wHZQVOaM+tipYePg7E9gyIRS2CVIwxQRKz1n6oZ0mKYYAAAwAblUmGahZjdQAAAABJRU5ErkJggg=="},"183f":function(t,e,a){"use strict";var n=a("51ee"),s=a.n(n);s.a},"184a":function(t,e,a){},1852:function(t,e,a){},"18bc":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"d",(function(){return l}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/house/image/lib/".concat(t),method:"get"})}function i(t){return Object(n["a"])({url:"/api/v1/fm/house/survey/audited/".concat(t),method:"get"})}function r(t){return Object(n["a"])({url:"/api/v1/fm/house/survey/".concat(t),method:"get"})}function o(t,e){return Object(n["a"])({url:"/api/v1/fm/house/survey/".concat(t),method:"post",data:e})}function l(t,e,a){return Object(n["a"])({url:"/api/v1/fm/house/survey/".concat(t,"/").concat(e),method:"put",data:a})}},1903:function(t,e,a){"use strict";var n=a("bcce"),s=a.n(n);s.a},"1b3b":function(t,e,a){},"1bcc":function(t,e,a){},"1be9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dao-box"},[a("div",{staticClass:"dictionary"},[a("el-tabs",{staticClass:"tabs",attrs:{"tab-position":"left"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabs,(function(e,n){return a("el-tab-pane",{key:e.value},[a("div",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[a("svg-icon",{attrs:{"icon-class":"nut"}}),t._v(" "),a("p",[t._v(t._s(e.name))])],1),t._v(" "),t.activeName==n?a(e.value,{tag:"component"}):t._e()],1)})),1)],1)])},s=[],i=a("7b02"),r=a("58cd"),o=a("3e90"),l=a("28ee"),c=a("23f3"),u=a("33e8"),d=a("5b1b"),p=a("1761"),m=a("bc8e"),f={components:{sites:i["default"],areas:r["default"],building:o["default"],houseSource:l["default"],language:u["default"],costTypes:c["default"],bank:d["default"],performanceAllocationRules:p["default"],performance:m["default"]},data:function(){return{activeName:0,tabs:[{name:"门店费用类型",value:"costTypes"},{name:"收款银行设置",value:"bank"},{name:"业绩分配规则",value:"performanceAllocationRules"},{name:"业绩提成设置",value:"performance"}]}}},v=f,h=(a("211a"),a("2877")),b=Object(h["a"])(v,n,s,!1,null,"57f7db29",null);e["default"]=b.exports},"1c51":function(t,e,a){},"1c5b":function(t,e,a){},"1cbe":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview flex"},t._l(t.list,(function(e,n){return a("div",{key:n,staticClass:"cell flex1"},[a("p",{staticClass:"color9 title"},[t._v("\n      "+t._s(e.name)+"\n    ")]),t._v(" "),a("p",{staticClass:"value"},[t._v("\n      "+t._s(t._f("toThousands")(t._f("toInt")(e.value)))+"\n    ")])])})),0)},s=[],i=a("a34a"),r=a.n(i),o=a("48fb");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={data:function(){return{list:[]}},created:function(){this.overview()},methods:{overview:function(){var t=this;return c(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])();case 2:a=e.sent,t.list=a;case 4:case"end":return e.stop()}}),e)})))()}}},d=u,p=(a("d9cd"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"2c4c3046",null);e["default"]=m.exports},"1cd5":function(t,e,a){"use strict";var n=a("df95"),s=a.n(n);s.a},"1d4d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-col"},[a("div",{staticClass:"flex1 flex-center"},[t.imgList.length?a("el-image",{staticClass:"cell",attrs:{fit:"cover",src:t.imgList[0],"preview-src-list":t.imgList}}):a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",accept:"image/*",data:t.uploadData,"on-progress":function(){t.loading=!0},"on-success":t.uploadSuccess,"show-file-list":!1}},[a("el-image",{staticClass:"cell",attrs:{fit:"fill",src:t.image}})],1)],1),t._v(" "),a("div",{staticClass:"flex-end h4 mt20"},[t.imgList.length?[a("el-upload",{ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",accept:"image/*",data:t.uploadData,"on-success":t.uploadSuccess,"show-file-list":!1}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload"}},[t._v("\n          重新上传\n        ")])],1),t._v(" "),a("el-button",{staticClass:"ml10",attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:t.delImg}},[t._v("\n        删除图片\n      ")])]:t._e()],2)])},s=[],i=a("a34a"),r=a.n(i),o=a("cf55"),l=a.n(o),c=a("1fa6");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{image:{default:l.a},id:{type:[Number,String],required:!0},data:{type:Object,required:!0}},data:function(){return{imgList:[],loading:!1}},computed:{baseURL:function(){return window.baseURL},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},uploadData:function(){var t=this.token,e=this.userId;return{token:t,userId:e}}},created:function(){this.data&&this.data.files&&(this.imgList=JSON.parse(JSON.stringify(this.data.files)))},methods:{uploadSuccess:function(t){this.loading=!1;var e=t.data[0];this.imgList=[e.fileUrl],this.createFile()},delImg:function(){this.imgList=[],this.createFile(!0)},createFile:function(t){var e=this;return d(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=[],t||(n=e.imgList),s={fileType:e.data.fileType,files:n},a.next=5,Object(c["b"])(e.id,s);case 5:i=a.sent,i&&e.$emit("refresh");case 7:case"end":return a.stop()}}),a)})))()}}},m=p,f=(a("9047"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"1f8d1256",null);e["default"]=v.exports},"1de8":function(t,e,a){},"1e11":function(t,e,a){"use strict";var n=a("f22a"),s=a.n(n);s.a},"1f27":function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"e",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"f",(function(){return c})),a.d(e,"g",(function(){return u}));var n=a("b775"),s=function(t){return Object(n["a"])({url:"/api/v1/fm/dic/editMenu",method:"post",data:t})},i=function(t){return Object(n["a"])({url:"/api/v1/fm/dic/deleteMenu",method:"post",data:t})},r=function(t){return Object(n["a"])({url:"/api/v1/fm/dic/getAllMenu",method:"post",data:t})},o=function(t){return Object(n["a"])({url:"/api/v1/fm/dic/getMenuList",method:"post",data:t})},l=function(t){return Object(n["a"])({url:"/api/v1/fm/auth/companyAllMenuTree",method:"get",data:t})},c=function(t){return Object(n["a"])({url:"/api/v1/fm/auth/operationAllMenuTree",method:"get",data:t})},u=function(t,e){return Object(n["a"])({url:"/api/v1/fm/auth/auth/".concat(e),method:"post",data:t})}},"1f84":function(t,e,a){},"1fa6":function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return l}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/house/entrust/".concat(t,"/entrust/files"),method:"get"})}function i(t){return Object(n["a"])({url:"/api/v1/fm/house/entrust/".concat(t,"/detail"),method:"get"})}function r(t,e){return Object(n["a"])({url:"/api/v1/fm/house/entrust/create/".concat(t,"/file"),method:"post",data:e})}function o(t){return Object(n["a"])({url:"/api/v1/fm/house/entrust/create",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/api/v1/fm/house/entrust/update",method:"put",data:t})}},"1fa8f":function(t,e,a){"use strict";var n=a("7f56"),s=a.n(n);s.a},"1fea":function(t,e,a){"use strict";var n=a("8611"),s=a.n(n);s.a},2:function(t,e){},2009:function(t,e,a){"use strict";var n=a("edf1"),s=a.n(n);s.a},"200a":function(t,e,a){},2019:function(t,e,a){"use strict";var n=a("859d"),s=a.n(n);s.a},2026:function(t,e,a){"use strict";var n=a("792f"),s=a.n(n);s.a},2039:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})},s=[],i=a("a34a"),r=a.n(i),o=a("164e"),l=a.n(o),c=a("9754");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{className:{type:String,default:"my-chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},data:function(){return{chart:null,Abscissa:[],ChCenterAll:[],ChCountAll:[],ChNewCityAll:[]}},created:function(){this.getDealVolumeByHistory()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getDealVolumeByHistory:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,o,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={QueryDealType:1,QueryDealTimeType:0},e.next=3,Object(c["b"])(a);case 3:n=e.sent,s=n.Abscissa,i=n.ChCountAll,o=n.ChCenterAll,l=n.ChNewCityAll,s=s.map((function(t){return t+"周"})),t.Abscissa=s.reverse(),t.ChCountAll=i.reverse(),t.ChCenterAll=o.reverse(),t.ChNewCityAll=l.reverse(),t.initChart();case 11:case"end":return e.stop()}}),e)})))()},initChart:function(){var t=this.Abscissa,e=this.ChCenterAll,a=this.ChCountAll,n=this.ChNewCityAll;this.chart=l.a.init(document.getElementById(this.id));var s={tooltip:{trigger:"axis"},color:["#5AC54F","#9C7AF1","#28C0FF"],legend:{data:["全市","中心城市","郊区新城"],x:"right",y:"top"},grid:{left:"0",right:"1%",bottom:"0",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t,axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#cccccc"}}},yAxis:{type:"value",axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:"#cccccc",width:1,type:"solid"}}},series:[{name:"全市",type:"line",smooth:!0,showSymbol:!1,data:a,lineStyle:{normal:{color:"#5AC54F"}}},{name:"中心城市",type:"line",smooth:!0,showSymbol:!1,data:e,lineStyle:{normal:{color:"#9C7AF1"}}},{name:"郊区新城",type:"line",smooth:!0,showSymbol:!1,data:n,lineStyle:{normal:{color:"#28C0FF"}}}]};this.chart.setOption(s)}}},m=p,f=a("2877"),v=Object(f["a"])(m,n,s,!1,null,null,null);e["default"]=v.exports},"203a":function(t,e,a){t.exports=a.p+"img/notification.b3a4ac89.png"},2046:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})},s=[],i=a("a34a"),r=a.n(i),o=a("164e"),l=a.n(o),c=a("9754");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{className:{type:String,default:"my-chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},data:function(){return{chart:null,Abscissa:[],ShCenterAll:[],ShCountAll:[],ShNewCityAll:[]}},created:function(){this.getDealVolumeByHistory()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getDealVolumeByHistory:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,o,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={QueryDealType:2,QueryDealTimeType:0},e.next=3,Object(c["b"])(a);case 3:n=e.sent,s=n.Abscissa,i=n.ShCenterAll,o=n.ShCountAll,l=n.ShNewCityAll,s=s.map((function(t){return t+"周"})),t.Abscissa=s.reverse(),t.ShCenterAll=i.reverse(),t.ShCountAll=o.reverse(),t.ShNewCityAll=l.reverse(),t.initChart();case 11:case"end":return e.stop()}}),e)})))()},initChart:function(){var t=this.Abscissa,e=this.ShCenterAll,a=this.ShCountAll,n=this.ShNewCityAll;this.chart=l.a.init(document.getElementById(this.id));var s={tooltip:{trigger:"axis"},color:["#5AC54F","#9C7AF1","#28C0FF"],legend:{data:["全市","中心城市","郊区新城"],x:"right",y:"top"},grid:{left:"0",right:"1%",bottom:"0",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t,axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#cccccc"}}},yAxis:{type:"value",axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:"#cccccc",width:1,type:"solid"}}},series:[{name:"全市",type:"line",smooth:!0,showSymbol:!1,data:a,lineStyle:{normal:{color:"#5AC54F"}}},{name:"中心城市",type:"line",smooth:!0,showSymbol:!1,data:e,lineStyle:{normal:{color:"#9C7AF1"}}},{name:"郊区新城",type:"line",smooth:!0,showSymbol:!1,data:n,lineStyle:{normal:{color:"#28C0FF"}}}]};this.chart.setOption(s)}}},m=p,f=a("2877"),v=Object(f["a"])(m,n,s,!1,null,null,null);e["default"]=v.exports},"20fd":function(t,e,a){"use strict";var n=a("b8c6"),s=a.n(n);s.a},2117:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[a("div",{staticClass:"title"},[a("div",{staticClass:"l fm-filtrator"},[a("div",{staticClass:"x"},[a("el-input",{staticClass:"search-input",attrs:{"prefix-icon":"el-icon-search",placeholder:"公司名称",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.query.keyword,callback:function(e){t.$set(t.query,"keyword",e)},expression:"query.keyword"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("\n          搜索\n        ")])],1),t._v(" "),a("el-select",{attrs:{clearable:"",size:"small",placeholder:"状态"},on:{change:t.search},model:{value:t.query.locked,callback:function(e){t.$set(t.query,"locked",e)},expression:"query.locked"}},[a("el-option",{attrs:{label:"锁定",value:!0}}),t._v(" "),a("el-option",{attrs:{label:"正常",value:!1}})],1)],1),t._v(" "),a("div",{staticClass:"r"},[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.tj,expression:"tj"}],attrs:{type:"primary",size:"small",plain:""},on:{click:t.addItem}},[t._v("\n        创建公司\n      ")])],1)]),t._v(" "),a("el-table",{staticClass:"table",attrs:{border:"",data:t.list,size:"small"}},[a("el-table-column",{attrs:{prop:"companyName",label:"公司名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contacterName",label:"公司联系人"}}),t._v(" "),a("el-table-column",{attrs:{label:"联系电话"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("formatPhone")(e.row.contacterPhone))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.locked?"锁定":"正常")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createUserName",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"x4 aic"},[a("span",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],staticClass:"btn blue",on:{click:function(a){return t.editItem(e.row)}}},[t._v("\n          编辑\n        ")]),t._v(" "),a("span",{directives:[{name:"permit",rawName:"v-permit",value:t.sc,expression:"sc"}],staticClass:"btn red",on:{click:function(a){return t.deleteItem(e.row)}}},[t._v("\n          删除\n        ")])])}}])})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.query.pageSize,"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next","current-page":t.query.pageNum,total:t.total},on:{"current-change":t.pageNumChange,"update:currentPage":function(e){return t.$set(t.query,"pageNum",e)},"update:current-page":function(e){return t.$set(t.query,"pageNum",e)}}})],1),t._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"close-on-click-modal":!1,title:t.formTitle,visible:t.showDialog,width:"500px"},on:{"update:visible":function(e){t.showDialog=e}}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"公司名称",prop:"companyName",rules:[t.formRules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.companyName,callback:function(e){t.$set(t.formData,"companyName",e)},expression:"formData.companyName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"品牌LOGO",prop:"logo"}},[a("div",{staticClass:"logo",style:"background-image: url("+t.formData.logoUrl+")"},[a("div",{staticClass:"height",class:{mask:!!t.formData.logoUrl}},[a("el-upload",{ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",accept:"image/*",data:t.uploadData,"on-progress":function(){t.loading=!0},"on-success":t.upload,"show-file-list":!1}},[a("el-button",{staticClass:"upload-btn"},[t._v("\n                "+t._s(t.formData.logoUrl?"重新上传":"立即上传")+"\n              ")])],1)],1)]),t._v(" "),a("p",{staticClass:"color9"},[t._v("建议宽度不超过130px，高度不超过30px；")])]),t._v(" "),a("el-form-item",{attrs:{label:"联系人",prop:"contacterName",rules:[t.formRules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.contacterName,callback:function(e){t.$set(t.formData,"contacterName",e)},expression:"formData.contacterName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"contacterPhone",rules:[t.formRules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.contacterPhone,callback:function(e){t.$set(t.formData,"contacterPhone",e)},expression:"formData.contacterPhone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"locked",rules:[t.formRules.required()]}},[a("el-radio-group",{model:{value:t.formData.locked,callback:function(e){t.$set(t.formData,"locked",e)},expression:"formData.locked"}},[a("el-radio-button",{attrs:{label:!1}},[t._v("正常")]),t._v(" "),a("el-radio-button",{attrs:{label:!0}},[t._v("锁定")])],1)],1)],1),t._v(" "),"创建公司"==t.formTitle?[a("div",{staticClass:"line"}),t._v(" "),a("el-form",{ref:"form2",attrs:{model:t.formData,"label-position":"top"}},[a("el-form-item",{attrs:{label:"是否在FYB系统中同步创建该企业",prop:"vipType",rules:[t.formRules.required()]}},[a("el-radio-group",{model:{value:t.formData.vipType,callback:function(e){t.$set(t.formData,"vipType",e)},expression:"formData.vipType"}},[a("el-radio-button",{attrs:{label:"NORMAL"}},[t._v("\n              创建“普通会员”企业\n            ")]),t._v(" "),a("el-radio-button",{attrs:{label:"VIP"}},[t._v("创建“VIP会员”企业")])],1)],1)],1)]:t._e(),t._v(" "),a("div",{staticClass:"x2"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("保存")])],1)],2)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("fcac"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={logoUrl:"",companyName:"",contacterName:"",contacterPhone:"",isSyncFyb:!1,vipType:null,locked:!1},p={data:function(){return{loading:!1,total:0,list:[],query:{locked:null,keyword:"",siteId:null,pageSize:10,pageNum:1},showDialog:!1,formTitle:"",formRules:l["a"].rules,formData:JSON.parse(JSON.stringify(d))}},computed:{baseURL:function(){return window.baseURL},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},uploadData:function(){var t=this.token,e=this.userId;return{token:t,userId:e}},site:function(){return this.$store.state.settings.site}},created:function(){this.query.siteId=this.site.id,this.getCompanyList()},methods:{getCompanyList:function(){var t=this;return u(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.query);case 2:a=e.sent,n=a.total,s=a.list,t.total=n,t.list=s;case 6:case"end":return e.stop()}}),e)})))()},search:function(){this.query.pageNum=1,this.getCompanyList()},addItem:function(){var t=this;this.formTitle="创建公司",this.showDialog=!0,this.$nextTick((function(){t.$refs.form.resetFields(),t.formData=JSON.parse(JSON.stringify(d)),t.formData.isSyncFyb=!0,t.formData.vipType="NORMAL"}))},editItem:function(t){var e=this;this.formTitle="编辑公司",this.showDialog=!0,this.$nextTick((function(){e.$refs.form.resetFields(),e.formData=JSON.parse(JSON.stringify(t))}))},submitForm:function(){var t=this,e=!1;this.$refs.form2?this.$refs.form2.validate(function(){var t=u(r.a.mark((function t(a){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:e=!0;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):e=!0,this.$refs.form.validate(function(){var a=u(r.a.mark((function a(n){var s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n&&e){a.next=2;break}return a.abrupt("return");case 2:return delete t.formData.createDate,a.next=5,Object(o["a"])(t.formData);case 5:s=a.sent,s&&(t.showDialog=!1,t.search());case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},deleteItem:function(t){var e=this;this.$showConfirm((function(){Object(o["b"])(t.id).then((function(){e.$message({message:"删除成功",type:"success"}),e.search()}))}))},pageNumChange:function(t){this.query.pageNum=t,this.getCompanyList()},upload:function(t){this.loading=!1;var e=t.data[0];this.formData.logoUrl=e.fileUrl}}},m=p,f=(a("ed49"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"148d0800",null);e["default"]=v.exports},"211a":function(t,e,a){"use strict";var n=a("66e3"),s=a.n(n);s.a},2144:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return o}));var n=a("b775");function s(t,e){return Object(n["a"])({url:"/api/v1/fm/follow/house/create/".concat(t),method:"post",data:e})}var i=function(t){return Object(n["a"])({url:"/api/v1/fm/follow/house/".concat(t.houseId),method:"get",data:t})},r=function(t){return Object(n["a"])({url:"/api/v1/fm/follow/top/".concat(t)})},o=function(t){return Object(n["a"])({url:"/api/v1/fm/follow/top/cancel/".concat(t)})}},"216e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu"},[a("div",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v("岗位列表")]),t._v(" "),a("span",{staticClass:"btn",on:{click:t.addPosition}},[t._v("[新增]")])]),t._v(" "),t._l(t.positions,(function(e,n){return a("div",{key:n,staticClass:"item",class:{active:n==t.menuIndex},on:{click:function(a){return t.handleMenuClick(n,e)}}},[a("div",{staticClass:"icon-group"},[-1!=e.id?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"delete2"},on:{click:function(a){return t.deletePosition(e.id)}}}):t._e()],1),t._v(" "),a("div",{staticClass:"text"},[t._v(t._s(e.name))])])}))],2)},s=[],i=a("c24f"),r={data:function(){return{positions:[],menuIndex:0}},created:function(){this.getPositions()},methods:{getPositions:function(){var t=this;Object(i["n"])().then((function(e){t.positions=e,t.$emit("position",e[0])}))},editPosition:function(t){this.$emit("edit",t)},deletePosition:function(t){this.$emit("del",t)},handleMenuClick:function(t,e){this.menuIndex=t,this.$emit("position",e)},addPosition:function(){this.$emit("add",!0)}}},o=r,l=(a("c5df"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"2893025c",null);e["default"]=c.exports},"21a2":function(t,e,a){},2202:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{width:"540px",visible:t.show,title:"设置报备专员","close-on-click-modal":!1,"before-close":t.close},on:{"update:visible":function(e){t.show=e}}},[a("div",[a("div",[a("p",{staticClass:"color9"},[t._v("项目名称")]),t._v(" "),a("p",{staticClass:"fs16 bold",staticStyle:{margin:"16px 0"}},[t._v("\n          "+t._s(t.estateName)+"\n        ")])]),t._v(" "),a("div",[a("p",{staticClass:"color9"},[a("span",{staticClass:"red"},[t._v("*")]),t._v("\n          报备专员（负责该项目报备带看相关审核、咨询等，最多可以添加5人）\n        ")]),t._v(" "),t._l(t.reporterList,(function(e,n){return a("div",{key:n,staticClass:"x aic",staticStyle:{"margin-top":"10px"}},[a("el-select",{staticStyle:{width:"255px"},attrs:{placeholder:"请输入"},model:{value:e.id,callback:function(a){t.$set(e,"id",a)},expression:"item.id"}},t._l(t.chooseList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),t.reporterList.length>1?a("svg-icon",{staticClass:"del-icon pointer",attrs:{"icon-class":"delete"},on:{click:function(e){return e.stopPropagation(),t.deleteReporter(n)}}}):t._e()],1)}))],2),t._v(" "),a("el-button",{staticStyle:{margin:"20px 0"},attrs:{size:"medium"},on:{click:t.addMore}},[t._v("\n        +添加更多\n      ")]),t._v(" "),a("div",{staticClass:"x2"},[a("el-button",{attrs:{size:"medium"},on:{click:t.close}},[t._v("\n          取消\n        ")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.createCommissioner}},[t._v("\n          保存\n        ")])],1)],1)])],1)},s=[],i=a("a34a"),r=a.n(i),o=a("6e6f");function l(t){return p(t)||d(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return m(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(t,e):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function p(t){if(Array.isArray(t))return m(t)}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function f(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function v(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){f(i,n,s,r,o,"next",t)}function o(t){f(i,n,s,r,o,"throw",t)}r(void 0)}))}}var h={components:{},props:{show:{type:Boolean,default:!0},estateName:null,estateId:null},data:function(){return{chooseList:[],reporterList:[{id:null}]}},watch:{estateId:{immediate:!0,handler:function(t){t&&this.getCommissioner(t)}}},created:function(){this.getList()},methods:{close:function(){this.$emit("close",!1)},refresh:function(){this.$emit("refresh")},getList:function(){var t=this;return v(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["e"])();case 2:a=e.sent,t.chooseList=a||[];case 4:case"end":return e.stop()}}),e)})))()},getCommissioner:function(t){var e=this;return v(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["d"])(t);case 2:n=a.sent,e.reporterList=JSON.parse(JSON.stringify([{id:null}])),s=n||[],s.length&&(e.reporterList=s);case 6:case"end":return a.stop()}}),a)})))()},createCommissioner:function(){var t=this;return v(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=[],t.reporterList.forEach((function(t){t.id&&a.push(t.id)})),a=l(new Set(a)),a.length){e.next=6;break}return t.$showError("请选择报备专员"),e.abrupt("return");case 6:return n={userIds:a},e.next=9,Object(o["a"])(n,t.estateId);case 9:s=e.sent,s&&(t.close(),t.refresh());case 11:case"end":return e.stop()}}),e)})))()},deleteReporter:function(t){this.reporterList.splice(t,1)},addMore:function(){this.reporterList.length<5&&this.reporterList.push({id:null})}}},b=h,g=(a("a175"),a("2877")),_=Object(g["a"])(b,n,s,!1,null,"1de0cbd2",null);e["default"]=_.exports},"22fb":function(t,e,a){t.exports=a.p+"img/login_bg.a575e594.png"},2327:function(t,e,a){"use strict";var n=a("79e9"),s=a.n(n);s.a},"23e7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"menu"},[a("div",[a("svg-icon",{attrs:{"icon-class":"refresh"},on:{click:t.refresh}})],1),t._v(" "),a("p",[t._v("当前位置:")])]),t._v(" "),a("div",{staticClass:"main"},[a("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"-"}},t._l(t.levelList,(function(e,n){return a("el-breadcrumb-item",{key:n},["noRedirect"===e.redirect||n==t.levelList.length-1?a("span",{staticClass:"no-redirect"},[t._v(t._s(e.name))]):a("span",{on:{click:function(a){return a.preventDefault(),t.handleLink(e)}}},[t._v(t._s(e.name))])])})),1)],1)])},s=[],i=[{key:"新房详情",levels:["门店工作台","房源管理","新房分销"]},{key:"房源详情",levels:["门店工作台","房源管理","房源买卖"]},{key:"录入房源",levels:["门店工作台","房源管理","房源买卖"]},{key:"小区详情",levels:["门店工作台","房源管理","小区广场"]},{key:"创建小区",levels:["门店工作台","房源管理","小区广场"]},{key:"成交详情",levels:["门店工作台","签约交易","新房报备/结佣"]},{key:"补录新房成交",levels:["门店工作台","签约交易","新房报备/结佣"]},{key:"补录佣金结算单",levels:["门店工作台","签约交易","新房报备/结佣"]},{key:"结佣详情",levels:["平台运管","交易中心","佣金结算管理"]},{key:"创建客户成交",levels:["平台运管","交易中心","客户成交中心"]},{key:"客户成交详情",levels:["平台运管","交易中心","客户成交中心"]},{key:"创建佣金结算",levels:["平台运管","交易中心","佣金结算管理"]},{key:"人事管理员工档案",levels:["平台运管","人事管理","员工管理"]},{key:"门店管理员工档案",levels:["门店工作台","门店管理","门店员工"]}];function r(t){return u(t)||c(t)||l(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(t,e):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var p={data:function(){return{levelList:null}},watch:{$route:function(t){t.path.startsWith("/redirect/")||this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{refresh:function(){this.$root.$emit("refresh")},getBreadcrumb:function(){var t=this.$route,e=i.find((function(e){return e.key==t.name})),a=t.query.title||t.name;this.levelList=r(t.matched),e&&(this.levelList=e.levels.map((function(t){return{name:t}})),this.levelList.push({name:a})),(t.params.source||t.query.source)&&(this.levelList[this.levelList.length-1].name=t.params.source||t.query.source,this.levelList.push({name:a}));var n=this.levelList.length;t.query&&t.query.title&&(this.levelList[this.levelList.length-1].name=t.query.title),this.levelList[n-1].name==this.levelList[n-2].name&&(this.levelList[n-2].name==this.levelList[n-3].name&&this.levelList.pop(),this.levelList.pop())}}},m=p,f=(a("7ff8"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"6c3ed2e2",null);e["default"]=v.exports},"23f3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"title x3 aic"},[a("p",{staticClass:"fs18 bold"},[t._v("\n      门店费用类型\n    ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.tj,expression:"tj"}],attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.edit(-1)}}},[t._v("\n      添加费用支出类型\n    ")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序",sortable:"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"费用支出类型"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n            "+t._s(e.row.enable?"启用":"禁用")+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inUserName",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inDate",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.edit(e.$index,e.row)}}},[t._v("\n            编辑\n          ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.sc,expression:"sc"}],staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.del(e.$index,e.row)}}},[t._v("\n            删除\n          ")])]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{"close-on-click-modal":!1,title:t.title+"费用支出类型",visible:t.dictFlag,width:"600px"},on:{"update:visible":function(e){t.dictFlag=e}}},[a("el-form",{ref:"dictForm",attrs:{model:t.dictForm,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"fr2"},[a("el-form-item",{attrs:{label:"费用类型",prop:"name",rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.dictForm.name,callback:function(e){t.$set(t.dictForm,"name",e)},expression:"dictForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{type:"sort"},model:{value:t.dictForm.sort,callback:function(e){t.$set(t.dictForm,"sort",t._n(e))},expression:"dictForm.sort"}})],1)],1),t._v(" "),a("div",{staticClass:"fr2"},[a("el-form-item",{attrs:{label:"状态",prop:"enable",rules:[{required:!0,message:"不能为空"}]}},[a("el-radio-group",{model:{value:t.dictForm.enable,callback:function(e){t.$set(t.dictForm,"enable",e)},expression:"dictForm.enable"}},[a("el-radio-button",{attrs:{label:!0}},[t._v("启用")]),t._v(" "),a("el-radio-button",{attrs:{label:!1}},[t._v("禁用")])],1)],1)],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dictFlag=!1}}},[t._v("\n        取消\n      ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n        保存\n      ")])],1)],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("acb0");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={dictType:6,enable:!0,name:"",sort:0},d={data:function(){return{dictFlag:!1,dictForm:JSON.parse(JSON.stringify(u)),tableData:[],title:"编辑"}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){this.getList()},methods:{getList:function(){var t=this;return c(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={dicttype:6},e.next=3,Object(o["o"])(a);case 3:n=e.sent,t.tableData=n;case 5:case"end":return e.stop()}}),e)})))()},edit:function(t,e){var a=this;return c(r.a.mark((function n(){return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.dictFlag=!0,a.$nextTick((function(){a.$refs.dictForm.clearValidate(),-1===t?(a.dictForm=JSON.parse(JSON.stringify(u)),a.title="添加"):(a.dictForm=JSON.parse(JSON.stringify(e)),a.dictForm.dictType=6)}));case 2:case"end":return n.stop()}}),n)})))()},del:function(t,e){var a=this;return c(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["f"])(e.id);case 2:n=t.sent,n&&a.getList();case 4:case"end":return t.stop()}}),t)})))()},save:function(){var t=this;this.$refs.dictForm.validate(function(){var e=c(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return n=t.dictForm,e.next=4,Object(o["i"])(n);case 4:s=e.sent,s&&(t.dictFlag=!1,t.getList());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},p=d,m=(a("8d7d"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"bddbd26c",null);e["default"]=f.exports},"249b":function(t,e,a){},"261f":function(t,e,a){},2647:function(t,e,a){},"26a6":function(t,e,a){},"26be":function(t,e,a){},"274c":function(t,e,a){},"279a":function(t,e,a){},"27fc":function(t,e,a){t.exports=a.p+"img/icon_yijia.a37a95c7.png"},"289c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showDialog?a("div",{attrs:{value:t.value}},[a("el-dialog",{staticClass:"dialog",attrs:{visible:t.showDialog,title:"审核",width:"350px"},on:{"update:visible":function(e){t.showDialog=e}}},[a("div",[a("div",{staticClass:"tabs"},t._l(t.tabs,(function(e,n){return a("div",{key:e,class:{active:n+1===t.auditData.communityStatus},on:{click:function(e){t.auditData.communityStatus=n+1}}},[t._v("\n          "+t._s(e)+"\n        ")])})),0),t._v(" "),a("div",{staticClass:"mt20",staticStyle:{"min-height":"50px"}},[2===t.auditData.communityStatus?a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入驳回理由"},model:{value:t.auditData.rejectReason,callback:function(e){t.$set(t.auditData,"rejectReason",e)},expression:"auditData.rejectReason"}}):t._e()],1),t._v(" "),a("div",{staticClass:"ta-right mt20"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showDialog=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.auditCommunity}},[t._v("\n          确定\n        ")])],1)])])],1):t._e()},s=[],i=a("a34a"),r=a.n(i),o=a("7998");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={id:null,communityStatus:1,rejectReason:""},d={props:{value:{type:Boolean,default:!1},id:[String,Number]},data:function(){return{showDialog:!1,tabs:["通过审核","驳回"],auditData:JSON.parse(JSON.stringify(u))}},watch:{value:function(t){this.showDialog=t,this.audit()},showDialog:function(t){this.$emit("input",t)}},methods:{audit:function(){var t=this.id;t&&(this.auditData=JSON.parse(JSON.stringify(u)),this.auditData.id=t)},auditCommunity:function(){var t=this;return c(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.auditData,e.next=3,Object(o["b"])(a);case 3:n=e.sent,n&&(t.showDialog=!1,t.$emit("auditCommunity"));case 5:case"end":return e.stop()}}),e)})))()}}},p=d,m=(a("6518"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"42554fdc",null);e["default"]=f.exports},"28bf":function(t,e,a){"use strict";var n=a("1b3b"),s=a.n(n);s.a},"28d5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags-view-container"},[a("div",{staticClass:"tags-view-wrapper"},[t._l(t.visitedViews,(function(e,n){return a("router-link",{key:n,ref:"tag",refInFor:!0,staticClass:"tags-view-item",attrs:{to:{path:e.path,query:e.query,fullPath:e.fullPath},index:"",tag:"span"},nativeOn:{contextmenu:function(a){return a.preventDefault(),t.openMenu(e,a)}}},[a("div",{staticClass:"tags-view-item-main",class:t.isActive(e)?"active":""},[a("p",{staticClass:"title",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),"/home/home"!=e.path?a("div",{on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.closeSelectedTag(e)}}},[a("el-icon",{staticClass:"el-icon-close",attrs:{type:"close"}})],1):t._e()]),t._v(" "),a("div",{staticClass:"triangle_border_nw",class:t.isActive(e)?"active":""})])})),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:t.left+"px",top:t.top+"px"}},[t.selectedTag.path==t.$route.path?a("li",{on:{click:function(e){return t.$root.$emit("refresh")}}},[t._v("\n        刷新页面\n      ")]):t._e(),t._v(" "),a("li",{on:{click:function(e){return t.closeSelectedTag(t.selectedTag)}}},[t._v("关闭")]),t._v(" "),a("li",{on:{click:t.closeOthersTags}},[t._v("关闭其他标签页")])])],2)])},s=[],i={data:function(){return{visible:!1,top:0,left:0,selectedTag:{}}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews}},watch:{$route:function(){this.addTags()},visible:function(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.addTags()},methods:{isActive:function(t){return t.path===this.$route.path},addTags:function(){var t=this.$route.name;return t&&this.$store.dispatch("tagsView/addView",this.$route),!1},closeSelectedTag:function(t){var e=this,a=function(){e.$store.dispatch("tagsView/delView",t).then((function(a){var n=a.visitedViews;e.isActive(t)&&e.toLastView(n)}))};if(1!=this.visitedViews.length)if(this.$route.fullPath==t.fullPath){var n=/(创建|录入|发起|编辑|补录)/g;-1!=t.name.search(n)?this.$confirm("关闭此标签会清空本页所有的表单数据, 是否继续?","提示",{type:"warning"}).then((function(){a()})).catch((function(){})):a()}else a();else this.$showError("已经是最后一页，无法关闭")},closeOthersTags:function(){this.$router.push(this.selectedTag),this.$store.commit("tagsView/SET_VIEW",[this.selectedTag])},toLastView:function(t){var e=t.slice(-1)[0];this.$navigateTo(e.fullPath,!1)},openMenu:function(t,e){var a=105,n=150,s=this.$el.offsetWidth,i=s-a,r=e.clientX-n+15;this.left=r>i?i:r,this.top=e.clientY-50,this.visible=!0,this.selectedTag=t},closeMenu:function(){this.visible=!1}}},r=i,o=(a("3ac9"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"04108d56",null);e["default"]=l.exports},"28ee":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""}},[t._v("添加来源分类")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"sort",label:"一级分类",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"二级分类"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.eidt(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(t){e.$index,e.row}}},[t._v("删除")])]}}])})],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("acb0");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={data:function(){return{tableData:[]}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){},methods:{edit:function(t,e){this.storeFlag=!0},delete:function(t,e){},gettableData:function(){var t=this;return c(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(o["c"])(a);case 3:n=e.sent,t.tableData=n;case 5:case"end":return e.stop()}}),e)})))()}}},d=u,p=(a("b979"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"1b09b182",null);e["default"]=m.exports},"294c2":function(t,e,a){"use strict";var n=a("36c0"),s=a.n(n);s.a},"29e1":function(t,e,a){"use strict";var n=a("5185"),s=a.n(n);s.a},"2a2a":function(t,e,a){},"2a3e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{visible:t.show,"close-on-click-modal":!1,title:"创建小区","before-close":t.close,width:"500px"},on:{"update:visible":function(e){t.show=e}}},[a("el-form",{ref:"form",attrs:{model:t.formDatas,rules:t.formRules,"label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"小区名称",prop:"communityName"}},[a("el-input",{attrs:{placeholder:"请输入小区名称"},model:{value:t.formDatas.communityName,callback:function(e){t.$set(t.formDatas,"communityName",e)},expression:"formDatas.communityName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"小区别名",prop:"anotherName"}},[a("el-input",{attrs:{placeholder:"请输入小区别名"},model:{value:t.formDatas.anotherName,callback:function(e){t.$set(t.formDatas,"anotherName",e)},expression:"formDatas.anotherName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属区域",prop:"areaId"}},[a("el-cascader",{staticClass:"cascader",attrs:{size:"mini",placeholder:"请选择小区所属区域(所在商圈)",props:{value:"id",label:"name"},options:t.areas},on:{change:t.handleAreaChange},model:{value:t.selectedAreas,callback:function(e){t.selectedAreas=e},expression:"selectedAreas"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位置标注",prop:"longitude"}},[a("el-button",{staticClass:"map-btn",class:[t.formDatas.longitude?"left":""],attrs:{icon:t.formDatas.longitude?"":"el-icon-location"},on:{click:function(e){t.toggleAmapDialog=!0}}},[t._v("\n          "+t._s(t.formDatas.latitude)+"\n          "+t._s(t.formDatas.longitude)+"\n        ")])],1),t._v(" "),a("el-form-item",{attrs:{label:"小区地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入小区详细地址"},model:{value:t.formDatas.address,callback:function(e){t.$set(t.formDatas,"address",e)},expression:"formDatas.address"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("提 交")])],1)],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"地图",top:"5vh",visible:t.toggleAmapDialog,width:"70%"},on:{"update:visible":function(e){t.toggleAmapDialog=e}}},[a("amap",{staticClass:"amap",on:{getLL:t.getLL}})],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("e6b2"),l=a("7998"),c=a("acb0");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={components:{Amap:o["a"]},props:{show:{type:Boolean,default:!1}},data:function(){return{toggleAmapDialog:!1,formDatas:{communityName:null,areaId:null,anotherName:null,latitude:null,longitude:null,address:null},formRules:{communityName:[{required:!0,triggle:"blur",message:"请输入小区名称"}],areaId:[{required:!0,triggle:"blur",message:"请选择小区所属区域(所在商圈)"}],anotherName:[{required:!1,triggle:"blur",message:"请输入小区别名"}],longitude:[{required:!0,triggle:"blur",message:"请选择小区位置标注"}],address:[{required:!0,triggle:"blur",message:"请输入小区详细地址"}]},selectedAreas:[],areas:[]}},watch:{show:function(t){var e=this;t&&(this.getAreas(),this.$nextTick((function(){e.clearData()})))}},computed:{site:function(){return this.$store.state.settings.site}},methods:{close:function(){this.$emit("close",!0)},clearData:function(){for(var t in this.$refs.form.resetFields(),this.formDatas)this.formDatas[t]=null;this.selectedAreas=[]},handleAreaChange:function(t){this.formDatas.areaId=t[t.length-1].toString()},getLL:function(t){var e=t.position;t.address;this.formDatas.latitude=e[1].toString(),this.formDatas.longitude=e[0].toString(),this.toggleAmapDialog=!1,this.$refs.form.validateField("longitude")},getAreas:function(){var t=this;return d(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(c["c"])(a);case 3:n=e.sent,n&&(t.areas=n);case 5:case"end":return e.stop()}}),e)})))()},submitForm:function(){var t=this;this.$refs.form.validate((function(e){if(e){var a=Object.assign({},t.formDatas,{siteId:t.site.id});Object(l["h"])(a).then((function(e){e&&(t.$showSuccess("小区录入成功"),t.close())}))}}))}}},m=p,f=(a("6f78"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"02a316bb",null);e["default"]=v.exports},"2b6d":function(t,e,a){"use strict";a.d(e,"k",(function(){return s})),a.d(e,"t",(function(){return i})),a.d(e,"v",(function(){return r})),a.d(e,"w",(function(){return o})),a.d(e,"m",(function(){return l})),a.d(e,"g",(function(){return c})),a.d(e,"j",(function(){return u})),a.d(e,"f",(function(){return d})),a.d(e,"h",(function(){return p})),a.d(e,"l",(function(){return m})),a.d(e,"e",(function(){return f})),a.d(e,"d",(function(){return v})),a.d(e,"o",(function(){return h})),a.d(e,"n",(function(){return b})),a.d(e,"p",(function(){return g})),a.d(e,"q",(function(){return _})),a.d(e,"s",(function(){return y})),a.d(e,"r",(function(){return w})),a.d(e,"i",(function(){return C})),a.d(e,"c",(function(){return k})),a.d(e,"a",(function(){return x})),a.d(e,"u",(function(){return D})),a.d(e,"b",(function(){return I}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/list",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/estate/list",method:"get",data:t})}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:!0};return Object(n["a"])({url:"/api/v1/fm/store/storegrouptree/v2",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/".concat(t.id,"/status"),method:"put",data:t})}function l(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/".concat(t,"/pay/list"),method:"get"})}function c(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/".concat(t,"/detail"),method:"get"})}function u(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/".concat(t.id,"/info"),method:"get",data:t})}var d=function(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/create",data:t})},p=function(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/".concat(t.id),method:"PUT",data:t})};function m(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/".concat(t.id,"/incomes"),method:"get",data:t})}function f(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/".concat(t.id,"/pay"),data:t})}function v(t){return Object(n["a"])({url:"/api/v1/fm/order/deal/".concat(t.id,"/audit"),method:"put",data:t})}function h(t){return Object(n["a"])({url:"/api/v1/fm/performance/manage/getPerformanceGather",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/api/v1/fm/performance/manage/getPerformanceDetailList",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/api/v1/fm/performance/manage/getPerformanceGatherYear",method:"get",data:t})}function _(t){return Object(n["a"])({url:"/api/v1/fm/performance/manage/getPerformanceMonth",method:"get",data:t})}function y(t){return Object(n["a"])({url:"/api/v1/fm/performance/manage/getPerformanceReceiveMonth",method:"get",data:t})}function w(t){return Object(n["a"])({url:"/api/v1/fm/performance/manage/getPerformanceReceiveDetailList",method:"post",data:t})}function C(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/commissionDetail",method:"get",data:t})}function k(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/achievementOverviewPage",method:"get",data:t})}function x(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/accrualDetailPage",method:"get",data:t})}function D(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/recomputeCommission/".concat(t),method:"post"})}function I(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/achievementByRank",method:"get",data:t})}},"2baa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",[a("el-row",[a("el-col",{staticClass:"item",attrs:{span:8}},[a("el-form-item",{attrs:{label:"物业类型"}},[a("el-select",{attrs:{size:"small"},model:{value:t.formData.testSelected,callback:function(e){t.$set(t.formData,"testSelected",e)},expression:"formData.testSelected"}},[a("el-option",{attrs:{value:"物业类型"}},[t._v("物业类型")])],1)],1)],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:8}},[a("el-form-item",{attrs:{label:"物业类型"}},[a("el-select",{attrs:{size:"small"},model:{value:t.formData.testSelected,callback:function(e){t.$set(t.formData,"testSelected",e)},expression:"formData.testSelected"}},[a("el-option",{attrs:{value:"购房目的"}},[t._v("物业类型")])],1)],1)],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:8}},[a("el-form-item",{attrs:{label:"首付预算"}},[a("el-input",{attrs:{size:"small",placeholder:"首付预算"}},[a("template",{slot:"append"},[t._v("万")])],2)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"item",attrs:{span:8}},[a("el-form-item",{attrs:{label:"总价预算"}},[a("fm-input-group")],1)],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:8}},[a("el-form-item",{attrs:{label:"面积要求"}},[a("fm-input-group",{attrs:{model:t.testValue},on:{value:function(e){return t.testValue=e}}})],1),t._v(",\n    ")],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:8}},[a("el-form-item",{attrs:{label:"楼层要求"}},[a("fm-input-group")],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"item",attrs:{span:8}},[a("el-form-item",{attrs:{label:"装修要求"}},[a("el-select",{attrs:{size:"small"},model:{value:t.formData.testSelected,callback:function(e){t.$set(t.formData,"testSelected",e)},expression:"formData.testSelected"}},[a("el-option",{attrs:{value:"装修要求"}},[t._v("装修要求")])],1)],1)],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:8}},[a("el-form-item",{attrs:{label:"朝向要求"}},[a("el-select",{attrs:{size:"small"},model:{value:t.formData.testSelected,callback:function(e){t.$set(t.formData,"testSelected",e)},expression:"formData.testSelected"}},[a("el-option",{attrs:{value:"朝向要求"}},[t._v("朝向要求")])],1)],1)],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:16}},[a("el-form-item",{attrs:{label:"意向区域"}},[a("el-cascader",{staticClass:"cascader",attrs:{size:"small",options:t.propertyType,"show-all-levels":!1,"collapse-tags":"",clearable:""}})],1)],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:16}},[a("el-form-item",{attrs:{label:"意向小区/楼盘"}},[a("el-cascader",{staticClass:"cascader",attrs:{size:"small",options:t.propertyType,"show-all-levels":!1,"collapse-tags":"",clearable:""}})],1)],1)],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fm-input-group"},[a("el-input",{attrs:{size:t.size,placeholder:t.placeholder[0]},model:{value:t.value[0],callback:function(e){t.$set(t.value,0,e)},expression:"value[0]"}},[a("template",{staticClass:"s",slot:"append"},[t._v("-")])],2),t._v(" "),a("el-input",{attrs:{size:t.size,placeholder:t.placeholder[1]},model:{value:t.value[1],callback:function(e){t.$set(t.value,1,e)},expression:"value[1]"}},[a("template",{staticClass:"s",slot:"append"},[t._v(t._s(t.unit))])],2)],1)},r=[],o={props:{placeholder:{type:Array,default:function(){return["最低","最高"]}},unit:{type:String,default:"万"},size:{type:String,default:"small"},model:{type:Array,default:function(){return["",""]}}},data:function(){return{value:this.model}},watch:{value:function(t){this.$emit("value",t)}}},l=o,c=(a("5ac5"),a("2877")),u=Object(c["a"])(l,i,r,!1,null,null,null),d=u.exports,p={data:function(){return{testValue:["100","200"],formData:{testSelected:""},propertyType:[{label:"老物业",value:"1",children:[{label:"物业",value:"2"}]}],purpose:[{label:"老物业",value:"1",children:[{label:"物业",value:"2"}]}]}},watch:{testValue:function(t){}},components:{FmInputGroup:d}},m=p,f=Object(c["a"])(m,n,s,!1,null,"7f360c85",null);e["default"]=f.exports},"2bbb":function(t,e,a){"use strict";var n=a("4957"),s=a.n(n);s.a},"2bd8":function(t,e,a){"use strict";var n=a("6024"),s=a.n(n);s.a},"2c17":function(t,e,a){t.exports=a.p+"img/xfxqbg.ca1a91d1.png"},"2c81":function(t,e,a){t.exports=a.p+"img/404.c5b5eba7.jpg"},"2c9e":function(t,e,a){"use strict";var n=a("f533"),s=a.n(n);s.a},"2d1e":function(t,e,a){},"2db2":function(t,e,a){},"2deb":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"house-detail width1200"},[a("div",{staticClass:"title flex-between"},[a("p",{staticClass:"flex"},[a("span",{staticClass:"fs20 color3 bold"},[t._v(t._s(t.baseInfo.communityName))]),t._v(" "),"暂无数据"!==t.baseInfo.buildingTypeName?t._l(t.baseInfo.buildingTypeName,(function(e,n){return a("span",{key:n,staticClass:"title-tag border1 ml5"},[t._v("\n          "+t._s(e)+"\n        ")])})):t._e(),t._v(" "),"暂无数据"!==t.baseInfo.anotherName?a("span",{staticClass:"ml10 color9"},[t._v("\n        别名："+t._s(t.baseInfo.anotherName)+"\n      ")]):t._e(),t._v(" "),a("span",{staticClass:"ml10 color9"},[t._v("小区编号："+t._s(t.baseInfo.communityId))]),t._v(" "),3==t.communityStatus?a("span",{staticClass:"tag tag2"},[t._v("驳回")]):t._e(),t._v(" "),1==t.communityStatus?a("span",{staticClass:"tag tag3"},[t._v("待审核")]):t._e(),t._v(" "),0==t.communityStatus?a("span",{staticClass:"tag"},[t._v("草稿")]):t._e()],2),t._v(" "),a("el-button-group",[t.userId!=t.inUser||0!=t.communityStatus&&3!=t.communityStatus?t._e():a("el-button",{staticStyle:{width:"75px","padding-left":"0","padding-right":"0"},attrs:{size:"small"}},[a("p",{staticClass:"blue",on:{click:function(e){return e.stopPropagation(),t.confirm(e)}}},[t._v("提交审核")])]),t._v(" "),t.$own(t.authActions,"sjsh")&&1==t.communityStatus?a("el-button",{staticStyle:{width:"75px","padding-left":"0","padding-right":"0"},attrs:{size:"small"}},[a("p",{staticClass:"blue",on:{click:function(e){e.stopPropagation(),t.showAudit=!0}}},[t._v("审核")])]):t._e()],1)],1),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"content"},[a("div",{staticClass:"info"},[a("div",{staticClass:"l"},[a("swiper",{attrs:{photos:t.photos}})],1),t._v(" "),a("div",{staticClass:"r"},[a("div",{staticClass:"r_t"},[a("div",{staticClass:"flex-between height"},[t.statisticsData.sellHouseAveragePrice?a("p",{staticClass:"flex"},[a("span",{staticClass:"fs36 red bold"},[t._v(t._s(t.statisticsData.sellHouseAveragePrice))]),t._v(" "),a("span",{staticClass:"red ml5"},[t._v("元/㎡")]),t._v(" "),a("span",{staticClass:"color9 ml5"},[t.statisticsData.month?[t._v("\n                    "+t._s(t.statisticsData.month)+" 月份二手房买卖\n                  ")]:t._e(),t._v("\n                  参考均价\n                ")],2)]):a("p",{staticClass:"bold"},[t._v("暂无均价")]),t._v(" "),2==t.communityStatus?a("p",{staticClass:"flex",on:{click:function(e){return t.focusFunc(!t.focus)}}},[t.focus?a("svg-icon",{staticClass:"icon fs30 pointer",attrs:{"icon-class":"love2"}}):a("svg-icon",{staticClass:"icon fs30 pointer",attrs:{"icon-class":"love"}})],1):t._e()])]),t._v(" "),a("div",{staticClass:"r_c"},[a("div",[a("p",{staticClass:"fs13"},[t._v("买卖")]),t._v(" "),a("p",{staticClass:"fs16 color3 bold mt10"},[t._v("\n                "+t._s(t.statisticsData.sellHouseCount)+"套\n              ")])]),t._v(" "),a("div",[a("p",{staticClass:"fs13"},[t._v("租赁")]),t._v(" "),a("p",{staticClass:"fs16 color3 bold mt10"},[t._v("\n                "+t._s(t.statisticsData.leaseSellTotal)+"套\n              ")])]),t._v(" "),a("div",[a("p",{staticClass:"fs13"},[t._v("总楼栋")]),t._v(" "),a("p",{staticClass:"fs16 color3 bold mt10"},[t._v("\n                "+t._s(t.statisticsData.buildingCount)+"栋\n              ")])]),t._v(" "),a("div",[a("p",{staticClass:"fs13"},[t._v("总户数")]),t._v(" "),a("p",{staticClass:"fs16 color3 bold mt10"},[t._v("\n                "+t._s(t.statisticsData.proprietorCount)+"户\n              ")])])]),t._v(" "),a("div",{staticClass:"r_b"},[a("div",[a("p",[t._v("\n                买卖最近7天带看:\n                "),a("span",[t._v(t._s(t.statisticsData.sellTakeCustomerCount)+"组")])])]),t._v(" "),a("div",[a("p",[t._v("\n                租赁最近7天带看:\n                "),a("span",[t._v(t._s(t.statisticsData.leaseTakeCustomerCount)+"组")])])]),t._v(" "),a("div",[a("p",[t._v("\n                买卖最近7天成交:\n                "),a("span",[t._v(t._s(t.statisticsData.sellSellCount)+"组")])])]),t._v(" "),a("div",[a("p",[t._v("\n                租赁最近7天成交:\n                "),a("span",[t._v(t._s(t.statisticsData.leaseSellCount)+"组")])])]),t._v(" "),a("div",[a("p",[t._v("\n                买卖累计:\n                "),a("span",[t._v("\n                  带看"+t._s(t.statisticsData.sellTakeTotal)+"组/成交"+t._s(t.statisticsData.sellSellTotal)+"组\n                ")])])]),t._v(" "),a("div",[a("p",[t._v("\n                租赁累计:\n                "),a("span",[t._v("\n                  带看"+t._s(t.statisticsData.leaseTakeTotal)+"组/成交"+t._s(t.statisticsData.leaseSellTotal)+"组\n                ")])])]),t._v(" "),a("div",[a("p",[t._v("\n                报盘率:\n                "),a("span",[t._v(t._s(t.statisticsData.sellHouseRate))])])]),t._v(" "),a("div",[a("p",[t._v("\n                有效报盘率:\n                "),a("span",[t._v(t._s(t.statisticsData.validSellHouseRate))])])])])])]),t._v(" "),a("scroll-box",{attrs:{navs:t.navs}},[a("div",{attrs:{slot:"main"},slot:"main"},[a("div",{staticClass:"cell"},[a("div",{staticClass:"cell-title flex-between"},[a("div",{staticClass:"fs16"},[t._v("维护信息")])]),t._v(" "),a("div",[a("div",{staticClass:"mt20 orange fs15"},[t._v("\n                基本信息\n              ")]),t._v(" "),a("div",{staticClass:"grid color6"},[a("p",[a("span",[t._v("所属城区:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(t.baseInfo.areaName))])]),t._v(" "),a("p",[a("span",[t._v("所属商圈:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(t.baseInfo.tradingAreaName))])]),t._v(" "),a("p",[a("span",[t._v("物业费:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.baseInfo.propertyPrice)+"\n                  ")]),t._v(" "),"暂无数据"!==t.baseInfo.propertyPrice?a("span",[t._v("\n                    元/月/平米\n                  ")]):t._e()]),t._v(" "),a("p",[a("span",[t._v("物业公司:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.baseInfo.propertyCompany)+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("绿化率:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(" "+t._s(t.baseInfo.greenRate)+" ")]),t._v(" "),"暂无数据"!==t.baseInfo.greenRate?a("span",[t._v("\n                    %\n                  ")]):t._e()]),t._v(" "),a("p",[a("span",[t._v("容积率:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(t.baseInfo.volumeRate))])]),t._v(" "),a("p",[a("span",[t._v("建筑类型:")]),t._v(" "),"暂无数据"!==t.baseInfo.buildingTypeName?t._l(t.baseInfo.buildingTypeName,(function(e){return a("span",{key:e,staticClass:"ml5"},[t._v("\n                      "+t._s(e)+"\n                    ")])})):a("span",[t._v("\n                    "+t._s(t.baseInfo.buildingTypeName)+"\n                  ")])],2),t._v(" "),a("p",[a("span",[t._v("建筑结构:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.baseInfo.buildingStructure)+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("建筑年代:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.baseInfo.buildingTime)+"\n                  ")]),t._v(" "),"暂无数据"!==t.baseInfo.buildingTime?a("span",[t._v("\n                    年\n                  ")]):t._e()]),t._v(" "),a("p",[a("span",[t._v("嫌恶设施:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(t.baseInfo.abhorrentFacilities))])])])]),t._v(" "),t.liveInfo&&t.liveInfo.heatingType?a("div",[a("div",{staticClass:"mt20 orange fs15"},[t._v("\n                生活信息\n              ")]),t._v(" "),a("div",{staticClass:"grid color6"},[a("p",[a("span",[t._v("供暖类型:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.heatingType)+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("用电类型:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.electricityType)+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("车位比例:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.parkingRatio)+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("停车服务费:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.parkingFee)+"\n                  ")]),t._v(" "),"暂无数据"!==t.liveInfo.parkingFee?a("span",[t._v("\n                    元/月\n                  ")]):t._e()]),t._v(" "),a("p",[a("span",[t._v("供暖费用:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(t.liveInfo.heatingCosts))]),t._v(" "),"暂无数据"!==t.liveInfo.heatingCosts?a("span",[t._v("\n                    元/m³\n                  ")]):t._e()]),t._v(" "),a("p",[a("span",[t._v("用水类型:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.waterUseType)+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("地上车位数:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.parkingAboveGround)+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("是否有电梯:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t._f("toBool")(t.liveInfo.hasLift))+"\n                  ")])])]),t._v(" "),a("div",{staticClass:"grid color6"},[a("p",[a("span",[t._v("是否有燃气:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t._f("toBool")(t.liveInfo.hasGas))+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("燃气费:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(" "+t._s(t.liveInfo.gasFee)+" ")]),t._v(" "),"暂无数据"!==t.liveInfo.gasFee?a("span",[t._v("\n                    元/m³\n                  ")]):t._e()]),t._v(" "),a("p",[a("span",[t._v("地下车位数:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.parkingUnderGround)+"\n                  ")])])]),t._v(" "),a("div",{staticClass:"grid color6"},[a("p",[a("span",[t._v("是否有热水:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t._f("toBool")(t.liveInfo.hasHotWater))+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("热水费:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.hotWaterFee)+"\n                  ")]),t._v(" "),"暂无数据"!==t.liveInfo.hotWaterFee?a("span",[t._v("\n                    元/吨\n                  ")]):t._e()]),t._v(" "),a("p",[a("span",[t._v("小区幼儿园:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.communityKindergarten)+"\n                  ")])])]),t._v(" "),a("div",{staticClass:"grid color6"},[a("p",[a("span",[t._v("是否有中水:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t._f("toBool")(t.liveInfo.hasRecycledWater))+"\n                  ")])]),t._v(" "),a("p",[a("span",[t._v("中水费:")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("\n                    "+t._s(t.liveInfo.recycledWaterFee)+"\n                  ")]),t._v(" "),"暂无数据"!==t.liveInfo.recycledWaterFee?a("span",[t._v("\n                    元/吨\n                  ")]):t._e()])])]):t._e()]),t._v(" "),a("div",{staticClass:"cell"},[a("div",{staticClass:"cell-title flex-between"},[a("div",{staticClass:"fs16"},[t._v("楼栋信息")])]),t._v(" "),t.communityBulidingList.length?a("div",{staticStyle:{"padding-top":"20px"}},t._l(t.communityBulidingList,(function(e,n){return a("div",{key:n,staticClass:"cell-house-box"},t._l(Array(4),(function(n,s){return a("div",{key:s,staticClass:"cell-house"},[e[s]?a("div",{staticClass:"height border1 flex pointer",on:{click:function(a){return a.stopPropagation(),t.clickBuilding(e[s])}}},[a("svg-icon",{staticClass:"icon fs32 ml10",attrs:{"icon-class":"house"}}),t._v(" "),a("div",{staticClass:"ml10"},[a("p",{staticClass:"fs16 bold"},[t._v(t._s(e[s].name))]),t._v(" "),a("p",{staticClass:"fs13 color9"},[a("span",[t._v(t._s(e[s].unitCount)+"单元")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(e[s].houseCount)+"户")])])])],1):t._e()])})),0)})),0):a("div",{staticClass:"flex-center",staticStyle:{height:"100px"}},[a("div",{staticClass:"color6 fs16"},[a("p",[a("i",{staticClass:"el-icon-info blue"}),t._v(" "),a("span",[t._v("该小区暂未创建楼栋及房源字典数据，")])]),t._v(" "),a("p",{staticClass:"mt10"},[a("i",{staticClass:"el-icon-info opacity"}),t._v(" "),a("span",[t._v("这会导致无法创建该小区房源数据，请及时新增数据")])])])])]),t._v(" "),t.hasHouseType?a("div",{staticClass:"cell"},[a("div",{staticClass:"cell-title flex-between"},[a("div",{staticClass:"fs16"},[t._v("\n                小区户型\n              ")]),t._v(" "),a("el-radio-group",{attrs:{size:"mini"},model:{value:t.houseTypeIndex,callback:function(e){t.houseTypeIndex=e},expression:"houseTypeIndex"}},[t._l(t.houseTypeMenu,(function(e,n){return[e.count?a("el-radio-button",{key:n,attrs:{size:"mini",label:n}},[t._v("\n                    "+t._s(e.name)+"("+t._s(e.count)+")\n                  ")]):t._e()]}))],2)],1),t._v(" "),t.urlList.length?a("community-type-swiper",{attrs:{urlList:t.urlList}}):t._e()],1):t._e(),t._v(" "),a("div",{staticClass:"cell"},[t.position?a("around-amap",{attrs:{center:t.position,title:t.baseInfo.communityName}}):t._e()],1)])])],1),t._v(" "),a("div",{staticClass:"message"},[a("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"日志",name:"first"}},[t.id?a("log-cell",{attrs:{id:t.id,propTags:t.LogsTags}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"带看",name:"second"}},[a("p",{staticClass:"fm-empty"},[t._v("----暂无数据----")])])],1)],1)]),t._v(" "),a("right-tools",[2==t.communityStatus?[t._l(t.tools,(function(e){return[t.$own(t.authActions,e.key)?a("li",{key:e.name,on:{click:function(a){return t.handleClick(e.name)}}},[a("svg-icon",{attrs:{"icon-class":e.icon}}),t._v(" "),a("p",[t._v(t._s(e.name))])],1):t._e()]}))]:[t._l(t.tools,(function(e){return[t.userId==t.inUser||t.$own(t.authActions,e.key)?a("li",{key:e.name,on:{click:function(a){return t.handleClick(e.name)}}},[a("svg-icon",{attrs:{"icon-class":e.icon}}),t._v(" "),a("p",[t._v(t._s(e.name))])],1):t._e()]}))],t._v(" "),a("p")],2),t._v(" "),a("window",{on:{close:t.getCommunityBulidingList},model:{value:t.showView,callback:function(e){t.showView=e},expression:"showView"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      栋座视图\n    ")]),t._v(" "),a("house-view",{attrs:{slot:"main",currentBuilding:t.currentBuilding},slot:"main"})],1),t._v(" "),a("window",{model:{value:t.showPhotos,callback:function(e){t.showPhotos=e},expression:"showPhotos"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      小区相册\n    ")]),t._v(" "),a("community-photos",{attrs:{slot:"main",id:t.id},slot:"main"})],1),t._v(" "),a("audit",{attrs:{id:t.id},on:{auditCommunity:t.getCommunityDetail},model:{value:t.showAudit,callback:function(e){t.showAudit=e},expression:"showAudit"}})],1)},s=[],i=a("a34a"),r=a.n(i),o=a("7e18"),l=a("7998"),c=a("970a"),u=a("5ccb"),d=a("db49"),p=a("041d"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-fade-in"}},[t.showWindow?a("div",{staticClass:"window transition-box",attrs:{value:t.value}},[a("div",{staticClass:"window-title"},[a("p",{staticClass:"flex-between"},[t._t("title"),t._v(" "),a("svg-icon",{staticClass:"icon pointer",attrs:{"icon-class":"close"},on:{click:function(e){t.showWindow=!1}}})],2)]),t._v(" "),a("div",{staticClass:"window-main"},[t._t("main")],2)]):t._e()])},f=[],v={name:"fm-dialog",props:{value:{type:Boolean,default:!1}},data:function(){return{showWindow:!1}},watch:{value:function(t){this.showWindow=t,t||this.$emit("close")},showWindow:function(t){this.$emit("input",t)}}},h=v,b=(a("294c2"),a("2877")),g=Object(b["a"])(h,m,f,!1,null,"54d3518e",null),_=g.exports,y=a("4e3f"),w=a("6c7e"),C=a("b396"),k=a("5a0e"),x=a("289c"),D=a("a0a9");function I(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function S(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){I(i,n,s,r,o,"next",t)}function o(t){I(i,n,s,r,o,"throw",t)}r(void 0)}))}}var N={components:{LogCell:u["default"],Swiper:o["a"],RightTools:p["a"],CommunityTypeSwiper:y["default"],AroundAmap:C["a"],Window:_,houseView:w["default"],CommunityPhotos:k["default"],Audit:x["default"],ScrollBox:D["a"]},filters:{toBool:function(t){return!0===t?"有":!1===t?"无":"暂无数据"}},data:function(){return{currentBuilding:{},config:d["a"].config,activeName:"first",baseInfo:{},statisticsData:{},liveInfo:{},communityStatus:null,focus:!1,inUser:null,houseTypeMenu:[{name:"全部",list:[],layoutType:null,count:0},{name:"一居",list:[],layoutType:1,count:0},{name:"二居",list:[],layoutType:2,count:0},{name:"三居",list:[],layoutType:3,count:0},{name:"四居",list:[],layoutType:4,count:0},{name:"五居以上",list:[],layoutType:5,count:0}],houseTypeIndex:0,showView:!1,showPhotos:!1,communityBulidingList:[],showAudit:!1,position:null,tools:[{name:"维护",icon:"repair",key:"whxq"},{name:"相册",icon:"photo",key:"xcwh"},{name:"栋座",icon:"house2",key:"dzwh"},{name:"删除",icon:"delete2",key:"scxq"}],photos:[],LogsTags:[{name:"维护",value:"MAINTAIN"},{name:"楼栋",value:"HOUSE"}]}},computed:{navs:function(){var t=[],e=[{name:"维护信息",show:!0},{name:"楼栋信息",show:!0},{name:"小区户型",show:this.hasHouseType},{name:"周边配套",show:!0}];return e.forEach((function(e){e.show&&t.push(e.name)})),t},hasHouseType:function(){var t=!1,e=this.houseTypeMenu[0].count;return t=!!e,t},id:function(){return this.$route.params.id},urlList:function(){return this.houseTypeMenu[this.houseTypeIndex].list},userId:function(){return this.$store.state.user.userId},authActions:function(){return this.$route.meta.authActions||[]}},watch:{houseTypeIndex:function(t){this.getCommunityImages(t,!1)}},created:function(){this.getCommunityBulidingList(),this.getCommunityDetail(),this.getCommunityImageList(),this.getCommunityImages(0,!0)},methods:{clickBuilding:function(t){var e=this.communityStatus,a=this.userId,n=this.inUser,s=!0;2==e?this.$own(this.authActions,"dzwh")&&(s=!0):a==n&&(s=!0),s&&(this.currentBuilding=Object.assign({},t,{isSelect:!0}),this.showView=!0)},getCommunityImageList:function(){var t=this;return S(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,Object(c["b"])(a);case 3:n=e.sent,t.photos=n;case 5:case"end":return e.stop()}}),e)})))()},getCommunityImages:function(t,e){var a=this;return S(r.a.mark((function n(){var s,i,o,c,u;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=a.id,i=t||null,e){n.next=5;break}if(!a.houseTypeMenu[t].list.length&&a.houseTypeMenu[t].count){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,Object(l["n"])(s,i);case 7:o=n.sent,c=o.counts,u=o.images,c.forEach((function(e){var n=e.layoutType||0;a.houseTypeMenu[n].count=e.count,n==t&&(a.houseTypeMenu[n].list=u||[])}));case 10:case"end":return n.stop()}}),n)})))()},getCommunityDetail:function(){var t=this;return S(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t.id},e.next=3,Object(l["m"])(a);case 3:n=e.sent,n&&(t.position=[n.baseInfo.longitude,n.baseInfo.latitude],t.baseInfo=t.filterNull(n.baseInfo),t.liveInfo=t.filterNull(n.liveInfo),t.statisticsData=n.statisticsData,t.communityStatus=n.communityStatus,t.focus=n.focus,t.inUser=n.inUser);case 5:case"end":return e.stop()}}),e)})))()},handleClick:function(t){switch(t){case"维护":this.$navigateTo({path:"/work/house/communityEdit",query:{id:this.id,title:"维护小区"}});break;case"相册":this.showPhotos=!0;break;case"栋座":this.showView=!0;break;case"删除":this.deleteCommunity();break}},getCommunityBulidingList:function(){var t=this;return S(r.a.mark((function e(){var a,n,s,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,Object(l["l"])(a);case 3:if(n=e.sent,s=[],n&&n.length)for(i=4,o=0;o<n.length;o+=i)s.push(n.slice(o,o+i));t.communityBulidingList=s;case 7:case"end":return e.stop()}}),e)})))()},confirm:function(){var t=this,e="",a="你确定要提交审核吗？",n="提交审核",s="提交审核",i=this.id;this.$confirm(a,n,{confirmButtonClass:e,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(S(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:i},e.next=3,Object(l["s"])(a);case 3:n=e.sent,n&&(t.getCommunityDetail(),t.$message({type:"success",message:"".concat(s,"成功!")}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){t.$message({type:"info",message:"已取消".concat(s)})}))},focusFunc:function(t){var e=this;return S(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.id,s={id:n,focusType:1,focusFlag:t},a.next=4,Object(l["j"])(s);case 4:i=a.sent,i&&(e.focus=t);case 6:case"end":return a.stop()}}),a)})))()},deleteCommunity:function(){var t=this;this.$confirm("删除后无法恢复,你确定要执行删除操作?","删除提醒",{confirmButtonClass:"el-button--danger",confirmButtonText:"删除",cancelButtonText:"取消",type:"error",center:!0}).then(S(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,n={id:a},e.next=4,Object(l["f"])(n);case 4:s=e.sent,s&&(t.$showSuccess("删除成功"),t.$store.dispatch("tagsView/delView",t.$route),t.$navigateTo({path:"/work/house/community"}));case 6:case"end":return e.stop()}}),e)})))).catch((function(){}))},filterNull:function(t){var e=JSON.parse(JSON.stringify(t));for(var a in e){var n=e[a];(!n&&0!==n&&"0"!==n&&"false"!==String(n)||Array.isArray(n)&&!n.length)&&(e[a]="暂无数据")}return e}}},A=N,T=(a("4090"),Object(b["a"])(A,n,s,!1,null,"16c4e48f",null));e["default"]=T.exports},"2ed0":function(t,e,a){"use strict";var n=a("a4b0"),s=a.n(n);s.a},3:function(t,e){},3073:function(t,e,a){"use strict";var n=a("f9be"),s=a.n(n);s.a},"309f":function(t,e,a){"use strict";var n=a("f366"),s=a.n(n);s.a},"30f6":function(t,e,a){"use strict";var n=a("16ad"),s=a.n(n);s.a},"315e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"house-list",attrs:{"infinite-scroll-disabled":t.busy}},t._l(t.list,(function(e,n){return a("li",{key:n,on:{click:function(a){return t.rowClick(e)}}},[a("div",{staticClass:"base-info"},[a("el-image",{staticClass:"cover",attrs:{fit:"cover",src:e.houseImage}},[a("img",{attrs:{slot:"error",src:t.houesPlaceholderImg},slot:"error"})]),t._v(" "),a("div",{staticClass:"summary"},[a("h3",{staticClass:"name"},[t._v(t._s(e.communityName))]),t._v(" "),a("p",{staticClass:"desc"},[t._v("\n          "+t._s(e.propertyTypeName)+"\n          "),e.sourceName?[t._v("\n            ("+t._s(e.sourceName)+")\n          ")]:t._e(),t._v(" "),e.bedRoomQuantity||e.livingRoomQuantity||e.restRoomQuantity?[t._v("\n            |\n          ")]:t._e(),t._v(" "),e.bedRoomQuantity?[t._v("\n            "+t._s(e.bedRoomQuantity)+"室\n          ")]:t._e(),t._v(" "),e.livingRoomQuantity?[t._v("\n            "+t._s(e.livingRoomQuantity)+"厅\n          ")]:t._e(),t._v(" "),e.restRoomQuantity?[t._v("\n            "+t._s(e.restRoomQuantity)+"卫\n          ")]:t._e(),t._v("\n          | "+t._s(e.buildingArea)+"㎡ | "+t._s(e.inDate)+"\n        ")],2)])],1),t._v(" "),a("div",{staticClass:"price"},[a("p",{staticClass:"total red"},[Number(e.listingPrice||0)?[t._v("\n          "+t._s(t._f("toIntCeil")(e.listingPrice))),a("span",[t._v("万")])]:a("span",[t._v("价格待定")])],2),t._v(" "),a("p",{staticClass:"unit"},[t._v(t._s(t._f("toIntCeil")(e.unitPrice))+"元/平米")])])])})),0)},s=[],i=a("a34a"),r=a.n(i),o=a("c1ed"),l=a.n(o),c=a("f803");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={data:function(){return{houesPlaceholderImg:l.a,queryData:{shelvesStatus:2,pageNum:1,pageSize:10},busy:!0,list:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;return d(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.queryData,e.next=3,Object(c["m"])(a);case 3:n=e.sent,s=n&&n.list,t.queryData.pageNum++,s&&(t.busy=!1,t.list=t.list.concat(s),(0==s.length||s.length<a.pageSize)&&(t.busy=!0));case 7:case"end":return e.stop()}}),e)})))()},rowClick:function(t){this.$getSelectionText()||this.$navigateTo({query:{id:t.id,title:"房源详情-".concat(t.communityName)},path:"/work/house/detail/".concat(t.id)})},loadMore:function(){this.busy||this.getList()}}},m=p,f=(a("3b21"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"0d10b172",null);e["default"]=v.exports},"318a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"deal-order-audit",attrs:{"close-on-click-modal":!1,title:"审核成交单",visible:t.value,width:"400px","before-close":t.close},on:{"update:visible":function(e){t.value=e}}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-position":"top"}},[a("el-form-item",{attrs:{label:"成交单号",required:""}},[a("p",{staticClass:"order-code"},[t._v(t._s(t.options.orderCode))])]),t._v(" "),a("el-form-item",{attrs:{label:"审核结果",required:""}},[a("el-radio-group",{model:{value:t.formData.success,callback:function(e){t.$set(t.formData,"success",e)},expression:"formData.success"}},[a("el-radio-button",{attrs:{label:!0}},[t._v("通过审核")]),t._v(" "),a("el-radio-button",{attrs:{label:!1}},[t._v("驳回")])],1)],1),t._v(" "),t.formData.success?t._e():a("el-form-item",{attrs:{label:"驳回理由",prop:"reason",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.reason,callback:function(e){t.$set(t.formData,"reason",e)},expression:"formData.reason"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("保 存")])],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("2b6d");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:{value:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{rules:o["a"].rules,formData:{reason:"",success:!0}}},watch:{value:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.form.resetFields()}))},options:{deep:!0,handler:function(t){this.formData.id=t.orderId}}},methods:{close:function(){this.$emit("input",!1)},submitForm:function(){var t=this;this.$refs.form.validate(function(){var e=u(r.a.mark((function e(a){var n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,Object(l["d"])(t.formData);case 3:n=e.sent,n&&(t.$showSuccess("操作成功"),t.close(),t.$emit("reRequest"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},p=d,m=(a("30f6"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,null,null);e["default"]=f.exports},3191:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/performance/statistics/store/statistics/group",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/message/waitTreate/".concat(t),method:"get"})}},"31a8":function(t,e,a){"use strict";var n=a("165c"),s=a.n(n);s.a},3209:function(t,e,a){"use strict";var n=a("6957"),s=a.n(n);s.a},3220:function(t,e,a){"use strict";var n=a("26be"),s=a.n(n);s.a},"326c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"pd20 mb20"},[a("div",{staticClass:"flex-between bd3-b h5"},[a("p",{staticClass:"color9"},[t._v("\n        角色类型\n      ")]),t._v(" "),a("p",[t._v("\n        "+t._s(t.roleTypeName)+"\n      ")])]),t._v(" "),1==t.roleType?a("div",{staticClass:"flex-between bd3-b h5"},[a("p",{staticClass:"color9"},[t._v("\n        选择方式\n      ")]),t._v(" "),a("p",t._l(t.menu,(function(e,n){return a("span",{key:n,staticClass:"menu-btn ml10 pointer",class:{"gray-bg":n!==t.activeIndex,color9:n!==t.activeIndex,blue:n===t.activeIndex},on:{click:function(e){t.activeIndex=n}}},[t._v("\n          "+t._s(e)+"\n        ")])})),0)]):t._e(),t._v(" "),0==t.activeIndex?a("div",{staticClass:"flex-between bd3-b h5"},[a("p",{staticClass:"color9"},[t._v("\n        选择角色人\n      ")]),t._v(" "),a("p",[a("el-autocomplete",{staticStyle:{width:"270px"},attrs:{placeholder:"输入经纪人姓名或手机号搜索","prefix-icon":"el-icon-search","fetch-suggestions":t.querySearchAsync},on:{select:t.handleSelect},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item;return a("div",{staticClass:"cell flex-between bd3-b"},[a("el-image",{staticClass:"cell-img mr10",attrs:{fit:"cover",src:n.avatarPath}},[a("img",{attrs:{slot:"error",src:t.$errorImg},slot:"error"})]),t._v(" "),a("div",{staticClass:"flex1"},[a("p",[t._v(t._s(n.realName)+"("+t._s(n.cellphone)+")")]),t._v(" "),a("p",{staticClass:"fs12 color9"},[t._v("\n                "+t._s(n.storeName)+t._s(n.storeGroupName)+","+t._s(n.positionName)+"\n              ")])])],1)}}],null,!1,313832061),model:{value:t.searchMsg,callback:function(e){t.searchMsg=e},expression:"searchMsg"}})],1)]):t._e(),t._v(" "),a("div",{staticClass:"mt10"},[a("el-input",{attrs:{type:"textarea",placeholder:"变更理由",rows:"4"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)]),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("96bd"),l=a("c24f"),c=a("db49");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{id:{type:[Number,String],required:!0},roleType:{type:[Number,String],required:!0},roleTypeName:{type:[Number,String],required:!0}},data:function(){return{config:c["a"].config,rules:c["a"].rules,loading:!1,menu:["自主选择","推荐到共享池"],activeIndex:0,remark:"",searchMsg:"",toUserId:""}},computed:{site:function(){return this.$store.state.settings.site}},methods:{close:function(){this.$emit("close")},save:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,l,c,u;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.remark,n=t.roleType,s=t.activeIndex,i=t.toUserId,l=t.id,c={remark:a,roleType:n},0!=s){e.next=7;break}if(i){e.next=6;break}return t.$showError("请选择角色人"),e.abrupt("return");case 6:c.toUserId=i;case 7:return e.next=9,Object(o["d"])(l,c);case 9:u=e.sent,u&&(t.$showSuccess("操作成功"),t.$root.$emit("houseDetailRefresh"),t.close());case 11:case"end":return e.stop()}}),e)})))()},searchUsers:function(t){var e=this;return d(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return");case 2:return n={keyWord:t,siteId:e.site.id},a.next=5,Object(l["o"])(n);case 5:return s=a.sent,a.abrupt("return",s);case 7:case"end":return a.stop()}}),a)})))()},querySearchAsync:function(t,e){var a=this;return d(r.a.mark((function n(){var s;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a.searchUsers(t);case 2:s=n.sent,e(s);case 4:case"end":return n.stop()}}),n)})))()},handleSelect:function(t){this.searchMsg=t.realName,this.toUserId=t.id}}},m=p,f=(a("08f7"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"71dc5c1b",null);e["default"]=v.exports},3305:function(t,e,a){t.exports=a.p+"img/mendian.d8b88aa4.png"},3314:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stroke-volume pd20-b"},[a("div",{staticClass:"head"},[a("h3",{staticClass:"title"},[t._v("门店行程量")]),t._v(" "),a("div",{staticClass:"filtrator"},[a("div",{staticClass:"tag"},[a("span",{on:{click:function(e){return t.clickDate(1)}}},[t._v("本周")]),t._v(" "),a("span",{on:{click:function(e){return t.clickDate(2)}}},[t._v("本月")]),t._v(" "),a("span",{on:{click:function(e){return t.clickDate(3)}}},[t._v("全年")])]),t._v(" "),a("el-date-picker",{attrs:{size:"mini","picker-options":t.$disabledFutureDate,type:"daterange","range-separator":"-","start-placeholder":"统计日期","end-placeholder":"统计日期","value-format":"yyyy-MM-dd"},on:{change:t.getStatistics},model:{value:t.queryData.date,callback:function(e){t.$set(t.queryData,"date",e)},expression:"queryData.date"}}),t._v(" "),a("el-cascader",{attrs:{size:"mini",clearable:"","show-all-levels":!1,options:t.storegrouptree,props:{label:"name",value:"nodeId",checkStrictly:!0,emitPath:!1},placeholder:"请选择店组或用户"},on:{change:t.getStatistics},model:{value:t.queryData.nodeId,callback:function(e){t.$set(t.queryData,"nodeId",e)},expression:"queryData.nodeId"}})],1)]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"tabs-wrap"},[a("el-radio-group",{attrs:{size:"small"},on:{change:t.getStatistics},model:{value:t.queryData.parentType,callback:function(e){t.$set(t.queryData,"parentType",e)},expression:"queryData.parentType"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("新房")]),t._v(" "),a("el-radio-button",{attrs:{label:"2"}},[t._v("买卖")]),t._v(" "),a("el-radio-button",{attrs:{label:"3"}},[t._v("客户")])],1),t._v(" "),a("span",{staticClass:"link-btn",on:{click:function(e){return t.$navigateTo("/work/home/strokeVolume")}}},[t._v("\n        查看详情>>\n      ")])],1),t._v(" "),a("div",{staticClass:"charts",attrs:{id:"storke-volume-charts"}})])])},s=[],i=a("a34a"),r=a.n(i),o=a("164e"),l=a.n(o),c=a("48fb"),u=a("2b6d");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={data:function(){return{queryData:{date:[],parentType:"1",dateType:null,nodeId:null},storegrouptree:[]}},computed:{storeGroupTreeNodeId:function(){return this.$store.state.settings.userInfo.storeGroupTreeNodeId}},watch:{storeGroupTreeNodeId:function(t){t&&(this.queryData.nodeId=t,this.getStatistics())}},created:function(){},mounted:function(){this.init()},methods:{init:function(){var t=this.$time().subtract("days",6).format("YYYY-MM-DD"),e=this.$time().format("YYYY-MM-DD");this.queryData.date=[t,e],this.getStoregrouptree(),this.storeGroupTreeNodeId&&(this.queryData.nodeId=this.storeGroupTreeNodeId,this.getStatistics())},clickDate:function(t){if(1==t){var e=this.$time().startOf("week").format("YYYY-MM-DD"),a=this.$time().format("YYYY-MM-DD");this.queryData.date=[e,a]}if(2==t){var n=this.$time().startOf("month").format("YYYY-MM-DD"),s=this.$time().format("YYYY-MM-DD");this.queryData.date=[n,s]}if(3==t){var i=this.$time().startOf("year").format("YYYY-MM-DD"),r=this.$time().format("YYYY-MM-DD");this.queryData.date=[i,r]}this.getStatistics()},setTreeValue:function(t){var e=this;t.forEach((function(t){t.value=t.type+"-"+t.id,t.children&&e.setTreeValue(t.children)}))},getStoregrouptree:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["v"])();case 2:a=e.sent,a&&(t.storegrouptree=a,t.setTreeValue(t.storegrouptree));case 4:case"end":return e.stop()}}),e)})))()},getStatistics:function(){var t=this;return p(r.a.mark((function e(){var a,n,s,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.queryData.date,!a||!a.length){e.next=6;break}t.queryData.startDate=a[0],t.queryData.endDate=a[1],e.next=9;break;case 6:return t.queryData.startDate=null,t.queryData.endDate=null,e.abrupt("return");case 9:return n=JSON.parse(JSON.stringify(t.queryData)),delete n.date,e.next=13,Object(c["a"])(n);case 13:s=e.sent,s&&(i=[],o=[],s.forEach((function(t){i.push(t.name),o.push(t.value)})),t.$nextTick((function(){t.drawLine(i,o)})));case 15:case"end":return e.stop()}}),e)})))()},drawLine:function(t,e){var a=this.queryData,n=a.startDate,s=a.endDate,i=l.a.init(document.getElementById("storke-volume-charts")),r={color:["#409eff"],tooltip:{trigger:"axis",axisPointer:{type:""},formatter:function(t){var e=t[0],a="".concat(n," ~ ").concat(s,'<br/><span class="blue fs20">·</span>').concat(e.name,":  ").concat(e.value);return a}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t,axisTick:{alignWithLabel:!0,show:!1,length:10},axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#cccccc"}}}],yAxis:[{type:"value",axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:"#cccccc",width:1,type:"dotted"}}}],series:[{name:"直接访问",type:"bar",barWidth:30,data:e}]};i.setOption(r)}}},f=m,v=(a("ee1b"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"308334ca",null);e["default"]=h.exports},"334c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-form",{ref:"form",attrs:{size:"small",model:t.form,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"exploration window2-box"},[a("p",{staticClass:"h4"},[t._v(t._s(t.msg))]),t._v(" "),a("div",{staticClass:"textarea pd20-b bd3-b"},[a("el-form-item",{staticClass:"flex1",attrs:{prop:"description"}},[a("el-input",{attrs:{disabled:t.disabled,type:"textarea",rows:5,placeholder:"请输入房源优势",maxlength:"200","show-word-limit":""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),a("div",{staticClass:"ml10 btn-box",style:"background-image: url("+t.form.filePath+")"},[a("div",{staticClass:"flex-around-col height",class:{mask:!!t.form.filePath}},[a("div",{staticClass:"ta-center"},[a("el-upload",{ref:"upload",attrs:{disabled:t.disabled,action:t.baseURL+"/api/v1/upload/mulit",accept:"image/*",data:t.uploadData,"on-progress":function(){t.loading=!0},"on-success":t.uploadSuccess,"show-file-list":!1}},[a("el-button",{class:{white:!!t.form.filePath},attrs:{disabled:t.disabled,type:"text",size:"small",icon:"el-icon-upload"}},[t._v("\n                  "+t._s(t.form.filePath?"重新上传户型图":"上传户型图")+"\n                ")])],1)],1),t._v(" "),t.imgList.length?a("div",{staticClass:"ta-center"},[a("el-button",{class:{white:!!t.form.filePath},attrs:{disabled:t.disabled,type:"text",size:"small"},on:{click:function(e){t.showHouseType=!0}}},[t._v("\n                [小区户型库]\n              ")])],1):t._e()])])],1),t._v(" "),t._l(t.form.itemList,(function(e,n){return a("div",{key:n,staticClass:"cell"},[a("el-image",{staticClass:"img-box mr20",attrs:{fit:"scale-down",src:e.filePath||t.roomStyleList[e.surveyType-1].icon}}),t._v(" "),a("div",{staticClass:"flex-between-col flex1",staticStyle:{"min-height":"95px"}},[a("div",{staticClass:"h2 fs16"},[a("p",[t._v(t._s(e.surveyName))])]),t._v(" "),a("div",{staticClass:"grid"},[a("el-upload",{ref:"upload",refInFor:!0,attrs:{action:t.baseURL+"/api/v1/upload/mulit",accept:"image/*",data:t.uploadData,"on-progress":function(){t.loading=!0},"on-success":function(e){return t.itemUpload(e,n)},"show-file-list":!1}},[a("el-button",{attrs:{size:"small",icon:"el-icon-upload"}},[t._v("\n                上传图片\n              ")])],1),t._v(" "),a("el-form-item",{attrs:{prop:"itemList."+n+".area",rules:[t.rules.number,t.rules.required()]}},[a("el-input",{attrs:{disabled:t.disabled,placeholder:"面积"},model:{value:e.area,callback:function(a){t.$set(e,"area",a)},expression:"item.area"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("平米")])])],1),t._v(" "),a("el-form-item",{attrs:{prop:"itemList."+n+".orientationList",rules:[t.rules.required()]}},[a("el-select",{attrs:{multiple:"",disabled:t.disabled,placeholder:"朝向"},model:{value:e.orientationList,callback:function(a){t.$set(e,"orientationList",a)},expression:"item.orientationList"}},t._l(t.orientations,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"itemList."+n+".window",rules:[t.rules.required()]}},[a("el-select",{attrs:{disabled:t.disabled,placeholder:"窗户"},model:{value:e.window,callback:function(a){t.$set(e,"window",a)},expression:"item.window"}},t._l(t.config.windowTypeList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1)]),t._v(" "),t.disabled?t._e():a("div",{staticClass:"ml20",staticStyle:{width:"20px"}},[e.canDelete?a("svg-icon",{staticClass:"icon fs20 pointer",attrs:{"icon-class":"delete"},on:{click:function(a){return t.deleteCell(n,e.surveyType)}}}):t._e()],1)],1)})),t._v(" "),t.disabled?t._e():a("div",{staticClass:"mt15"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showRooms=!0}}},[t._v("\n          + 添加更多空间\n        ")])],1)],2)]),t._v(" "),t.disabled?a("div",[t._m(0)]):a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1),t._v(" "),a("window2",{attrs:{width:"410",hasFooter:!1},model:{value:t.showHouseType,callback:function(e){t.showHouseType=e},expression:"showHouseType"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      小区户型库\n    ")]),t._v(" "),a("div",{staticClass:"pd20 mt20 mb20",attrs:{slot:"main"},slot:"main"},[a("p",{staticClass:"mb20"},[t._v(t._s(t.msg))]),t._v(" "),a("div",{staticClass:"grid"},t._l(t.imgList,(function(e,n){return a("div",{key:n},[a("el-image",{staticClass:"img-box pointer",attrs:{fit:"cover",src:e.filePath},on:{click:function(a){return t.setImg(e.filePath)}}}),t._v(" "),a("p",{staticClass:"color9 fs13 mt10"},[t._v(t._s(e.inDate)+" 上传")])],1)})),0)])]),t._v(" "),a("window2",{attrs:{width:"410",hasFooter:!1},model:{value:t.showRooms,callback:function(e){t.showRooms=e},expression:"showRooms"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      添加更多房屋空间\n    ")]),t._v(" "),a("div",{staticClass:"pd20 mt20 mb20",attrs:{slot:"main"},slot:"main"},[a("div",{staticClass:"grid"},t._l(t.roomStyleList,(function(e,n){return a("div",{key:n,staticClass:"img-box pointer",on:{click:function(a){return t.addCell(e,n+1)}}},[a("el-image",{staticClass:"cell",attrs:{fit:"scale-down",src:e.icon}}),t._v(" "),a("p",{staticClass:"color9"},[t._v(t._s(e.name))])],1)})),0)])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"orange h5 ta-right mr20"},[a("i",{staticClass:"el-icon-warning"}),t._v("\n      [更新] 审核中，暂时不支持操作\n    ")])}],i=a("a34a"),r=a.n(i),o=a("b964"),l=a("db49"),c=a("8740"),u=a.n(c),d=a("8da4"),p=a.n(d),m=a("7b8c"),f=a.n(m),v=a("3f2f"),h=a.n(v),b=a("3d52"),g=a.n(b),_=a("3caa"),y=a.n(_),w=a("3f07"),C=a.n(w),k=a("c0fb"),x=a.n(k),D=a("d5c8"),I=a.n(D),S=a("17fb"),N=a.n(S),A=a("a166"),T=a.n(A),O=a("18bc");function P(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function j(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){P(i,n,s,r,o,"next",t)}function o(t){P(i,n,s,r,o,"throw",t)}r(void 0)}))}}function L(t){return $(t)||R(t)||E(t)||F()}function F(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(t,e){if(t){if("string"===typeof t)return M(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?M(t,e):void 0}}function R(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function $(t){if(Array.isArray(t))return M(t)}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var q={name:"",filePath:"",surveyType:null,surveyName:"",area:null,orientationList:[],window:""},z={props:{id:{type:[Number,String],required:!0},msg:{type:String,required:!0},create:{type:Boolean,default:!1}},components:{Window2:o["a"]},data:function(){return{config:l["a"].config,rules:l["a"].rules,orientations:["无"].concat(L(l["a"].config.orientations)),form:{description:"",filePath:"",itemList:[]},showHouseType:!1,showRooms:!1,imgList:[],roomStyleList:[{icon:I.a,name:"客厅"},{icon:C.a,name:"卧室"},{icon:N.a,name:"卫生间"},{icon:x.a,name:"阳台"},{icon:p.a,name:"过道"},{icon:u.a,name:"厨房"},{icon:f.a,name:"储物间"},{icon:h.a,name:"保姆间"},{icon:g.a,name:"衣帽间"},{icon:y.a,name:"门厅"},{icon:T.a,name:"标准空间"}],disabled:!1,indexList:["A","B","C","D","E","F","G","H"],loading:!1,info:""}},computed:{baseURL:function(){return window.baseURL},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},uploadData:function(){var t=this.token,e=this.userId;return{token:t,userId:e}}},created:function(){this.info=this.msg,this.getLib(),this.getSurvey()},methods:{setImg:function(t){this.form.filePath=t,this.showHouseType=!1},uploadSuccess:function(t){this.loading=!1;var e=t.data[0];this.form.filePath=e.fileUrl},itemUpload:function(t,e){this.loading=!1;var a=t.data[0];this.form.itemList[e].filePath=a.fileUrl},addCell:function(t,e){var a=this,n=this.form.itemList.find((function(t){return t.surveyType===e})),s=JSON.parse(JSON.stringify(q));if(s.surveyName=t.name,s.filePath=t.icon,s.surveyType=e,s.canDelete=!0,this.form.itemList.push(s),n){var i=0;this.form.itemList.forEach((function(n){n.surveyType===e&&(n.surveyName=t.name+a.indexList[i],i++)}))}this.showRooms=!1},deleteCell:function(t,e){var a=this;this.form.itemList.splice(t,1);var n=JSON.parse(JSON.stringify(this.form.itemList)),s=n.filter((function(t){return t.surveyType===e}));if(s.length>1){var i=0;n.forEach((function(t){t.surveyType===e&&(t.surveyName=a.roomStyleList[e-1].name+a.indexList[i],i++)}))}else n.forEach((function(t){t.surveyType===e&&(t.surveyName=a.roomStyleList[e-1].name)}));this.form.itemList=n},getLib:function(){var t=this;return j(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["b"])(t.id);case 2:a=e.sent,t.imgList=a;case 4:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},save:function(){var t=this;this.$refs.form.validate(function(){var e=j(r.a.mark((function e(a){var n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(n=JSON.parse(JSON.stringify(t.form)),s=!1,n.itemList=n.itemList.map((function(t){return t.filePath&&-1!=t.filePath.indexOf("http")||(t.filePath="",s=!0),t})),!s){e.next=8;break}return t.$showError("请上传相应图片"),e.abrupt("return");case 8:if(i=null,!t.create){e.next=15;break}return e.next=12,Object(O["e"])(t.id,n);case 12:i=e.sent,e.next=18;break;case 15:return e.next=17,Object(O["d"])(t.id,n.id,n);case 17:i=e.sent;case 18:i&&(t.$root.$emit("houseDetailRefresh"),t.close());case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getSurvey:function(){var t=this;return j(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["c"])(t.id);case 2:a=e.sent,a&&(t.form=a,n=a.itemList||[],t.form.itemList=n,"0"===String(a.status)&&(t.disabled=!0));case 4:case"end":return e.stop()}}),e)})))()}}},B=z,U=(a("31a8"),a("3408"),a("2877")),V=Object(U["a"])(B,n,s,!1,null,"63c4dc33",null);e["default"]=V.exports},"335f":function(t,e,a){},3362:function(t,e,a){"use strict";var n=a("c19f"),s=a.n(n);s.a},"337d":function(t,e,a){"use strict";var n=a("8f18"),s=a.n(n);s.a},"33e8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""}},[t._v("添加快捷用语")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"sort",label:"类型",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"快捷用语"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.eidt(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(t){e.$index,e.row}}},[t._v("删除")])]}}])})],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("acb0");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={data:function(){return{tableData:[]}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){},methods:{edit:function(t,e){this.storeFlag=!0},delete:function(t,e){},gettableData:function(){var t=this;return c(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(o["c"])(a);case 3:n=e.sent,t.tableData=n;case 5:case"end":return e.stop()}}),e)})))()}}},d=u,p=(a("b913"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"70ac3094",null);e["default"]=m.exports},3408:function(t,e,a){"use strict";var n=a("a1b3"),s=a.n(n);s.a},3509:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search-box"},[a("el-input",{staticClass:"input",attrs:{placeholder:"搜索楼盘名称"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.search}},[t._v("搜新房")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.search}},[t._v("搜二手房")])],1),t._v(" "),t._m(0)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-menu"},[a("div",[a("p",{staticClass:"fs16 bold color3"},[t._v("新房")]),t._v(" "),a("div")])])}],i={data:function(){return{keyword:"",tabData:[{label:"买卖",placeholder:"搜索房源编号、小区名称",msg:"",path:"/work/house/deal"},{label:"新房",placeholder:"请输入楼盘名称",msg:"",path:"/work/house/newHouse"},{label:"客户",placeholder:"搜索编号、客户名称或者客户电话",msg:"",path:"/work/customer/mine"}]}},methods:{search:function(){this.$navigateTo({query:{search:tabData[tabIndex].msg},path:path})}}},r=i,o=(a("1534"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"3227ed83",null);e["default"]=l.exports},"356b":function(t,e,a){"use strict";var n=a("4f55"),s=a.n(n);s.a},3596:function(t,e,a){},"359b":function(t,e,a){},"360a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"head"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"avatar"},[a("el-image",{attrs:{fit:"cover",src:t.userInfo.avatarPath}},[a("img",{attrs:{slot:"error",src:t.avatar},slot:"error"})])],1),t._v(" "),a("div",{staticClass:"base"},[a("div",{staticClass:"welcome"},[a("p",[t._v("Hi, "+t._s(t.userInfo.realName)+" 出发！为梦想而战")])]),t._v(" "),a("div",{staticClass:"info"},[a("p",[t._v(t._s(t.userInfo.companyName))]),t._v(" "),a("p",[t.userInfo.departmentFullName?a("span",[t._v("\n              "+t._s(t.userInfo.departmentFullName)+"\n            ")]):t._e(),t._v(" "),t.userInfo.storeName?a("span",[t._v(" - "+t._s(t.userInfo.storeName))]):t._e(),t._v(" "),t.userInfo.storeGroupName?a("span",[t._v("\n              - "+t._s(t.userInfo.storeGroupName)+"\n            ")]):t._e(),t._v(" "),t.userInfo.positionName?a("span",[t._v("\n              "+t._s(t.userInfo.positionName)+"\n            ")]):t._e()])])])]),t._v(" "),a("div",{staticClass:"xiazai"},[a("img",{staticClass:"pointer",attrs:{src:t.xiazai},on:{click:t.downAPP}})])]),t._v(" "),a("div",{staticClass:"dao-box"},[a("div",{staticClass:"home-main"},[a("div",{staticClass:"tabs y3"},[a("div",t._l(t.tabs,(function(e,n){return a("div",{key:n,staticClass:"tab x aic pointer",class:{active:n==t.tabIndex},on:{click:function(e){t.tabIndex=n}}},[a("svg-icon",{staticClass:"tab-icon",attrs:{"icon-class":e.icon}}),t._v(" "),a("p",{staticClass:"fs18 color3 flex1",class:{bold:n==t.tabIndex}},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),e.num>0?a("div",{staticClass:"num"},[t._v("\n              "+t._s(e.num)+"\n            ")]):t._e()],1)})),0),t._v(" "),a("div",{staticClass:"mendian"},[a("img",{attrs:{src:t.mendian}})])]),t._v(" "),a("div",{staticClass:"content"},[0==t.tabIndex?a("div",[a("div",[a("search-house")],1)]):t._e(),t._v(" "),1==t.tabIndex?a("div",{staticClass:"shortcut-info"},[a("h3",{staticClass:"title"},[t._v("P+助手")]),t._v(" "),a("el-tabs",{staticClass:"fm-tabs2",attrs:{type:"card"},model:{value:t.pTabActive,callback:function(e){t.pTabActive=e},expression:"pTabActive"}},[a("el-tab-pane",{staticClass:"tab-pane",attrs:{name:"1"}},[a("el-badge",{staticClass:"label",attrs:{slot:"label","is-dot":t.dot.hasMessage},slot:"label"},[t._v("\n                我的消息\n              ")]),t._v(" "),a("div",{staticClass:"helper-img"},[a("svg-icon",{staticClass:"img",attrs:{"icon-class":"mascot"}})],1),t._v(" "),a("fm-notification",{staticClass:"notification",attrs:{maxW:150,rowStyle:{paddingLeft:"20px"},hasClickStyle:!1}})],1),t._v(" "),t.dot.hasHouseWaitShelf?a("el-tab-pane",{staticClass:"tab-pane",attrs:{name:"2"}},[a("el-badge",{staticClass:"label",attrs:{slot:"label","is-dot":null},slot:"label"},[t._v("待上架房源")]),t._v(" "),a("div",{staticClass:"helper-img"},[a("svg-icon",{staticClass:"img",attrs:{"icon-class":"mascot"}})],1),t._v(" "),t.tabsShow[1]?a("house",{staticClass:"house"}):t._e()],1):t._e(),t._v(" "),t.dot.hasCommunityWaitShelf?a("el-tab-pane",{staticClass:"tab-pane",attrs:{name:"3"}},[a("el-badge",{staticClass:"label",attrs:{slot:"label","is-dot":null},slot:"label"},[t._v("待上架小区")]),t._v(" "),a("div",{staticClass:"helper-img"},[a("svg-icon",{staticClass:"img",attrs:{"icon-class":"mascot"}})],1),t._v(" "),t.tabsShow[2]?a("community",{staticClass:"house"}):t._e()],1):t._e(),t._v(" "),t.dot.hasFeeWaitAudit?a("el-tab-pane",{staticClass:"tab-pane",attrs:{name:"4"}},[a("el-badge",{staticClass:"label",attrs:{slot:"label","is-dot":""},slot:"label"},[t._v("待审核费用")]),t._v(" "),a("div",{staticClass:"helper-img"},[a("svg-icon",{staticClass:"img",attrs:{"icon-class":"mascot"}})],1),t._v(" "),t.tabsShow[3]?a("check",{staticClass:"check"}):t._e()],1):t._e()],1)],1):t._e()])])])])},s=[],i=a("a34a"),r=a.n(i),o=a("1195"),l=a.n(o),c=a("f346"),u=a.n(c),d=a("3305"),p=a.n(d),m=a("203a"),f=a.n(m),v=a("8c58"),h=a("3fff"),b=a("315e"),g=a("7233"),_=a("001a"),y=a("3191");function w(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function C(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){w(i,n,s,r,o,"next",t)}function o(t){w(i,n,s,r,o,"throw",t)}r(void 0)}))}}var k={components:{FmNotification:v["a"],SearchHouse:h["default"],House:b["default"],Check:_["default"],Community:g["default"]},data:function(){return{mendian:p.a,xiazai:u.a,avatar:l.a,notification:f.a,pTabActive:"1",dot:{hasMessage:!1,hasHouseWaitShelf:!1,hasCommunityWaitShelf:!1,hasFeeWaitAudit:!1},tabsShow:[!0,!1,!1,!1],tabs:[{name:"搜房源",icon:"h-xffx",num:0},{name:"P+助手",icon:"robot",num:0}],tabIndex:0}},computed:{userInfo:function(){return this.$store.state.settings.userInfo},site:function(){return this.$store.state.settings.site},routePath:function(){return this.$route.path}},watch:{pTabActive:function(t){this.tabsShow[t-1]=!0},routePath:function(t){"/home/home"==t&&this.waitTreate()}},created:function(){this.waitTreate()},methods:{waitTreate:function(){var t=this;return C(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["b"])(t.site.id);case 2:a=e.sent,t.dot=a;case 4:case"end":return e.stop()}}),e)})))()},downAPP:function(){window.open("https://fangyibao-res.oss-cn-hangzhou.aliyuncs.com/app_download/P%2B.apk")}}},x=k,D=(a("20fd"),a("0d23"),a("2877")),I=Object(D["a"])(x,n,s,!1,null,"40ecabe2",null);e["default"]=I.exports},3630:function(t,e,a){},3633:function(t,e,a){t.exports=a.p+"img/sfz2.71b4c366.png"},"36b9":function(t,e,a){},"36c0":function(t,e,a){},"36c5":function(t,e,a){},3822:function(t,e,a){},"38b1":function(t,e,a){},3915:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-range"},[a("el-input",{staticClass:"input",attrs:{type:"number",min:0,placeholder:t.placeholder[0]},model:{value:t.min,callback:function(e){t.min=t._n(e)},expression:"min"}}),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("el-input",{staticClass:"input",attrs:{type:"number",min:t.min,placeholder:t.placeholder[1]},model:{value:t.max,callback:function(e){t.max=t._n(e)},expression:"max"}}),t._v(" "),a("p",[t._v(t._s(t.unit))]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:t.inputRangeBtn}},[t._v("\n    确定\n  ")])],1)},s=[],i={props:{unit:{type:String,required:!0},placeholder:{type:Array,default:function(){return["最低","最高"]}},refresh:{type:Number,default:0}},data:function(){return{min:"",max:""}},watch:{refresh:function(){this.min="",this.max=""}},methods:{inputRangeBtn:function(){var t=0,e=0;this.min>this.max&&this.max&&this.min&&(t=this.min,e=this.max,this.max=t,this.min=e),(this.min||this.max)&&this.$emit("inputRangeBtn",[this.min,this.max])}}},r=i,o=(a("3209"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"7041f3db",null);e["a"]=l.exports},3991:function(t,e,a){"use strict";var n=a("ca64"),s=a.n(n);s.a},"39d4":function(t,e,a){"use strict";var n=a("597f"),s=a.n(n);s.a},"3a02":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-menu",{staticClass:"x-nav",attrs:{"default-active":t.activeIndex,"background-color":"#646977","text-color":"#fff","unique-opened":!0,"active-text-color":"#fff"},on:{select:t.handleSelectMenu}},t._l(t.navData,(function(e){return a("div",{key:e.path},[2!=e.status?a("el-submenu",{attrs:{index:e.path}},[a("template",{slot:"title"},[e.icon?a("svg-icon",{staticClass:"icon",attrs:{"icon-class":e.icon}}):t._e(),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(e.name))])],1),t._v(" "),t._l(e.children,(function(e){return[3!=e.status&&e.meta.permission?a("el-menu-item",{key:e.path,staticClass:"sub-menu-item",attrs:{index:e.path}},[a("span",[t._v(t._s(e.name))])]):t._e()]}))],2):t._e(),t._v(" "),1!=e.status?a("el-menu-item",{attrs:{index:e.path}},[a("template",{slot:"title"},[e.icon?a("svg-icon",{attrs:{"icon-class":e.icon}}):t._e(),t._v(" "),a("span",{staticClass:"text"},[t._v(t._s(e.name))])],1)],2):t._e()],1)})),0)},s=[];function i(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=r(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){l=!0,i=t},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw i}}}}function r(t,e){if(t){if("string"===typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var l={computed:{activeIndex:function(){return this.$route.path},menus:function(){return this.$store.state.settings.menus},navData:function(){var t=this,e=[];return this.menus.forEach((function(a){t.$route.path.indexOf(a.path)>-1&&(e=a.children)})),e}},methods:{handleSelectMenu:function(t){var e,a=this.$store.state.tagsView.visitedViews,n=i(a);try{for(n.s();!(e=n.n()).done;){var s=e.value;if(s.path==t){this.$navigateTo(s.fullPath,!1);break}this.$navigateTo(t)}}catch(r){n.e(r)}finally{n.f()}}}},c=l,u=(a("99cb"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports},"3ac9":function(t,e,a){"use strict";var n=a("ddcd"),s=a.n(n);s.a},"3ae0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:t.value,"before-close":t.close,title:"选择我的客户",width:"800px"},on:{"update:visible":function(e){t.value=e}}},[a("div",{staticClass:"cj-house dialog-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"filtrator"},[a("el-input",{staticClass:"input",attrs:{size:"small",placeholder:"搜索客户称呼、手机号",icon:"el-icon-search"},model:{value:t.queryData.keyword,callback:function(e){t.$set(t.queryData,"keyword",e)},expression:"queryData.keyword"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(e){return t.search(1)}},slot:"append"},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{staticClass:"table",attrs:{data:t.tableData,size:"mini",border:"","header-cell-style":{background:"#eee"}}},[a("el-table-column",{attrs:{label:"选择",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.customerId},on:{change:function(a){return t.radioChange(e.row)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"客户编号",prop:"customerId",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{label:"客户名称",prop:"customerName"}}),t._v(" "),a("el-table-column",{attrs:{label:"联系电话"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t._f("formatPhone")(e.row.customerCellphone))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"客户需求"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.requirementList.toString())+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"维护人",prop:"maintainUserName"}})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.queryData.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.queryData.pageNum,total:t.totalNum},on:{"update:currentPage":function(e){return t.$set(t.queryData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryData,"pageNum",e)},"current-change":t.search}})],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("确 定")])],1)])])},s=[],i=a("a34a"),r=a.n(i),o=a("f6b0");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={props:["value"],data:function(){return{totalNum:0,queryData:{pageSize:5,pageNum:1,keyword:"",from:2},tableData:[],selected:"",customer:{}}},watch:{value:function(t){t&&this.search(1)}},methods:{radioChange:function(t){this.customer=t},submit:function(){this.$emit("on-change",this.customer),this.$emit("input",!1)},close:function(){this.$emit("input",!1)},search:function(t){var e=this;return c(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.queryData.pageNum=t,a.next=3,Object(o["f"])(e.queryData);case 3:n=a.sent,n&&(e.tableData=n.list,e.totalNum=n.total);case 5:case"end":return a.stop()}}),a)})))()}}},d=u,p=(a("b6f4"),a("c062"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"0a3d503e",null);e["default"]=m.exports},"3af1":function(t,e,a){"use strict";var n=a("fde2"),s=a.n(n);s.a},"3b21":function(t,e,a){"use strict";var n=a("f148"),s=a.n(n);s.a},"3c03":function(t,e,a){"use strict";var n=a("b3ad"),s=a.n(n);s.a},"3c5d":function(t,e,a){},"3caa":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REQ3NkQ3RjMwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REQ3NkQ3RjQwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERDc2RDdGMTBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERDc2RDdGMjBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpWAQ78AAAHLSURBVHja7Jq9SsNQFMdvtC0uCtLG2EHETRHFVXBwUPABzNBZXHwAF6EObu6CjyAEdHJSQVAfwNXFQRBrUjqIovgR/8ETeonRJo3eluQc+JH0fiT53VxCD/dqruuKqGFZVqsmVbABGsAGDrgnHKIm1fnHD9FmmKYZq31O/G0sggIwiCjhBuRtGhQn8NuWyt7afcB2hcfAJD3ELR2fpfo9cA50UKKjQec+vdRWo3o9xv3r4ACsqhK+AOVA2QPI0/kl2PmlvxaQlwfEH6Qhwm+Tl/oXwYpK4XJIWX+M/i7NCjtGn0EagHmwS4OmbEr7sQCuaAC8N7QNxsX/RIPQk1wkqfALuCG8WBddHj0iY8HCLMzCLMzCLMzCLJxK4SWwCUY7KZxTdJ8ZcEgDvAym0v6GdeleRham9DHYAqegkoUp7SX8Vf5KszALszALszALszALpzmS/rXsAyNgWDQXvlItfKTwWQco05rohHAtJM17El9LmvmI1yiK5tJoia4n/5aXS73yQkhCokx4lpJ4f3Xe4xGcgTkwDdZaCCWZXd4q4r5K4Wvip6jEzHvl7Q1h+0CC+0ReuyUfPqG3Xxff92jIQneB+ndVH4JPAQYAhZFoT60Q/4sAAAAASUVORK5CYII="},"3cba":function(t,e,a){},"3d52":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDgzMzhDREYwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDgzMzhDRTAwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEODMzOENERDBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEODMzOENERTBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PugYS4YAAANaSURBVHja7JpLaBNRFIYnJRUUq7W4sKBgUVBQi6m06KbqwoW4MIopYn2B0mqhLRbBV0WwClqlEKGIwUUEV8YHglV0JQoiliqhKorgg7Yri49qtcXG+B/6By5Dmkwzj0QyBz5yk5l77vnvnDm5cxNPPB7XklkkEtEMmhfUge1gMZilWWdfwRtwFYTAWLoOgUAgbbBmrBjcB1WaPSaTt4rsBhvAZzMOvSb73lXEPgK3wU+wBawDP8DBSfg8D4rAA3ADTAcbQTWopP9qI1faDsGHOfNix8Ep5dggBUvwL0C3AX+VPF/sErjJdgf9n+R4R0BbpkEXZNhvGYMQuwdO6453gS/KxBidQI39unTH2jiOWCvHd0xwIQiDKeAbC5a+8o2Cs2xvBk1pfDbxPLF29tdbHYuYjHuFcTgiWFKqgu0DoH+C8y6AHraDDLIcePiZh+/DPK7x/OAE/mScFrZ9jMN2wUvAMSVtwynOHQF+8Jbvd4IoGAJ9fJX3u3j8Fc8fSeEzrKR7K+OxTbBckU6mlARbb6BPP6u4XO1hfiaVdy5fxX7x+MoU2aJaPccvZDweu6p0LVitVOUBg/0kuGZwFKwB8ylWJuADeKhMhhEb4PhBxlPLhYmlgmWBcY7t55zZydpwkuqbqXXyVqhgXHdYQC1LaSkWc1iN94GY0r9Ec8ZKlHhjjOMv42qx8h6Wq9vI9jXdIiLERUaNzWJrOE5I+axbSeVGxmmJ4AY6G1MWGwmrYtHw2SzYx3H0a/YT4A/ja7BK8LbEAxR4p+WWfQTXdXGaFryAr1EtNy2qi9N0lZbn0eVMn1JwCzwDv7MocirT26+sB15aJXg/n3ln8Pu0mfdzHyukk7YQvAfzdLEPKYXVdEo/5Zr3IitlYqLKONNOX9kyRewg4ypnnJYtPD6xCsosLgUrwCKw18Hv4cSj42Wuz3uYxjE7NwBiLBKJQrHeYcGyrDxkxkGBlmfmCnYFu4Jdwa5gV7ArOHvmtdl/qUXr7eL/QbBs0nfkU0rPzreUlv0v2ZadZoGvPWBrLghOPJoVJTkmW6hPLJo8v268rAmW34Nk+2cHn5m/25ApM+lf7HW2BctPopu08e2fdptvP/kN6ky2i1YvWKuN/91h1Cah4vcxx+k16+yfAAMAqJuvMspNFWMAAAAASUVORK5CYII="},"3e48":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"pd20 mb20 mt20"},[a("div",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入封盘原因，最少三个字以上",minlength:"3"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"mt10 pd10-b bd3-b"},t._l(t.prohibitionReasonList,(function(e,n){return a("p",{key:n,staticClass:"bd1 mr10 h1 br1 pd10 pointer color-bg dp-ib mb5",on:{click:function(a){t.reason+=e.name}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),0),t._v(" "),a("div",{staticClass:"flex-between mt10"},[a("p",{staticClass:"color9"},[t._v("解封时间")]),t._v(" "),a("p",{staticStyle:{position:"relative"}},[a("el-date-picker",{ref:"datePicker",staticStyle:{width:"0",height:"0",overflow:"hidden"},attrs:{type:"date","picker-options":t.$disabledPastDate},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),t._v(" "),a("span",[t._v(t._s(t.lockTime))]),t._v(" "),a("svg-icon",{staticClass:"icon pointer",attrs:{"icon-class":"right"},on:{click:function(e){t.dialogVisible=!0}}})],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,width:"250px",modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"flex-between"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.chooseDate}},[t._v("\n          选择时间\n        ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.setLockTime}},[t._v("\n          手动解封\n        ")])],1)])],1),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt10"},[a("p",{staticClass:"color9"},[t._v("快捷用语")])])}],i=a("a34a"),r=a.n(i),o=a("6ffd"),l=a("acb0");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:{id:{type:[Number,String],required:!0}},data:function(){return{reason:"",dialogVisible:!1,lockTime:"",time:"",prohibitionReasonList:[]}},watch:{time:function(t){if(t){var e=this.$time(t).format("YYYY-MM-DD");this.lockTime=e}}},created:function(){this.getDictList(),this.lockTime=this.$time().add(7,"days").format("YYYY-MM-DD")},methods:{getDictList:function(){var t=this;return u(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={dicttype:3,enable:!1,subType:31},e.next=3,Object(l["n"])(a);case 3:n=e.sent,n&&(t.prohibitionReasonList=n);case 5:case"end":return e.stop()}}),e)})))()},setLockTime:function(){this.lockTime="手动解封",this.dialogVisible=!1},chooseDate:function(){this.dialogVisible=!1,this.$refs.datePicker.pickerVisible=!0},close:function(){this.$emit("close")},save:function(){var t=this;return u(r.a.mark((function e(){var a,n,s,i,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.reason,n=t.lockTime,s=t.id,!(a.length<=3)){e.next=5;break}t.$showError("请输入封盘原因，最少三个字以上"),e.next=11;break;case 5:return"手动解封"===n&&(n=null),i={reason:a,lockTime:n},e.next=9,Object(o["c"])(s,i);case 9:l=e.sent,l&&(t.$showSuccess("操作成功"),t.close());case 11:case"end":return e.stop()}}),e)})))()}}},p=d,m=a("2877"),f=Object(m["a"])(p,n,s,!1,null,null,null);e["default"]=f.exports},"3e62":function(t,e,a){"use strict";var n=a("c59b"),s=a.n(n);s.a},"3e90":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""}},[t._v("添加建筑类型")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"sort",label:"类型",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"建筑类型"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.eidt(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(t){e.$index,e.row}}},[t._v("删除")])]}}])})],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("acb0");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={data:function(){return{tableData:[]}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){},methods:{edit:function(t,e){this.storeFlag=!0},delete:function(t,e){},gettableData:function(){var t=this;return c(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(o["c"])(a);case 3:n=e.sent,t.tableData=n;case 5:case"end":return e.stop()}}),e)})))()}}},d=u,p=(a("d929"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"1440a0d2",null);e["default"]=m.exports},"3e9f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("创建小区")])},s=[],i={components:{},data:function(){return{}},created:function(){},methods:{}},r=i,o=a("2877"),l=Object(o["a"])(r,n,s,!1,null,"ca18cb74",null);e["default"]=l.exports},"3eb2":function(t,e,a){"use strict";var n=a("bcee"),s=a.n(n);s.a},"3ed8":function(t,e,a){},"3edf":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})},s=[],i=a("a34a"),r=a.n(i),o=a("164e"),l=a.n(o),c=a("9754");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{className:{type:String,default:"my-chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},data:function(){return{chart:null,Abscissa:[],ChCountAll:[],ShCountAll:[]}},created:function(){this.getDealVolumeByHistory()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getDealVolumeByHistory:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={QueryDealType:0,QueryDealTimeType:0},e.next=3,Object(c["b"])(a);case 3:n=e.sent,s=n.Abscissa,i=n.ChCountAll,o=n.ShCountAll,s=s.map((function(t){return t+"周"})),t.Abscissa=s.reverse(),t.ChCountAll=i.reverse(),t.ShCountAll=o.reverse(),t.initChart();case 10:case"end":return e.stop()}}),e)})))()},initChart:function(){var t=this.Abscissa,e=this.ChCountAll,a=this.ShCountAll;this.chart=l.a.init(document.getElementById(this.id));var n={tooltip:{trigger:"axis"},color:["#9820FB","#409eff"],legend:{data:["新房","二手房"],x:"right",y:"top"},grid:{left:"0",right:"1%",bottom:"0",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t,axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#cccccc"}}},yAxis:{type:"value",axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:"#cccccc",width:1,type:"solid"}}},series:[{name:"新房",type:"line",smooth:!0,showSymbol:!1,data:e,lineStyle:{normal:{color:"#9820FB"}}},{name:"二手房",type:"line",smooth:!0,showSymbol:!1,data:a,lineStyle:{normal:{color:"#409eff"}}}]};this.chart.setOption(n)}}},m=p,f=a("2877"),v=Object(f["a"])(m,n,s,!1,null,null,null);e["default"]=v.exports},"3f01":function(t,e,a){"use strict";var n=a("755c"),s=a.n(n);s.a},"3f07":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUUyMTgxRjEwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUUyMTgxRjIwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5RTIxODFFRjBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RTIxODFGMDBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpDKbDcAAAIzSURBVHja7Jk5SANBFIbXE68oKmghKARBBbEVRSFaWCkIksJa0NZO0NrGRlvFQlCxCBaCNkHwwGAhWARsAoJoZ8B4C17xH/wDy2YTTXay2ZB58DGbufb9u7MzbyYF0WhUM5rP59P+YRNgHjRq9totmAOrf1X0er1xeYVp3rQZrGRBrLAGsEwfUrZiC4LFw7oA/TYLDoAO+nBtl+CYfYOIzYI/rTQu1PLM8k5wseT+akkiuwEfJj4km4AiMj8bmYI9YA9UJKkTBD3glb9F3VPQlaSNqDsMDpwmeIoCXsC7SXkVhQ2CXeYNME+89WeTNqWgEkzKEizzG3YxFc7VmeBnebWuTQ1Tf4I2k4a+1aSlBCvBSrAKPFIxsWy4dWtqbDfjNqlrVt6gK3Mn2BkZy0uzKbgNXBryFkkiMysfMOknlfKMChaBwCyvv8CjzaNSrONFYAac66K2jAiuZ/jYzchoTBdQ2GVDYJvh5j7Tu0xMWi3ghGLDDBH9WZh3/Lx3mHF5gL5JFdzJjtvBFegDZ1mcbM/owxV9CtBHKYLFEc4xaOJupxeEHLDChOhLkL4d8yFY+oZHwRYo4y5oA4w4bGndBK3ch4vhPg520hW8TrGx2XnB4XFFOV+KK13BVUwPNYuHZzYFUR6dz5aWJTG0HxwuWOyt71UsrQQrwUqwEpwPBwBrWvw/Bk6zEpmCR/PtDU+DtxwIK5dkDulciLT+FKwmLYMdcefxmANanrTfM66kvv4IMAAhWF90sr5sVAAAAABJRU5ErkJggg=="},"3f2f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDI5MzA1NjUwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDI5MzA1NjYwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEMjQ3NTQ5ODBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEMjkzMDU2NDBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrGQp/kAAASgSURBVHja1Jl7aFZ1GMfPO0WdLpfMmVKZiK7+SMtlDs27KdO0prlNUdPAkkjLG6hhkQqKfyhYeGGoqHRbs+Hd2CZeym4qiomRrJGt0LK8TE1S5/o+vJ+Dh5eNvVc97wMfftu5/M55zvP7Pbc3UFdX5zQmJSUlToySIl4Wk0Rv0Vb8Kb4XG8X2WB+Qn58f1nVNncTLo2Kr6BVy/CHxIhwQheKvRL9MSoLnf0x8i7J/i7nicdFaPCHmi3/EQPG1SE92hTeLh8Vp8bRYIc6Iq+JnsVz0EJWiq1ibzArnigHiFvv3D46nsYfd7VQtRovbYpzolqwKFzKWiT5iB3vUrHtB/CfOiV2c/0oExNhEKpxIp/UU4wvgykVxBafVvp7zSWnhNuIRz/8VYrxoJzJEZ9GKpV0g9go3Pj7Jx0gahTPxzDb+KgaLoeIzlrJXzENbkB8h+nO9Oa9DiVI63go3E9sIPUfEM2J/mPdaWHpWfCOyxE7m87XCc3FAv4hh7NdIxGJ1HmHKlJ/jZ4Vtby5gL74iLkc5jy37CeKOmMc+96XCk4mxO1mWrgzCMQUimOsHtoZlXq/7VeE8xvWekLdY7BPFxOEOEcz3KeNoPyrclHy5FieVi5Xe9Vh2JGnlAnLpxuRL5ssWqX5T2EJIc9LII8TVHiQYU8QoUktb8kvFWfEhDq6hd7gmfuN8J79lWg8wtqAKuiE2iEV4Xofj5sWn4+Cmg53/TpzkQ1zi+lRPWErzm8I1jDdQqpikItRi74tlVq+LaeI5vPBIaEiu+03h8yhry/pjlnJDYkXDR5BJJpbNCmhPWtqEsNSFMHfWbwrfYVlaCBpOGhluzC2GUBmFZ/8xnhaOZ1gqZZwUp/leZdwex3eMq8JbqHeHUwjEIjniJXFTFPlV4RoSjQCtncwo50nnfnu3VeJ3PxcP68RB4uaeKPLg1qSmVm2dwqv7ulqqJeRYTO0pjokhYd7bm6SlH17ZlvS/ydAAuIC3Lhcd6XaU0+PKqKczMgarHqYOPkyaWpVMPa2L5NNvOcFW7PPg4Niu0e7xZlDmoN4TK0lRnWRROEDxP9EJNudCuxbtoL5uyTx6Wp+L3cR33yqcQuH+DlmTK5YbHxXHqZbM+lexbhuWcTbtoAw+1ESuXU64u+03hbsTL3M8ua+lmNagOxDmC6ewdyfQMcmiAHlbvEa5ed+dli3f+XjjHM/xNygOKiKwjpueznCCP8Bd93xM64IuiYeTjWWCVKy4jJVS5txtwwZifK8a526fuor3XCi+iLVUjFbhVnQkxhN75+CVT3LelmC0vyC04P40T6dkJs/J48Om38s93Iwqpj+hJJ//TdaQaPRF+WqW4wkn2GSvpoy8gmLNSUE7Ugr2ZGu0ZD7z1D+BtX63kqCUkrPfvBcKr6SGrQ1R1q2YxpFTZ7EXjYIIn2Ef5RMs68ou5inl+ebBZyVaYcuK3uTv2SHKuuLWt12wtFmtK/m1WfNBzx6/zH4161fi/Nx2T33ObgfPXYX33ssST5jCqxnNeXzQyLWVsCnOuYM1/4ayt4sibfBFqvBuLDfNuX9i3nuqE2wHn4n05v8FGADEJw8b4mPn8QAAAABJRU5ErkJggg=="},"3fe5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"follow-up",attrs:{"close-on-click-modal":!1,title:"写跟进",visible:t.show,"before-close":t.close,width:"600px"},on:{"update:visible":function(e){t.show=e}}},[a("ul",{staticClass:"head-tag-wrap"},t._l(t.tabs,(function(e,n){return a("li",{key:n,class:{active:t.tabIndex==n},on:{click:function(e){return t.handleTabClick(n)}}},[a("div",{staticClass:"chunk"}),t._v(" "),a("span",[t._v(t._s(e))])])})),0),t._v(" "),a("el-input",{staticClass:"rick-text",attrs:{type:"textarea",rows:5,placeholder:"请输入跟进内容，最少三个字以上"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),a("div",{staticClass:"common-lang"},[a("p",{staticClass:"title"},[t._v("快捷用语")]),t._v(" "),t._l(t.tags,(function(e,n){return a("el-tag",{key:n,staticClass:"tag",attrs:{type:"info"},on:{click:function(a){return t.handleTagClick(e)}}},[t._v(t._s(e))])}))],2),t._v(" "),a("div",{staticClass:"is-top"},[a("span",[t._v("是否置顶")]),t._v(" "),a("el-switch",{model:{value:t.isTop,callback:function(e){t.isTop=e},expression:"isTop"}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"}},[t._v("保存")])],1)],1)},s=[],i={props:{show:{type:Boolean,default:!1}},data:function(){return{isTop:!1,tabIndex:0,tabs:["去电","面访","议价"],tags:["秋刀鱼的滋味","猫跟你都想了解","而你的脸颊像田里熟透的番茄"],content:""}},methods:{close:function(){this.$emit("close",!1)},handleTabClick:function(t){this.tabIndex=t},handleTagClick:function(t){this.content+=t}}},r=i,o=(a("6c7d"),a("a7cb"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"7601a053",null);e["default"]=l.exports},"3ffd":function(t,e,a){},"3fff":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shortcut-container"},[a("div",{staticClass:"search-wrap"},[a("el-input",{attrs:{placeholder:"搜索楼盘名称"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.toPage({value:t.keyword,type:"keyword"},1)}}},[t._v("搜新房")]),t._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-search"},on:{click:function(e){return t.toPage({value:t.keyword,type:"keyword"},2)}}},[t._v("搜二手房")])],1),t._v(" "),a("div",{staticClass:"keyword-wrap"},[a("div",{staticClass:"cell"},[a("h3",{staticClass:"title"},[t._v("新房")]),t._v(" "),a("div",{staticClass:"list"},t._l(t.areaList,(function(e,n){return a("span",{key:n,class:{orange:n<3},on:{click:function(a){return t.toPage(e,1)}}},[t._v(t._s(e.label))])})),0),t._v(" "),a("div",{staticClass:"list"},t._l(t.priceList,(function(e,n){return a("span",{key:n,on:{click:function(a){return t.toPage(e,1)}}},[t._v(t._s(e.label))])})),0)]),t._v(" "),a("div",{staticClass:"cell"},[a("h3",{staticClass:"title"},[t._v("二手房")]),t._v(" "),a("div",{staticClass:"list"},t._l(t.scopeList,(function(e,n){return a("span",{key:n,class:{orange:n<3},on:{click:function(a){return t.toPage(e,2)}}},[t._v(t._s(e.label))])})),0),t._v(" "),a("div",{staticClass:"list"},t._l(t.areaList2,(function(e,n){return a("span",{key:n,on:{click:function(a){return t.toPage(e,2)}}},[t._v(t._s(e.label))])})),0),t._v(" "),a("div",{staticClass:"list"},t._l(t.houseTypeList,(function(e,n){return a("span",{key:n,on:{click:function(a){return t.toPage(e,2)}}},[t._v(t._s(e.label))])})),0),t._v(" "),a("div",{staticClass:"list"},t._l(t.totalPriceList,(function(e,n){return a("span",{key:n,on:{click:function(a){return t.toPage(e,2)}}},[t._v(t._s(e.label))])})),0)])]),t._v(" "),a("div",{staticClass:"menu-wrap"},[a("h3",{staticClass:"title"},[t._v("常用入口")]),t._v(" "),a("ul",{staticClass:"menu-list"},[t._l(t.menuData,(function(e,n){return[a("li",{key:n,staticClass:"item",on:{click:function(a){return t.go(e.path,e.tab)}}},[a("div",{staticClass:"icon-wrap"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":e.icon}})],1),t._v(" "),a("span",{staticClass:"label"},[t._v(t._s(e.label))])])]}))],2)])])},s=[],i=a("a34a"),r=a.n(i),o=a("e31e"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={data:function(){return{menuData:[{label:"新房分销",icon:"h-xffx",color:"blue",path:"/work/house/new"},{label:"业绩管理",icon:"h-bbjl",color:"blue",path:"/work/business/achievement",tab:"0"},{label:"新房成交",icon:"h-xfcj",color:"blue",path:"/work/business/report",tab:1},{label:"提成管理",icon:"h-yjjs",color:"blue",path:"/work/business/commission",tab:2},{label:"二手房",icon:"h-esfy",color:"pink",path:"/work/house/old"},{label:"角色房源",icon:"h-jsfy",color:"pink",path:"/work/house/old?scope=3",path2:"/work/house/deal"},{label:"录入房源",icon:"h-lrfy",color:"pink",path:"/work/house/edit/-1",path2:"/work/house/edit/:id"},{label:"小区广场",icon:"h-xqgc",color:"purple",path:"/work/house/community"},{label:"创建小区",icon:"h-cjxq",color:"purple",path:"/work/house/communityEdit"}],keyword:"",areaList:[],scopeList:[{label:"全部房源",value:"",type:"scope"},{label:"维护房源",value:"2",type:"scope"},{label:"角色房源",value:"3",type:"scope"},{label:"平台共享",value:"4",type:"scope"},{label:"我关注的",value:"1",type:"scope"}]}},computed:{priceList:function(){var t=["8千以下","8千-1万","1万-1.5万","1.5万-2万","2万-3万","3万以上"];return l["a"].config.averagePriceRange.map((function(e,a){return{label:t[a],value:e,type:"price"}}))},totalPriceList:function(){return l["a"].config.priceLimit.map((function(t){return t.type="totalPrice",t}))},areaList2:function(){return l["a"].config.buildingAreaLimit.map((function(t){return t.type="area2",t}))},houseTypeList:function(){return l["a"].config.houseType.map((function(t){return t.type="houseType",t}))}},created:function(){this.getAreas()},methods:{toPage:function(t,e){2==e?this.$navigateTo({path:"/work/house/old",query:t}):this.$navigateTo({path:"/work/house/new",query:t})},getAreas:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])();case 2:a=e.sent,a&&(t.areaList=a.map((function(t){return{label:t.name,value:t.id,type:"area"}})));case 4:case"end":return e.stop()}}),e)})))()},go:function(t,e){e&&sessionStorage.setItem("tab".concat(t),e),this.$navigateTo({path:t})}}},p=d,m=(a("498d"),a("90ab"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"28873bea",null);e["default"]=f.exports},4:function(t,e){},"404d":function(t,e,a){"use strict";var n=a("ad92"),s=a.n(n);s.a},"405f":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return c}));var n=a("b775"),s=function(t){return Object(n["a"])({url:"/api/v1/fm/store/fee/audit/".concat(t.id),data:t})},i=function(t){return Object(n["a"])({url:"/api/v1/fm/store/fee/create",data:t})},r=function(t){return Object(n["a"])({url:"/api/v1/fm/store/fee/delete/".concat(t.id)})},o=function(t){return Object(n["a"])({url:"/api/v1/fm/store/fee/edit/".concat(t.id),data:t})},l=function(t){return Object(n["a"])({url:"/api/v1/fm/store/fee/list",method:"get",data:t})},c=function(t){return Object(n["a"])({url:"/api/v1/fm/store/fee/statistics",method:"get",data:t})}},4090:function(t,e,a){"use strict";var n=a("5b99"),s=a.n(n);s.a},4184:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-content"},[a("el-form",{ref:"form",attrs:{size:"small",model:t.formData}},[a("div",{staticClass:"row"},[a("el-form-item",{staticClass:"col",attrs:{label:"选择门店",prop:"storeId",rules:[t.rules.required()]}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:"门店"},model:{value:t.formData.storeId,callback:function(e){t.$set(t.formData,"storeId",e)},expression:"formData.storeId"}},t._l(t.store,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{staticClass:"col",attrs:{label:"费用类型",prop:"feeKind",rules:[t.rules.required()]}},[a("el-select",{attrs:{size:"small",clearable:"",placeholder:"类型"},model:{value:t.formData.feeKind,callback:function(e){t.$set(t.formData,"feeKind",e)},expression:"formData.feeKind"}},t._l(t.costType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{staticClass:"col",attrs:{label:"支出金额",prop:"amount",rules:[t.rules.required(),t.rules.m0m69p2]}},[a("el-input",{staticClass:"input",model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",e)},expression:"formData.amount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{staticClass:"col",attrs:{label:"支出日期",prop:"feeDate",rules:[t.rules.required()]}},[a("el-date-picker",{staticClass:"input",attrs:{placeholder:"","picker-options":t.dateRange,type:"date","value-format":"yyyy-MM-dd",format:"yyyy年MM月dd日"},model:{value:t.formData.feeDate,callback:function(e){t.$set(t.formData,"feeDate",e)},expression:"formData.feeDate"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"费用说明",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item-row",attrs:{label:"图片上传"}},[a("el-upload",{staticClass:"dp-f upload-card-small",attrs:{action:"http://localhost:8080","auto-upload":!1,"list-type":"picture-card",fileList:t.fileList,"on-change":t.imgChange,"on-remove":t.imgRemove}},[a("i",{staticClass:"el-icon-plus"})])],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("405f"),l=a("91b6"),c=a("ed08"),u=a("db49");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={props:{type:{type:String,default:"新增"},costType:{type:Array,default:function(){return[]}},store:{type:Array,default:function(){return[]}},detail:{type:Object,default:function(){return{}}}},data:function(){return{formData:{storeId:null,amount:null,attachs:[],feeDate:"",feeKind:"",remark:"",siteId:""},fileList:[]}},watch:{detail:{immediate:!0,handler:function(t){var e=this;"编辑"==this.type?this.$nextTick((function(){for(var a in e.formData)e.formData[a]=t[a];e.formData.id=t.id,e.fileList=e.formData.attachs.map((function(t){return{name:t,url:t}}))})):this.$nextTick((function(){e.$refs.form.resetFields(),e.formData.attachs=[],e.fileList=[]}))}}},computed:{rules:function(){return u["a"].rules},dateRange:function(){var t=(new Date).getDate();return t>6?{disabledDate:function(t){return t.getTime()<Object(c["j"])().month.startVal}}:{}}},created:function(){},methods:{close:function(){this.$emit("close")},submit:function(){var t=this;this.$refs.form.validate(function(){var e=p(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=null,n="新增"==t.type?o["b"]:o["d"],t.formData.siteId=t.$store.state.settings.site.id,e.next=7,n(t.formData);case 7:s=e.sent,s&&(t.$showSuccess("提交成功"),t.$emit("reRequest"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},imgChange:function(t,e){var a=this;return p(r.a.mark((function n(){var s;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,l["a"]({uploadType:"storefee",file:t.raw,dataType:"formData"});case 2:s=n.sent,s?t.url=s[0].fileUrl:e.splice(e.indexOf(t),1),a.formData.attachs=e.map((function(t){return t.url}));case 5:case"end":return n.stop()}}),n)})))()},imgRemove:function(t,e){this.formData.attachs=e.map((function(t){return t.url}))}}},f=m,v=(a("3c03"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"75131f68",null);e["default"]=h.exports},4264:function(t,e,a){"use strict";var n=a("2a2a"),s=a.n(n);s.a},4268:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})},s=[],i=a("a34a"),r=a.n(i),o=a("164e"),l=a.n(o),c=a("9754");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{className:{type:String,default:"my-chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},data:function(){return{chart:null,Abscissa:[],ChCountAll:[],ShCountAll:[]}},created:function(){this.getDealVolumeByHistory()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getDealVolumeByHistory:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={QueryDealType:0,QueryDealTimeType:1},e.next=3,Object(c["b"])(a);case 3:n=e.sent,s=n.Abscissa,i=n.ChCountAll,o=n.ShCountAll,s=s.map((function(t){return t+"月"})),t.Abscissa=s.reverse(),t.ChCountAll=i.reverse(),t.ShCountAll=o.reverse(),t.initChart();case 10:case"end":return e.stop()}}),e)})))()},initChart:function(){var t=this.Abscissa,e=this.ChCountAll,a=this.ShCountAll;this.chart=l.a.init(document.getElementById(this.id));var n={tooltip:{trigger:"axis"},color:["#9820FB","#409eff"],legend:{data:["新房","二手房"],x:"right",y:"top"},grid:{left:"0",right:"1%",bottom:"0",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t,axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#cccccc"}}},yAxis:{type:"value",axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:"#cccccc",width:1,type:"solid"}}},series:[{name:"新房",type:"line",smooth:!0,showSymbol:!1,data:e,lineStyle:{normal:{color:"#9820FB"}}},{name:"二手房",type:"line",smooth:!0,showSymbol:!1,data:a,lineStyle:{normal:{color:"#409eff"}}}]};this.chart.setOption(n)}}},m=p,f=a("2877"),v=Object(f["a"])(m,n,s,!1,null,null,null);e["default"]=v.exports},"426d":function(t,e,a){"use strict";var n=a("5937"),s=a.n(n);s.a},4271:function(t,e,a){"use strict";var n=a("7560"),s=a.n(n);s.a},"429d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commission"},[t.showDetail?[a("div",{staticClass:"head"},[a("div",{staticClass:"filtrator color9"},[t._v("\n        业绩提成汇总表 > 提成明细\n      ")]),t._v(" "),a("div",{staticClass:"operator"},[a("p",{staticClass:"color6 pointer",on:{click:function(e){t.showDetail=!1}}},[a("i",{staticClass:"el-icon-back"}),t._v("\n          返回汇总表\n        ")])])]),t._v(" "),a("div",{staticClass:"content"},[a("h2",{staticClass:"title"},[t._v("提成明细")]),t._v(" "),a("div",{staticClass:"base-info flex"},[a("p",[a("span",[t._v("员工：")]),t._v(t._s(t.beneficiaryBasicInfo.beneficiaryName))]),t._v(" "),a("p",[a("span",[t._v("岗位：")]),t._v(t._s(t.beneficiaryBasicInfo.postName))]),t._v(" "),a("p",[a("span",[t._v("年月：")]),t._v(t._s(t.statisticsPeriod))]),t._v(" "),a("p",[a("span",[t._v("提成：")]),t._v(t._s(t.beneficiaryBasicInfo.planName))])]),t._v(" "),a("div",[a("el-table",{attrs:{size:"small",data:t.tableData2,border:"","span-method":t.spanMethod}},[a("el-table-column",{attrs:{align:"center",label:"组成部分"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.name)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"实收业绩"}},[a("el-table-column",{attrs:{align:"center",label:"成交单号"},scopedSlots:t._u([{key:"default",fn:function(e){return["R1"==e.row.type?a("p",{staticClass:"blue pointer",on:{click:function(a){return t.toDetail(e.row)}}},[t._v("\n                  "+t._s(e.row.transactionNo)+"\n                ")]):t._e(),t._v(" "),"R1TOTAL"==e.row.type?a("p",[t._v("\n                  "+t._s(e.row.total)+"\n                ")]):t._e(),t._v(" "),"RX"==e.row.type?a("p",[t._v("\n                  "+t._s(e.row.totalSummary)),a("span",{staticClass:"blue pointer",on:{click:function(a){return t.showDetailFunc(e.row)}}},[t._v("\n                    (查看明细)\n                  ")])]):t._e(),t._v(" "),"OTHER"==e.row.type?a("p",[t._v(t._s(e.row.total))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"收益日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.revenueDate)+"\n              ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"分配比例"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2 aic"},[t._v("\n                "+t._s(e.row.fprate)+"\n              ")])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"实收业绩"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2 aic"},[t._v("\n                "+t._s(e.row.practicalAchievement)+"\n              ")])}}])})],1),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"计提金额"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2 aic"},[t._v("\n              "+t._s(e.row.accrualAmount)+"\n            ")])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"可提成业绩"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2 aic"},[t._v("\n              "+t._s(e.row.availableAmount)+"\n            ")])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"提成比例"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2 aic"},[t._v("\n              "+t._s(e.row.rate)+"\n            ")])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"提成金额"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2 aic"},[t._v("\n              "+t._s(e.row.commissionAmount)+"\n            ")])}}])})],1)],1),t._v(" "),a("div",{staticClass:"total x aic"},[a("div",{staticClass:"flex1 x2 aic bold pr30"},[t._v("\n          "+t._s(t.totalCommission)+"\n        ")])])])]:[a("div",{staticClass:"head"},[a("div",{staticClass:"filtrator"},[a("el-date-picker",{attrs:{size:"small",type:"month",placeholder:"选择月","picker-options":t.$disabledFutureDate,format:"yyyy年MM月","value-format":"yyyyMM",clearable:!1,editable:!1},on:{change:t.search},model:{value:t.query.month,callback:function(e){t.$set(t.query,"month",e)},expression:"query.month"}}),t._v(" "),a("el-cascader",{ref:"nodeTree",attrs:{clearable:"",options:t.storegrouptree,props:{value:"nodeId",label:"name",emitPath:!1,checkStrictly:!0},placeholder:"部门/门店/员工",size:"small"},on:{change:t.nodeChange},model:{value:t.query.nodeId,callback:function(e){t.$set(t.query,"nodeId",e)},expression:"query.nodeId"}})],1),t._v(" "),a("div",{staticClass:"operator"},[a("div",{on:{click:t.exportExcel}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"export"}}),t._v(" "),a("span",[t._v("导出Excel")])],1),t._v(" "),t.nowMonth===t.query.month?a("div",{on:{click:t.refresh}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"refresh"}}),t._v(" "),a("span",[t._v("重新生成")])],1):t._e()])]),t._v(" "),a("div",{staticClass:"content"},[a("h2",{staticClass:"title"},[t._v("业绩提成表")]),t._v(" "),a("div",{staticClass:"base-info flex"},[a("p",[a("span",[t._v("部门/门店：")]),t._v(t._s(t.nodeName))]),t._v(" "),a("p",[a("span",[t._v("年份：")]),t._v(t._s(t._f("toDate")(t.query.month)))]),t._v(" "),a("p",[a("span",[t._v("生成时间：")]),t._v(t._s(t.generateTime))])]),t._v(" "),a("el-table",{attrs:{size:"small",data:t.tableData,border:""}},[a("el-table-column",{attrs:{width:"100px",fixed:"",align:"center",label:"员工姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.beneficiaryName)+"\n          ")]}}],null,!1,3193567865)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",fixed:"",align:"center",label:"岗位名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.postName)+"\n          ")]}}],null,!1,2765763522)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",fixed:"",align:"center",label:"部门/门店"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.departmentName)+"\n          ")]}}],null,!1,3636131934)}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"可提成业绩（扣除计提业绩）"}},[a("el-table-column",{attrs:{width:"100px",align:"center",label:"R1"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.can1)+"\n            ")]}}],null,!1,2354841792)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"R2"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.can2)+"\n            ")]}}],null,!1,1208205507)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"R3"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.can3)+"\n            ")]}}],null,!1,43319362)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"R4"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.can4)+"\n            ")]}}],null,!1,1701795397)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"R5"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.can5)+"\n            ")]}}],null,!1,1777726148)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"其他"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.otherAvailableAchievement)+"\n            ")]}}],null,!1,607636487)})],1),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"业绩提成"}},[a("el-table-column",{attrs:{width:"100px",align:"center",label:"R1"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.no1)+"\n            ")]}}],null,!1,2394043341)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"R2"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.no2)+"\n            ")]}}],null,!1,1809381550)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"R3"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.no3)+"\n            ")]}}],null,!1,2961150223)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"R4"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.no4)+"\n            ")]}}],null,!1,77349352)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"R5"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.no5)+"\n            ")]}}],null,!1,1848482121)}),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"其他"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.otherCommissionAmount)+"\n            ")]}}],null,!1,1922158232)})],1),t._v(" "),a("el-table-column",{attrs:{width:"100px",align:"center",label:"合计提成",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.totalCommissionAmount)+"\n          ")]}}],null,!1,2616663934)}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"80px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"center pointer blue",on:{click:function(a){return t.getCommissionDetail(e.row)}}},[t._v("\n            明细\n          ")])}}],null,!1,4010216502)})],1),t._v(" "),a("div",{staticClass:"total x aic"},[a("div",{staticClass:"flex1 x1 aic bold"},[t._v("\n          "+t._s(t.achievement.recordCount)+"\n        ")]),t._v(" "),a("div",{staticClass:"flex1 x1 aic bold"},[t._v("\n          "+t._s(t.achievement.rank1AvailableAchievement)+"\n        ")]),t._v(" "),a("div",{staticClass:"flex1 x1 aic bold"},[t._v("\n          "+t._s(t.achievement.achievementCommissionTotal)+"\n        ")])]),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{"current-page":t.query.pageIndex,background:"","page-size":t.query.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.query,"pageIndex",e)},"update:current-page":function(e){return t.$set(t.query,"pageIndex",e)},"current-change":t.handleCurrentChange}})],1)],1)],t._v(" "),a("commissionDetail",{attrs:{options:t.options},model:{value:t.showCommissionDetail,callback:function(e){t.showCommissionDetail=e},expression:"showCommissionDetail"}})],2)},s=[],i=a("a34a"),r=a.n(i),o=a("2b6d"),l=a("b383"),c=a.n(l),u=a("5479");function d(t){return v(t)||f(t)||m(t)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t,e){if(t){if("string"===typeof t)return h(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function v(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function b(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function g(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){b(i,n,s,r,o,"next",t)}function o(t){b(i,n,s,r,o,"throw",t)}r(void 0)}))}}var _={components:{commissionDetail:u["default"]},data:function(){return{query:{month:null,nodeId:"",pageIndex:1,pageSize:10},total:0,tableData:[],storegrouptree:[],dateList:[],nodeName:"全部",showDetail:!1,achievement:{},generateTime:"",tableData2:[],statisticsPeriod:"",beneficiaryBasicInfo:"",totalCommission:"",tableLength:0,showCommissionDetail:!1,options:{},beneficiaryId:"",nowMonth:"",hasR1:!1}},filters:{toDate:function(t){var e=String(t),a="";return t&&(a=e.slice(0,4)+"年"+e.slice(4)+"月"),a}},computed:{site:function(){return this.$store.state.settings.site},userInfo:function(){return this.$store.state.settings.userInfo}},created:function(){this.init()},methods:{init:function(){this.query.month=this.$time().subtract(1,"months").format("yyyyMM"),this.nowMonth=this.$time().subtract(1,"months").format("yyyyMM"),this.getStoregrouptree(),this.achievementOverviewPage()},refresh:function(){var t=this;return g(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.tableData=[],e.next=3,Object(o["u"])(t.query.month);case 3:a=e.sent,a&&setTimeout((function(){t.init()}),300);case 5:case"end":return e.stop()}}),e)})))()},toDetail:function(t){this.$navigateTo("/work/business/newHouse/dealDetail/".concat(t.transactionId))},achievementOverviewPage:function(){var t=this;return g(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.query);case 2:a=e.sent,a&&(n=a.pageData||{},t.generateTime=a.generateTime,t.total=n.total||0,t.achievement=a,s=n.list||[],s.forEach((function(t){t.achievement.forEach((function(e,a){t["can".concat(a+1)]=e.b,t["no".concat(a+1)]=e.c}))})),t.tableData=s);case 4:case"end":return e.stop()}}),e)})))()},getStoregrouptree:function(){var t=this;return g(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["v"])();case 2:a=e.sent,a&&(t.storegrouptree=a);case 4:case"end":return e.stop()}}),e)})))()},nodeChange:function(){var t=this.$refs["nodeTree"].getCheckedNodes(),e="全部";t.length&&(e=t[0].data.name),this.nodeName=e,this.search()},handleCurrentChange:function(t){this.query.pageIndex=t,this.achievementOverviewPage()},search:function(){this.query.pageIndex=1,this.achievementOverviewPage()},exportExcel:function(){var t="".concat(window.baseURL,"/api/v1/fm/commissionPlan/exportCommissionReport"),e=c.a.stringify({siteId:this.site.id,userId:this.userInfo.userId,token:this.userInfo.token,month:this.query.month});window.location.href="".concat(t,"?").concat(e)},getCommissionDetail:function(t){var e=this;return g(r.a.mark((function a(){var n,s,i,l,c,u,p;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={beneficiaryId:t.beneficiaryId,month:e.query.month},e.beneficiaryId=t.beneficiaryId,a.next=4,Object(o["i"])(n);case 4:s=a.sent,e.beneficiaryBasicInfo=s.beneficiaryBasicInfo,e.statisticsPeriod=s.statisticsPeriod,i=s.data||{},l=i.otherCommissionDetail||{},l.type="OTHER",l.name="其他",c=i.commissionOtherOverviewList||[],c.forEach((function(t){t.type="RX",t.name="R".concat(t.rank)})),e.totalCommission=i.totalCommission,e.showDetail=!0,u=[],p=i.commissionSelfDetail,e.hasR1=!!p,p&&(u=e.r1Format(p)),e.tableData2=[].concat(d(u),d(c),[l]);case 20:case"end":return a.stop()}}),a)})))()},r1Format:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.orderCommissionList||[];this.tableLength=e.length+1;var a=[];e.forEach((function(e){var n=JSON.parse(JSON.stringify(t));n.transactionNo=e.transactionNo,n.transactionId=e.transactionId,n.practicalAchievement=e.practicalAchievement,n.fprate=e.rate,n.revenueDate=e.revenueDate,n.type="R1",n.name="R1",delete n.orderCommissionList,a.push(n)}));var n=JSON.parse(JSON.stringify(t));return n.type="R1TOTAL",n.name="R1",delete n.orderCommissionList,a.push(n),a},spanMethod:function(t){var e=t.row,a=(t.column,t.rowIndex),n=t.columnIndex,s=this.tableLength,i=this.hasR1;if((n<1||n>4)&&i){if(0==a)return{rowspan:s,colspan:1};if(a<s)return{rowspan:0,colspan:0}}else if(1===n){if("R1"!=e.type)return[1,4]}else if("R1"!=e.type)switch(n){case 2:return[0,0];case 3:return[0,0];case 4:return[0,0]}},showDetailFunc:function(t){this.options={title:"".concat(t.name,"明细"),beneficiaryId:this.beneficiaryId,month:this.query.month,rank:t.rank},this.showCommissionDetail=!0}}},y=_,w=(a("ce1d"),a("f6f5"),a("2877")),C=Object(w["a"])(y,n,s,!1,null,"22b91472",null);e["default"]=C.exports},"42f2":function(t,e,a){"use strict";var n=a("de62"),s=a.n(n);s.a},"430e":function(t,e,a){"use strict";var n=a("672a"),s=a.n(n);s.a},"43d8":function(t,e,a){},"43e8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit"},[a("el-form",{ref:"storeForm",attrs:{model:t.storeForm,"label-width":"150px","label-position":"top"}},[a("el-row",[a("el-col",[a("p",{staticClass:"dialog-title"},[t._v("股东构成及分润比")])])],1),t._v(" "),a("el-divider"),t._v(" "),t._l(t.storeForm.partners,(function(e,n){return a("el-row",{key:e.userLevel,attrs:{gutter:25}},[a("el-col",{attrs:{span:8}},[5===e.userLevel||-1===e.userLevel?a("el-form-item",{attrs:{label:e.title}},[a("el-button",{staticStyle:{width:"100%"},model:{value:t.site,callback:function(e){t.site=e},expression:"site"}},[t._v("\n            "+t._s(t.site.name)+"\n          ")])],1):a("el-form-item",{attrs:{label:e.title,prop:"partners."+n+".partnerId",rules:[{required:!0,message:"不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.partnerId,callback:function(a){t.$set(e,"partnerId",a)},expression:"item.partnerId"}},t._l(t.partners,(function(t){return a("el-option",{key:t.partnerId,attrs:{label:t.name,value:t.partnerId}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"分润比",prop:"partners."+n+".rate",rules:[{type:"number",min:0,required:!0,message:"必须为数字",trigger:"blur"}]}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:e.rate,callback:function(a){t.$set(e,"rate",t._n(a))},expression:"item.rate"}},[a("i",{attrs:{slot:"suffix"},slot:"suffix"},[t._v("%")])])],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"dialog-menu"},[0===n?a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.addPartner}},[t._v("+ 添加合伙人")]):t._e(),t._v(" "),0!==n&&n===t.storeForm.partners.length-2?a("div",{staticClass:"delete"},[a("svg-icon",{attrs:{"icon-class":"delete"},on:{click:function(a){return t.deletePartner(e)}}})],1):t._e()],1)])],1)}))],2),t._v(" "),a("div",{staticClass:"save"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("c24f"),c=a("ed08");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={state:!0,parentId:null,departmentType:null,name:"",id:null},m={props:{options:{type:Object,default:function(){}},stores:{type:Array,default:function(){return[]}}},data:function(){return{rules:o["a"].rules,formData:Object(c["b"])(p)}},watch:{options:{immediate:!0,handler:function(t){var e=this;t.id?this.formData=Object(c["b"])(t):this.formData=Object(c["b"])(p),this.$nextTick((function(){e.$refs.form.clearValidate()}))}}},methods:{close:function(t){this.$emit("close",t)},changeDepartment:function(){var t=this.$refs.departmentTree.getCheckedNodes(!0)||[];this.formData.departmentType=t[0]&&t[0].data.departmentType},submit:function(){var t=this;this.$refs.form.validate(function(){var e=d(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=t.$cloneObj(t.formData),n.parentId&&n.parentId.length&&(n.parentId=n.parentId[n.parentId.length-1]),e.next=6,Object(l["q"])(n);case 6:s=e.sent,s&&(t.$showSuccess("操作成功"),t.$emit("close"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=m,v=(a("8d9e"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"d1583aac",null);e["default"]=h.exports},4440:function(t,e,a){},"448e":function(t,e,a){},"44bc":function(t,e,a){t.exports=a.p+"img/icon_zanhuan.ccc44c1f.png"},"44d1":function(t,e,a){"use strict";var n=a("335f"),s=a.n(n);s.a},"44f6":function(t,e,a){},4538:function(t,e,a){},"45b5":function(t,e,a){"use strict";var n=a("d05f"),s=a.n(n);s.a},"46ce":function(t,e,a){},"47e3":function(t,e,a){},"488e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})},s=[],i=a("a34a"),r=a.n(i),o=a("164e"),l=a.n(o),c=a("9754");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{className:{type:String,default:"my-chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},data:function(){return{chart:null,Abscissa:[],ChCenterAll:[],ChCountAll:[],ChNewCityAll:[]}},created:function(){this.getDealVolumeByHistory()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getDealVolumeByHistory:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,o,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={QueryDealType:1,QueryDealTimeType:1},e.next=3,Object(c["b"])(a);case 3:n=e.sent,s=n.Abscissa,i=n.ChCountAll,o=n.ChCenterAll,l=n.ChNewCityAll,s=s.map((function(t){return t+"月"})),t.Abscissa=s.reverse(),t.ChCountAll=i.reverse(),t.ChCenterAll=o.reverse(),t.ChNewCityAll=l.reverse(),t.initChart();case 11:case"end":return e.stop()}}),e)})))()},initChart:function(){var t=this.Abscissa,e=this.ChCenterAll,a=this.ChCountAll,n=this.ChNewCityAll;this.chart=l.a.init(document.getElementById(this.id));var s={tooltip:{trigger:"axis"},color:["#5AC54F","#9C7AF1","#28C0FF"],legend:{data:["全市","中心城市","郊区新城"],x:"right",y:"top"},grid:{left:"0",right:"1%",bottom:"0",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t,axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#cccccc"}}},yAxis:{type:"value",axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:"#cccccc",width:1,type:"solid"}}},series:[{name:"全市",type:"line",smooth:!0,showSymbol:!1,data:a,lineStyle:{normal:{color:"#5AC54F"}}},{name:"中心城市",type:"line",smooth:!0,showSymbol:!1,data:e,lineStyle:{normal:{color:"#9C7AF1"}}},{name:"郊区新城",type:"line",smooth:!0,showSymbol:!1,data:n,lineStyle:{normal:{color:"#28C0FF"}}}]};this.chart.setOption(s)}}},m=p,f=a("2877"),v=Object(f["a"])(m,n,s,!1,null,null,null);e["default"]=v.exports},"48f7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit"},[a("div",{staticClass:"title flex-between"},[t.id?a("p",[a("span",{staticClass:"fs18 bold"},[t._v("\n        "+t._s(t.communityForm.baseInfo.communityName)+"\n      ")]),t._v(" "),a("span",{staticClass:"color9 ml5"},[t._v("维护小区")])]):a("p",[a("span",{staticClass:"fs18 bold"},[t._v("建盘申请")])]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.save}},[t._v("保存")])],1),t._v(" "),a("el-form",{ref:"communityForm",staticClass:"communityForm",attrs:{model:t.communityForm,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"box"},[a("p",{staticClass:"box-title fs16"},[t._v("基本信息")]),t._v(" "),a("div",{staticClass:"grid"},[t.id?t._e():a("el-form-item",{attrs:{label:"小区名称",prop:"baseInfo.communityName",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.communityForm.baseInfo.communityName,callback:function(e){t.$set(t.communityForm.baseInfo,"communityName",e)},expression:"communityForm.baseInfo.communityName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"小区别名",prop:"baseInfo.anotherName"}},[a("el-input",{attrs:{placeholder:"多个别名用逗号分开",type:"text",autocomplete:"off"},model:{value:t.communityForm.baseInfo.anotherName,callback:function(e){t.$set(t.communityForm.baseInfo,"anotherName",e)},expression:"communityForm.baseInfo.anotherName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"小区均价",prop:"baseInfo.houseSellAveragePrice",rules:[t.rules.number,t.rules.required()]}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.baseInfo.houseSellAveragePrice,callback:function(e){t.$set(t.communityForm.baseInfo,"houseSellAveragePrice",t._n(e))},expression:"communityForm.baseInfo.houseSellAveragePrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/平米")])])],1)],1),t._v(" "),a("div",{staticClass:"grid"},[a("el-form-item",{attrs:{label:"所属商圈",prop:"baseInfo.areaIds",rules:[t.rules.required()]}},[a("el-cascader",{attrs:{placeholder:"区域","collapse-tags":"","show-all-levels":!1,props:{value:"id",label:"name"},options:t.areaList},model:{value:t.communityForm.baseInfo.areaIds,callback:function(e){t.$set(t.communityForm.baseInfo,"areaIds",e)},expression:"communityForm.baseInfo.areaIds"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"位置坐标",prop:"baseInfo.position",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},on:{blur:function(e){return t.setPosition(t.communityForm.baseInfo.position)}},model:{value:t.communityForm.baseInfo.position,callback:function(e){t.$set(t.communityForm.baseInfo,"position",e)},expression:"communityForm.baseInfo.position"}},[a("div",{staticClass:"pointer blue",attrs:{slot:"append"},on:{click:function(e){t.mapVisible=!0}},slot:"append"},[t._v("\n              标注\n            ")])])],1)],1),t._v(" "),a("div",{staticClass:"grid"},[a("el-form-item",{attrs:{label:"物业费",prop:"baseInfo.propertyPrice"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.baseInfo.propertyPrice,callback:function(e){t.$set(t.communityForm.baseInfo,"propertyPrice",t._n(e))},expression:"communityForm.baseInfo.propertyPrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/月/平米")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"物业公司",prop:"baseInfo.propertyCompany"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.communityForm.baseInfo.propertyCompany,callback:function(e){t.$set(t.communityForm.baseInfo,"propertyCompany",e)},expression:"communityForm.baseInfo.propertyCompany"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"绿化率",prop:"baseInfo.greenRate"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.baseInfo.greenRate,callback:function(e){t.$set(t.communityForm.baseInfo,"greenRate",t._n(e))},expression:"communityForm.baseInfo.greenRate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"容积率",prop:"baseInfo.volumeRate"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.baseInfo.volumeRate,callback:function(e){t.$set(t.communityForm.baseInfo,"volumeRate",t._n(e))},expression:"communityForm.baseInfo.volumeRate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"建筑类型",prop:"baseInfo.buildingTypeName"}},[a("el-select",{attrs:{clearable:"",multiple:"",placeholder:"请选择"},model:{value:t.communityForm.baseInfo.buildingTypeName,callback:function(e){t.$set(t.communityForm.baseInfo,"buildingTypeName",e)},expression:"communityForm.baseInfo.buildingTypeName"}},t._l(t.config.buildingTypeList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"建筑结构",prop:"baseInfo.buildingStructure"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.communityForm.baseInfo.buildingStructure,callback:function(e){t.$set(t.communityForm.baseInfo,"buildingStructure",e)},expression:"communityForm.baseInfo.buildingStructure"}},t._l(t.config.buildingStructureList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"建成年代",prop:"baseInfo.buildingTime"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.baseInfo.buildingTime,callback:function(e){t.$set(t.communityForm.baseInfo,"buildingTime",t._n(e))},expression:"communityForm.baseInfo.buildingTime"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("年")])])],1)],1),t._v(" "),a("el-form-item",{staticStyle:{width:"340px"},attrs:{label:"嫌恶设施",prop:"baseInfo.abhorrentFacilities"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.communityForm.baseInfo.abhorrentFacilities,callback:function(e){t.$set(t.communityForm.baseInfo,"abhorrentFacilities",e)},expression:"communityForm.baseInfo.abhorrentFacilities"}})],1)],1),t._v(" "),a("div",{staticClass:"box"},[a("p",{staticClass:"box-title fs16"},[t._v("生活信息")]),t._v(" "),a("div",{staticClass:"grid"},[a("el-form-item",{attrs:{label:"采暖类型",prop:"liveInfo.heatingType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.communityForm.liveInfo.heatingType,callback:function(e){t.$set(t.communityForm.liveInfo,"heatingType",e)},expression:"communityForm.liveInfo.heatingType"}},t._l(t.config.heatingTypeList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"供暖费用",prop:"liveInfo.heatingCosts"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.liveInfo.heatingCosts,callback:function(e){t.$set(t.communityForm.liveInfo,"heatingCosts",t._n(e))},expression:"communityForm.liveInfo.heatingCosts"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/m³")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"用电类型",prop:"liveInfo.electricityType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.communityForm.liveInfo.electricityType,callback:function(e){t.$set(t.communityForm.liveInfo,"electricityType",e)},expression:"communityForm.liveInfo.electricityType"}},t._l(t.config.electricityTypeList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"用水类型",prop:"liveInfo.waterUseType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.communityForm.liveInfo.waterUseType,callback:function(e){t.$set(t.communityForm.liveInfo,"waterUseType",e)},expression:"communityForm.liveInfo.waterUseType"}},t._l(t.config.waterUseTypeList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"车位比例",prop:"liveInfo.parkingRatio"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.communityForm.liveInfo.parkingRatio,callback:function(e){t.$set(t.communityForm.liveInfo,"parkingRatio",e)},expression:"communityForm.liveInfo.parkingRatio"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"地上车位数",prop:"liveInfo.parkingAboveGround"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.liveInfo.parkingAboveGround,callback:function(e){t.$set(t.communityForm.liveInfo,"parkingAboveGround",t._n(e))},expression:"communityForm.liveInfo.parkingAboveGround"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"地下车位数",prop:"liveInfo.parkingUnderGround"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.liveInfo.parkingUnderGround,callback:function(e){t.$set(t.communityForm.liveInfo,"parkingUnderGround",t._n(e))},expression:"communityForm.liveInfo.parkingUnderGround"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"停车服务费",prop:"liveInfo.parkingFee"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.liveInfo.parkingFee,callback:function(e){t.$set(t.communityForm.liveInfo,"parkingFee",t._n(e))},expression:"communityForm.liveInfo.parkingFee"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/月")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"是否有燃气",prop:"liveInfo.hasGas"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.communityForm.liveInfo.hasGas,callback:function(e){t.$set(t.communityForm.liveInfo,"hasGas",e)},expression:"communityForm.liveInfo.hasGas"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"燃气费",prop:"liveInfo.gasFee"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.liveInfo.gasFee,callback:function(e){t.$set(t.communityForm.liveInfo,"gasFee",t._n(e))},expression:"communityForm.liveInfo.gasFee"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/m³")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"是否有热水",prop:"liveInfo.hasHotWater"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.communityForm.liveInfo.hasHotWater,callback:function(e){t.$set(t.communityForm.liveInfo,"hasHotWater",e)},expression:"communityForm.liveInfo.hasHotWater"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"热水费",prop:"liveInfo.hotWaterFee"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.liveInfo.hotWaterFee,callback:function(e){t.$set(t.communityForm.liveInfo,"hotWaterFee",t._n(e))},expression:"communityForm.liveInfo.hotWaterFee"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/吨")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"是否有中水",prop:"liveInfo.hasRecycledWater"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.communityForm.liveInfo.hasRecycledWater,callback:function(e){t.$set(t.communityForm.liveInfo,"hasRecycledWater",e)},expression:"communityForm.liveInfo.hasRecycledWater"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"中水费",prop:"liveInfo.recycledWaterFee"}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.communityForm.liveInfo.recycledWaterFee,callback:function(e){t.$set(t.communityForm.liveInfo,"recycledWaterFee",t._n(e))},expression:"communityForm.liveInfo.recycledWaterFee"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/m³")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"是否有电梯",prop:"liveInfo.hasLift"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.communityForm.liveInfo.hasLift,callback:function(e){t.$set(t.communityForm.liveInfo,"hasLift",e)},expression:"communityForm.liveInfo.hasLift"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"grid"},[a("el-form-item",{attrs:{label:"小区幼儿园",prop:"liveInfo.communityKindergarten"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.communityForm.liveInfo.communityKindergarten,callback:function(e){t.$set(t.communityForm.liveInfo,"communityKindergarten",e)},expression:"communityForm.liveInfo.communityKindergarten"}})],1)],1)])]),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"地图",top:"5vh",visible:t.mapVisible,width:"70%"},on:{"update:visible":function(e){t.mapVisible=e}}},[a("amap",{staticClass:"amap",on:{getLL:t.getLL}})],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("7998"),c=a("acb0"),u=a("e6b2");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={baseInfo:{abhorrentFacilities:null,address:null,anotherName:null,areaIds:null,areaName:null,buildingStructure:null,buildingTime:null,buildingTypeName:[],communityId:null,communityName:null,greenRate:null,houseSellAveragePrice:null,latitude:null,longitude:null,propertyCompany:null,propertyPrice:null,siteId:null,siteName:null,volumeRate:null,position:null},editType:null,liveInfo:{communityKindergarten:null,electricityType:null,gasFee:null,hasGas:null,hasGasStr:null,hasHotWater:null,hasHotWaterStr:null,hasRecycledWater:null,hasRecycledWaterStr:null,hasLift:null,hasLiftStr:null,heatingCosts:null,heatingType:null,hotWaterFee:null,parkingAboveGround:null,parkingFee:null,parkingRatio:null,parkingUnderGround:null,recycledWaterFee:null,waterUseType:null}},f={components:{amap:u["a"]},data:function(){return{config:o["a"].config,rules:o["a"].rules,communityForm:JSON.parse(JSON.stringify(m)),areaList:[],mapVisible:!1}},computed:{id:function(){return this.$route.query.id},site:function(){return this.$store.state.settings.site}},created:function(){this.getAreas(),this.getCommunityDetail()},methods:{save:function(){var t=this;this.$refs.communityForm.validate(function(){var e=p(r.a.mark((function e(a){var n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return n=t.communityForm,t.id?n.editType=2:n.editType=1,n.baseInfo.siteId=t.site.id,e.next=6,Object(l["h"])(n);case 6:s=e.sent,s&&(i="保存成功",t.$showSuccess(i,(function(){t.$store.dispatch("tagsView/delView",t.$route),t.$navigateTo({path:"/work/house/community"})}))),e.next=11;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getCommunityDetail:function(){var t=this;return p(r.a.mark((function e(){var a,n,s,i,o,c;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.id,!a){e.next=10;break}return n={id:a},e.next=5,Object(l["m"])(n);case 5:s=e.sent,t.communityForm=s,t.communityForm.baseInfo.houseSellAveragePrice=s.statisticsData.sellHouseAveragePrice,i=s.baseInfo,o=i.longitude,c=i.latitude,t.communityForm.baseInfo.position=[o,c].toString();case 10:case"end":return e.stop()}}),e)})))()},getAreas:function(){var t=this;return p(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(c["c"])(a);case 3:n=e.sent,t.areaList=n;case 5:case"end":return e.stop()}}),e)})))()},getLL:function(t){var e=t.position,a=t.address;this.communityForm.baseInfo.position=e.toString(),this.communityForm.baseInfo.longitude=e[0],this.communityForm.baseInfo.latitude=e[1],this.communityForm.baseInfo.address=a,this.mapVisible=!1},setPosition:function(t){var e=t.split(",");this.communityForm.baseInfo.longitude=e[0],this.communityForm.baseInfo.latitude=e[1]}}},v=f,h=(a("c931"),a("2877")),b=Object(h["a"])(v,n,s,!1,null,"21d7419c",null);e["default"]=b.exports},"48fb":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return r}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/store/statistics/index/synthetical",method:"get",data:t})}function i(){return Object(n["a"])({url:"/api/v1/fm/store/statistics/overview",method:"get"})}function r(t){return Object(n["a"])({url:"/api/v1/fm/store/statistics/synthetical",method:"get",data:t})}},4957:function(t,e,a){},"498d":function(t,e,a){"use strict";var n=a("a337"),s=a.n(n);s.a},"4a2a":function(t,e,a){"use strict";var n=a("2d1e"),s=a.n(n);s.a},"4a5a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer"},[a("el-tabs",{staticClass:"fm-tabs-default",on:{"tab-click":t.changeTab},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},t._l(t.tabs,(function(e,n){return a("el-tab-pane",{key:e,attrs:{label:e+"(45)",name:""+n}},[a("div",{staticClass:"main"},[a("div",{staticClass:"fm-table-conditions"},[a("div",{staticClass:"head"},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),t._v(" "),a("el-button",{attrs:{type:"primary"}},[t._v("搜索客户")])],1),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"item-wrap"},[a("div",{staticClass:"label"},[a("p",[t._v("共享范围")])]),t._v(" "),a("div",{staticClass:"value"},[a("el-radio-group",{attrs:{size:"mini"},model:{value:t.scopeIndex,callback:function(e){t.scopeIndex=e},expression:"scopeIndex"}},t._l(t.scope,(function(e){return a("el-radio",{key:e.id,attrs:{label:e.id,border:""}},[t._v(t._s(e.text))])})),1)],1)]),t._v(" "),a("div",{staticClass:"item-wrap"},[a("div",{staticClass:"label"},[a("p",[t._v("客户需求")])]),t._v(" "),a("div",{staticClass:"value"},[a("el-radio-group",{attrs:{size:"mini"},model:{value:t.demandIndex,callback:function(e){t.demandIndex=e},expression:"demandIndex"}},t._l(t.demand,(function(e){return a("el-radio",{key:e.id,attrs:{label:e.id,border:""}},[t._v(t._s(e.text))])})),1)],1)])])]),t._v(" "),a("div",{staticClass:"record"},[a("div",{staticClass:"fm-table-tips"},[a("div",{staticClass:"result"},[a("p",{staticClass:"tips"},[t._v("共找到 "),a("span",{staticClass:"strong"},[t._v("99")]),t._v("条记录")]),t._v(" "),a("p",{staticClass:"clear",on:{click:t.clearQuery}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"clear"}}),t._v(" "),a("span",{staticClass:"text"},[t._v("清空条件")])],1)])]),t._v(" "),a("div",{staticClass:"c"},[a("el-table",{staticClass:"fm-table",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"row-click":t.rowClick}},[a("el-table-column",{attrs:{label:"客户姓名",width:"330px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("h3",{staticClass:"name"},[t._v(t._s(e.row.name))]),t._v(" "),a("el-rate",{staticClass:"c-rate",attrs:{max:3,"void-color":"#999999",disabled:"","text-color":"#ff9900"},model:{value:e.row.rate,callback:function(a){t.$set(e.row,"rate",a)},expression:"scope.row.rate"}})],1)}}],null,!0)}),t._v(" "),a("el-table-column",{attrs:{label:"客户需求/标签"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("div",{staticClass:"demand"},[t._v(t._s(e.row.demand.join(",")))]),t._v(" "),a("div",{staticClass:"label tags"},t._l(e.row.label,(function(e,n){return a("span",{key:n,staticClass:"tag"},[t._v(t._s(e))])})),0)])}}],null,!0)}),t._v(" "),a("el-table-column",{attrs:{label:"共享范围/原因"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("div",{staticClass:"demand"},[t._v(t._s(e.row.demand.join(",")))]),t._v(" "),a("div",{staticClass:"label tags"},t._l(e.row.label,(function(e,n){return a("span",{key:n,staticClass:"tag"},[t._v(t._s(e))])})),0)])}}],null,!0)}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"date"}}),t._v(" "),a("el-table-column",{attrs:{label:"客户进度",prop:"progress"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("el-button",{attrs:{type:"primary",plain:"",size:"mini"}},[t._v("抢单")])],1)}}],null,!0)})],1)],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:100}})],1)])])])})),1)],1)},s=[],i={data:function(){return{followUpDialog:!1,activeIndex:"0",tabs:["二手房","新房"],query:"",scopeIndex:0,demandIndex:0,scope:[{id:0,text:"不限"},{id:1,text:"店内共享"},{id:2,text:"平台共享"}],demand:[{id:0,text:"不限"},{id:1,text:"求购"},{id:2,text:"求租"}],tableData:[{id:0,name:"孙尚香",rate:3,demand:["800-2500元/月","80-120平米","天府三街"],label:["求购新房","沉默客户"],date:"2019-09-16 12:00:00",progress:"未查看",lastDate:"2019-09-16 12:00:00"},{id:1,name:"张辽",rate:2,demand:["800-2500元/月","80-120平米","天府三街"],label:["求购新房","沉默客户"],date:"2019-09-16 12:00:00",progress:"未查看",lastDate:"2019-09-16 12:00:00"},{id:2,name:"诸葛亮",rate:3,demand:["800-2500元/月","80-120平米","天府三街"],label:["求购新房","沉默客户"],date:"2019-09-16 12:00:00",progress:"未查看",lastDate:"2019-09-16 12:00:00"},{id:3,name:"小乔",rate:2,demand:["800-2500元/月","80-120平米","天府三街"],label:["求购新房","沉默客户"],date:"2019-09-16 12:00:00",progress:"未查看",lastDate:"2019-09-16 12:00:00"},{id:4,name:"大乔",rate:2,demand:["800-2500元/月","80-120平米","天府三街"],label:["求购新房","沉默客户"],date:"2019-09-16 12:00:00",progress:"未查看",lastDate:"2019-09-16 12:00:00"}]}},methods:{clearQuery:function(){},changeTab:function(t,e){},rowClick:function(t){this.$navigateTo({query:{title:"".concat(t.name)},path:"/work/customer/".concat(t.id)})}}},r=i,o=(a("4a2a"),a("6128"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"9d5577b4",null);e["default"]=l.exports},"4b77":function(t,e,a){},"4b84":function(t,e,a){},"4bce":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-checkbox-group",{staticClass:"fm-checkbox-group",attrs:{size:"small"},on:{change:t.change},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t,e){return a("el-checkbox",{key:e,attrs:{label:t.label,border:""}})})),1)},s=[],i={props:{options:{type:Array,default:function(){return[]}},model:{type:Array,default:function(){return[]}}},watch:{model:{immediate:!0,handler:function(t){var e=[];this.options.forEach((function(a){t.forEach((function(t){a.value==t&&e.push(a.label)}))})),this.value=e}}},data:function(){return{value:[]}},methods:{change:function(t){var e=[];this.options.forEach((function(a){t.forEach((function(t){a.label==t&&e.push(a.value)}))})),this.$emit("change",t,e)}}},r=i,o=(a("813d"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,null,null);e["default"]=l.exports},"4c4e":function(t,e,a){"use strict";var n=a("721b"),s=a.n(n);s.a},"4d04":function(t,e,a){"use strict";var n=a("094c3"),s=a.n(n);s.a},"4e29":function(t,e,a){},"4e3f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"swiper",on:{mouseover:function(e){t.showBtn=!0},mouseout:function(e){t.showBtn=!1}}},[a("swiper",{ref:"mySwiper",staticClass:"swiper-no-swiping",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.swiperOption}},t._l(t.urlList,(function(e,n){return a("swiper-slide",{key:n,staticStyle:{height:"fit-content"}},[a("div",{staticClass:"cell"},[a("div",{staticClass:"img"},[a("el-image",{attrs:{fit:"scale-down",src:e},on:{click:function(e){return t.showPreview(n)}}})],1)])])})),1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showBtn,expression:"showBtn"}],staticClass:"btn",staticStyle:{left:"0"},on:{click:function(e){return e.stopPropagation(),t.slidePrev(e)}}},[a("svg-icon",{attrs:{"icon-class":"left"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showBtn,expression:"showBtn"}],staticClass:"btn",staticStyle:{right:"0"},on:{click:function(e){return e.stopPropagation(),t.slideNext(e)}}},[a("svg-icon",{attrs:{"icon-class":"right"}})],1)],1)},s=[],i=a("1195"),r=a.n(i),o=a("7212"),l={props:["urlList"],components:{swiper:o["swiper"],swiperSlide:o["swiperSlide"]},data:function(){return{avatar:r.a,swiperOption:{slidesPerView:4,spaceBetween:15},showBtn:!1}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},methods:{slidePrev:function(){this.swiper.slidePrev()},slideNext:function(){this.swiper.slideNext()},showPreview:function(t){var e={urlList:this.urlList,index:t};this.$root.$emit("showPreview",e)}}},c=l,u=(a("e7a8"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"e9f94632",null);e["default"]=d.exports},"4ec4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-image"},[a("div",{staticClass:"body"},[a("div",{staticClass:"left-image"},[a("el-image",{staticClass:"img",attrs:{src:t.userImg}},[a("img",{attrs:{slot:"error",src:t.userDefaultImg},slot:"error"})])],1),t._v(" "),a("div",{staticClass:"right-tips"},[t._m(0),t._v(" "),a("div",{staticClass:"btns"},[t.$own(t.authActions,"glygda")||t.isMine&&!t.userImg?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.toggleAvatarDialog=!0}}},[t._v("\n          "+t._s(t.userImg?"更新图片":"上传图片")+"\n        ")]):t._e(),t._v(" "),t.isShowSkip&&t.isRegPage?a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("fulfill","isFinishImage",!0)}}},[t._v("跳过")]):t._e()],1)])]),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"形象照片上传",width:"600px",visible:t.toggleAvatarDialog},on:{"update:visible":function(e){t.toggleAvatarDialog=e}}},[a("change-image",{attrs:{userImg:t.userImg,userId:t.userId},on:{close:t.getUserImage,fulfill:function(e){return t.$emit("fulfill",e)}}})],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text"},[a("p",{staticClass:"title"},[t._v("经纪人形象照片要求：")]),t._v(" "),a("p",[t._v("1、标准尺寸：宽300px ，高400px，或者同比例照片；")]),t._v(" "),a("p",[t._v("2、格式大小：支持JPG/PEG等常用图片格式，大小建议1M以内；")]),t._v(" "),a("p",[t._v("\n          3、照片要求：端庄、大方、干净、整洁，提现职业特性，具体参考公司相关要求；非经纪人岗位，可以自由发挥；\n        ")])])}],i=a("aee8"),r=a.n(i),o=a("b011"),l={components:{ChangeImage:o["default"]},props:{userImg:{type:String,default:function(){return null}},isMine:{type:Boolean,default:!0}},data:function(){return{isView:!1,isShowEditBtn:!1,isShowSkip:!0,userDefaultImg:r.a,toggleAvatarDialog:!1}},computed:{userId:function(){return this.$route.params.id||this.$store.state.settings.userInfo.userId},authActions:function(){return this.$route.meta.authActions||[]},isRegPage:function(){return"/enrollment"==this.$route.path}},watch:{userImg:{deep:!0,handler:function(t){t&&(this.isShowSkip=!1,this.toggleAvatarDialog=!1)}}},created:function(){this.isView=!this.isRegPage}},c=l,u=(a("0a8e"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"78079e52",null);e["default"]=d.exports},"4f55":function(t,e,a){},5:function(t,e){},5185:function(t,e,a){},"51ee":function(t,e,a){},"521c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"performanceSummary"},[a("div",{staticClass:"head"},[a("div",{staticClass:"filtrator"},[a("el-select",{attrs:{placeholder:"选择年",size:"small"},on:{change:t.search},model:{value:t.query.year,callback:function(e){t.$set(t.query,"year",e)},expression:"query.year"}},t._l(t.dateList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),a("el-cascader",{ref:"nodeTree",attrs:{clearable:"",options:t.storegrouptree,props:{value:"nodeId",label:"name",emitPath:!1,checkStrictly:!0},placeholder:"部门/门店/员工",size:"small"},on:{change:t.nodeChange},model:{value:t.query.nodeId,callback:function(e){t.$set(t.query,"nodeId",e)},expression:"query.nodeId"}})],1)]),t._v(" "),a("div",{staticClass:"content"},[a("h2",{staticClass:"title"},[t._v("业绩汇总")]),t._v(" "),a("div",{staticClass:"base-info flex"},[a("p",[a("span",[t._v("门店/组别：")]),t._v(t._s(t.nodeName))]),t._v(" "),a("p",[a("span",[t._v("年份：")]),t._v(t._s(t.query.year)+"年")]),t._v(" "),a("p",[a("span",[t._v("更新时间：")]),t._v(t._s(t.lastEditDate)+"\n        "),a("span",{staticClass:"color9"},[t._v("(每天凌晨更新一次)")])])]),t._v(" "),a("el-table",{attrs:{size:"small",data:t.tableData,border:"","tree-props":{children:"items",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"业务项",width:"160px",align:"center"}},[a("el-table-column",{attrs:{label:"时间线",type:"index",align:"center","show-overflow-tooltip":"",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.month)+"\n          ")]}}])})],1),t._v(" "),a("el-table-column",{attrs:{label:"新房业务",align:"center"}},[a("el-table-column",{attrs:{label:"应收业绩",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2"},[t._v("\n            ¥"+t._s(t._f("toThousands")(e.row.performanceAbleAmount))+"\n          ")])}}])}),t._v(" "),a("el-table-column",{attrs:{label:"实收业绩",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2"},[t._v("\n            ¥"+t._s(t._f("toThousands")(e.row.performanceActualAmount))+"\n          ")])}}])})],1)],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("2b6d");a("fe63");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={data:function(){return{storegrouptree:[],tableData:[],query:{nodeId:"",year:null},dateList:[],lastEditDate:"",nodeName:"全部"}},created:function(){this.getStoregrouptree(),this.getPerformanceGatherYear()},methods:{getPerformanceGatherYear:function(){var t=this;return c(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["p"])();case 2:a=e.sent,t.dateList=a||[],t.query.year=t.dateList[0].id,t.getPerformanceGather();case 6:case"end":return e.stop()}}),e)})))()},getStoregrouptree:function(){var t=this;return c(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["v"])();case 2:a=e.sent,a&&(t.storegrouptree=a);case 4:case"end":return e.stop()}}),e)})))()},getPerformanceGather:function(){var t=this;return c(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["o"])(t.query);case 2:a=e.sent,a&&(n=a.itemList,s=a.lastEditDate,t.tableData=n,t.lastEditDate=s);case 4:case"end":return e.stop()}}),e)})))()},search:function(){this.getPerformanceGather()},nodeChange:function(){var t=this.$refs["nodeTree"].getCheckedNodes(),e="全部";t.length&&(e=t[0].data.name),this.nodeName=e,this.search()}}},d=u,p=(a("6ecb"),a("ada5"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"87ff21e8",null);e["default"]=m.exports},"527f":function(t,e,a){"use strict";var n=a("9cc0"),s=a.n(n);s.a},5303:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"store-n-staff"},[a("div",{staticClass:"menu"},[a("div",{staticClass:"t x3 aic"},[a("p",[t._v("员工管理")]),t._v(" "),"STORE"==t.currentData.departmentNodeType?a("p",[a("span",{staticClass:"blue pointer",on:{click:function(e){return e.stopPropagation(),t.edit(t.currentData,"ADD_GROUP")}}},[t._v("\n          添加组别\n        ")])]):t._e(),t._v(" "),"GROUP"==t.currentData.departmentNodeType?a("p",[a("span",{staticClass:"blue pointer",on:{click:function(e){return e.stopPropagation(),t.edit(t.currentData,"EDIT")}}},[t._v("\n          编辑组别\n        ")]),t._v("\n        ｜\n        "),a("span",{staticClass:"blue pointer",on:{click:function(e){return e.stopPropagation(),t.del(t.currentData)}}},[t._v("\n          删除组别\n        ")])]):t._e()]),t._v(" "),a("div",{staticClass:"b"},[a("el-tree",{ref:"tree",staticClass:"fm-custom-tree exp-icon-right",attrs:{data:t.stores,"default-expand-all":"","expand-on-click-node":!1,"current-node-key":"","node-key":"id",props:{value:"id",label:"name"}},on:{"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var n=e.data;return a("div",{staticClass:"custom-node"},[a("div",{staticClass:"row"},["STORE"==n.current.departmentNodeType?a("div",{staticClass:"node"},[a("span",{staticClass:"store icon"},[t._v("店")]),a("span",[t._v(t._s(n.current.name)+"("+t._s(n.current.count)+")")])]):t._e(),t._v(" "),"GROUP"==n.current.departmentNodeType?a("div",{staticClass:"node"},[a("span",{staticClass:"group icon"},[t._v("组")]),a("span",[t._v(t._s(n.current.name)+"("+t._s(n.current.count)+")")])]):t._e(),t._v(" "),"STORE"!=n.current.departmentNodeType&&"GROUP"!=n.current.departmentNodeType?a("div",{staticClass:"node"},[a("span",{staticClass:"strong"},[t._v(t._s(n.current.name)+"("+t._s(n.current.count)+")")])]):t._e()])])}}])})],1)]),t._v(" "),a("div",{staticClass:"main"},[a("div",[a("div",{staticClass:"title"},[a("div",{staticClass:"fm-filtrator"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"员工编号、手机、姓名","prefix-icon":"el-icon-search",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.queryData.keyWord,callback:function(e){t.$set(t.queryData,"keyWord",e)},expression:"queryData.keyWord"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("\n            搜索\n          ")]),t._v(" "),a("el-select",{attrs:{clearable:"",size:"small",placeholder:"状态"},on:{change:t.search},model:{value:t.queryData.status,callback:function(e){t.$set(t.queryData,"status",e)},expression:"queryData.status"}},t._l(t.config.workingStatus2,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-date-picker",{attrs:{size:"small",align:"right",type:"date",placeholder:"入职时间","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions},model:{value:t.queryData.begin,callback:function(e){t.$set(t.queryData,"begin",e)},expression:"queryData.begin"}})],1),t._v(" "),a("div",{staticClass:"x"},[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.tjyg,expression:"tjyg"}],attrs:{type:"primary",size:"small",plain:""},on:{click:t.addData}},[t._v("\n            添加员工\n          ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.dcyg,expression:"dcyg"}],attrs:{type:"success",size:"small",plain:""},on:{click:t.exportUserListExcel}},[t._v("\n            导出员工\n          ")])],1)]),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"code",label:"员工编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"link-btn",on:{click:function(a){return t.toDetail(e.row)}}},[t._v("\n                "+t._s(e.row.code)+"\n              ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"员工姓名",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"cellphone",label:"联系电话"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t._f("formatPhone")(e.row.cellphone))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"departmentName",label:"门店/组别"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"positionName",label:"岗位名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"主管"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{red:e.row.manager}},[t._v("\n                "+t._s(e.row.manager?"是":"否")+"\n              ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inductionDate",label:"入职时间"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.locked?a("span",{staticClass:"red"},[t._v("锁定")]):a("span",{class:[t.config.workingStatus[e.row.workingStatus]&&t.config.workingStatus[e.row.workingStatus].color]},[t._v("\n                "+t._s(t.config.workingStatus[e.row.workingStatus]&&t.config.workingStatus[e.row.workingStatus].label)+"\n              ")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{"current-page":t.pageNum,background:"","page-size":t.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.total},on:{"update:currentPage":function(e){t.pageNum=e},"update:current-page":function(e){t.pageNum=e},"current-change":t.handleCurrentChange}})],1)])]),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加员工("+t.currentData.name+")",visible:t.toggleAddStaffDialog},on:{"update:visible":function(e){t.toggleAddStaffDialog=e}}},[a("edit",{attrs:{options:t.options},on:{close:function(e){t.toggleAddStaffDialog=!1},submit:function(e){t.search(),t.toggleAddStaffDialog=!1}}})],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.title,visible:t.toggleEditGroupDialog,width:"500px"},on:{"update:visible":function(e){t.toggleEditGroupDialog=e}}},[a("edit-group",{attrs:{options:t.currentGroup},on:{close:function(e){t.search(),t.toggleEditGroupDialog=!1}}})],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("c24f"),l=a("73f5"),c=a("b376"),u=a.n(c),d=a("db49"),p=a("ed08"),m=a("997d"),f=a("ee5f"),v=a("b383"),h=a.n(v);function b(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function g(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){b(i,n,s,r,o,"next",t)}function o(t){b(i,n,s,r,o,"throw",t)}r(void 0)}))}}var _={components:{edit:m["default"],EditGroup:f["default"]},data:function(){return{config:d["a"].config,avatar:u.a,positions:[],tableData:[],stores:[],total:0,queryData:{keyWord:"",status:"",nodeId:null,pageIndex:1,pageSize:10,begin:null,end:null,departmentNodeType:""},currentData:{},currentGroup:{},toggleEditGroupDialog:!1,toggleAddStaffDialog:!1,currentNodeIndex:0,pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(t){t.$emit("pick",new Date)}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]},title:"",options:{}}},computed:{site:function(){return this.$store.state.settings.site},userInfo:function(){return this.$store.state.settings.userInfo},authActions:function(){return this.$route.meta.authActions||[]},routePath:function(){return this.$route.path}},watch:{"queryData.begin":{handler:function(){this.search()}}},created:function(){this.getTree()},methods:{addData:function(){this.toggleAddStaffDialog=!0},search:function(){this.getTree()},exportUserListExcel:function(){var t="".concat(window.baseURL,"/api/v1/fm/personManagement/export?from=2"),e=h.a.stringify({siteId:this.site.id,userId:this.userInfo.userId,token:this.userInfo.token});window.location.href="".concat(t,"&").concat(e)},toDetail:function(t){(this.$own(this.authActions,"llygda")||"localhost"===window.location.hostname)&&this.$navigateTo({name:"门店管理员工档案",params:{id:t.id},query:{title:"员工档案-".concat(t.name)}})},getCurrentNodeIndex:function(){var t=this;this.$nextTick((function(){var e=t.$refs.tree.treeItems;if(e&&e.length){var a=Array.from(e).findIndex((function(t){return Object(p["m"])(t,"is-current")}));-1!=a&&(t.currentNodeIndex=a)}}))},nodeClick:function(t,e){var a=this;return g(r.a.mark((function n(){return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.parent=e.parent.data.current,a.currentData=t.current,a.getCurrentNodeIndex(),a.queryData.nodeId=t.current.id,a.queryData.departmentNodeType=t.current.departmentNodeType,a.total=t.current.count,a.queryData.pageIndex=1,a.getDepartmentEmployees(),a.options={departmentTree:t};case 9:case"end":return n.stop()}}),n)})))()},getDepartmentEmployees:function(){var t=this;return g(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["g"])(t.queryData);case 2:a=e.sent,a&&(t.tableData=a);case 4:case"end":return e.stop()}}),e)})))()},edit:function(t,e){if(this.currentGroup={},"GROUP"==t.departmentNodeType){this.title="编辑组别";var a=this.parent;this.currentGroup.storeName=a.name,this.currentGroup.storeId=a.id,this.currentGroup.groupName=t.name,this.currentGroup.groupId=t.id,this.toggleEditGroupDialog=!0}else"ADD_GROUP"==e&&(this.title="添加组别",this.currentGroup.storeName=t.name,this.currentGroup.storeId=t.id,this.toggleEditGroupDialog=!0)},del:function(t){var e=this;this.$confirm("删除后将无法恢复，是否继续？","删除分组",{confirmButtonClass:"el-button--danger",confirmButtonText:"删除",type:"warning"}).then(g(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["c"])({groupId:t.id});case 2:n=a.sent,n&&(e.$showSuccess("删除成功"),e.search());case 4:case"end":return a.stop()}}),a)})))).catch((function(t){return t}))},getTree:function(){var t=this;return g(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.path,n="/coc/hr/staff"===a?o["m"]:o["h"],e.next=4,n({siteId:t.site.id});case 4:return s=e.sent,s&&(t.stores=s,t.$nextTick((function(){var e=t.$refs.tree.treeItems;e&&e.length&&t.$refs.tree.treeItems[t.currentNodeIndex].click()}))),e.abrupt("return",Promise.resolve(s));case 7:case"end":return e.stop()}}),e)})))()},handleCurrentChange:function(t){this.queryData.pageIndex=t,this.getDepartmentEmployees()}}},y=_,w=(a("157f"),a("597b"),a("5a48"),a("2877")),C=Object(w["a"])(y,n,s,!1,null,"2e69afa9",null);e["default"]=C.exports},5479:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.options.title,visible:t.value,center:"",width:"535px","before-close":t.close},on:{"update:visible":function(e){t.value=e}}},[a("div",[a("div",{staticClass:"base-info x aic"},[a("p",[a("span",[t._v("员工：")]),t._v(t._s(t.info.beneficiaryName))]),t._v(" "),a("p",[a("span",[t._v("岗位：")]),t._v(t._s(t.info.postName))]),t._v(" "),a("p",[a("span",[t._v("年月：")]),t._v(t._s(t.statisticsPeriod))])]),t._v(" "),a("div",[a("el-table",{attrs:{size:"small",data:t.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.userName)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"岗位"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.postName)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"部门/门店"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.departmentName)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"实收业绩"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2 aic"},[t._v("\n            "+t._s(e.row.practicalAchievement)+"\n          ")])}}])})],1)],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{"current-page":t.query.pageIndex,background:"","page-size":t.query.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.query,"pageIndex",e)},"update:current-page":function(e){return t.$set(t.query,"pageIndex",e)},"current-change":t.handleCurrentChange}})],1)])])},s=[],i=a("a34a"),r=a.n(i),o=a("2b6d");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={props:{value:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{tableData:[],query:{beneficiaryId:null,month:null,rank:null,pageIndex:1,pageSize:10},total:0,statisticsPeriod:"",info:{}}},watch:{value:function(t){t&&(this.query.beneficiaryId=this.options.beneficiaryId,this.query.month=this.options.month,this.query.rank=this.options.rank,this.achievementByRank())}},methods:{close:function(){this.$emit("input",!1)},handleCurrentChange:function(t){this.query.pageIndex=t,this.achievementByRank()},achievementByRank:function(){var t=this;return c(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])(t.query);case 2:a=e.sent,a&&(t.statisticsPeriod=a.statisticsPeriod,t.info=a.beneficiaryBasicInfo||{},n=a.data||{},t.total=n.total||0,t.tableData=n.list||[]);case 4:case"end":return e.stop()}}),e)})))()}}},d=u,p=(a("98a3"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"1fe868ba",null);e["default"]=m.exports},"54aa":function(t,e,a){t.exports=a.p+"img/icon_qita1.baeb6cf2.png"},"560a":function(t,e,a){},"56b9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"new-house"},[a("div",{staticClass:"main"},[a("div",{staticClass:"fm-filtrator x3 aic"},[a("div",[a("el-input",{staticClass:"search-input",attrs:{placeholder:"成单号、合同号或客户姓名、电话","prefix-icon":"el-icon-search",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.queryData.keyword,callback:function(e){t.$set(t.queryData,"keyword",e)},expression:"queryData.keyword"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("\n          搜索\n        ")]),t._v(" "),a("el-select",{attrs:{placeholder:"项目",clearable:"",size:"small"},on:{change:t.search},model:{value:t.queryData.estateId,callback:function(e){t.$set(t.queryData,"estateId",e)},expression:"queryData.estateId"}},t._l(t.estateList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),a("el-cascader",{attrs:{clearable:"",options:t.storegrouptree,props:{value:"nodeId",label:"name",emitPath:!1},placeholder:"门店/员工",size:"small"},on:{change:t.search},model:{value:t.queryData.nodeId,callback:function(e){t.$set(t.queryData,"nodeId",e)},expression:"queryData.nodeId"}}),t._v(" "),a("el-select",{attrs:{placeholder:"状态",clearable:"",size:"small"},on:{change:t.search},model:{value:t.queryData.status,callback:function(e){t.$set(t.queryData,"status",e)},expression:"queryData.status"}},t._l(t.status,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-date-picker",{attrs:{"picker-options":t.$disabledFutureDate,type:"daterange","range-separator":"-","start-placeholder":"成交日期","end-placeholder":"成交日期",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd",size:"small"},on:{change:t.queryDateChange},model:{value:t.dealDateRange,callback:function(e){t.dealDateRange=e},expression:"dealDateRange"}})],1),t._v(" "),t.$own(t.pBtn,"sbxfcj")?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.toCreate}},[t._v("\n        申报新房成交\n      ")]):t._e()],1),t._v(" "),a("div",{staticClass:"table-header mt20"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:"","row-class-name":t.tableRowClassName},on:{"sort-change":t.sortChange,"cell-click":t.cellClick}},[a("el-table-column",{attrs:{prop:"orderCode",label:"成交单号",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            纸质："+t._s(e.row.contractNum||"-")+"\n            "),a("p",[t._v("\n              系统："),a("span",{staticClass:"bill-num",on:{click:function(a){return a.stopPropagation(),t.toDetail(e.row)}}},[t._v(t._s(e.row.orderCode))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"客户信息",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.customerName)+"\n            "),a("p",{staticClass:"sub-txt"},[t._v(t._s(t._f("formatPhone")(e.row.customerPhone)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"员工信息",prop:"agentUserName",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.agentUserName)+"\n            "),a("p",{staticClass:"sub-txt"},[t._v("\n              "+t._s(e.row.storeName)+" "+t._s(e.row.groupName)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"项目/金额",prop:"estateName",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.estateName)+"\n            "),a("p",{staticClass:"sub-txt"},[t._v("¥"+t._s(t._f("toThousands")(e.row.totalPrice)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"应收/业绩",prop:"channelCommission",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            应收：¥"+t._s(t._f("toThousands")(e.row.totalAmount))+"\n            "),a("p",{staticClass:"sub-txt"},[t._v("\n              业绩：¥"+t._s(t._f("toThousands")(e.row.channelCommission))+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"dealDate",label:"成交日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"requestTime",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("span",{class:[t.statusColor[e.row.orderStatus]]},[t._v(t._s(e.row.orderStatusName))]),t._v(" "),e.row.auditContent&&"被驳回"==e.row.orderStatusName?a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"驳回理由："+e.row.auditContent}},[a("i",{staticClass:"el-icon-info color9",attrs:{slot:"reference"},slot:"reference"})]):t._e()],1)}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"btn-group"},[t.$own(t.pBtn,"sh")&&10==e.row.orderStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.showExamine(e.row)}}},[t._v("\n                审核\n              ")]):t._e(),t._v(" "),!t.$own(t.pBtn,"sk")||15!=e.row.orderStatus&&16!=e.row.orderStatus?t._e():a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.showCollection(e.row)}}},[t._v("\n                收款\n              ")]),t._v(" "),(t.$own(t.pBtn,"bj")||e.row.isInUser)&&20!=e.row.orderStatus?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.toCreate(e.row)}}},[t._v("\n                编辑\n              ")]):t._e(),t._v(" "),(t.$own(t.pBtn,"gb")||e.row.isInUser)&&[0,10,15,100].includes(e.row.orderStatus)?a("el-button",{attrs:{type:100==e.row.orderStatus?"primary":"danger",size:"mini"},on:{click:function(a){return t.switchDealOrderStatus(e.row)}}},[t._v("\n                "+t._s(100==e.row.orderStatus?"恢复":"关闭")+"\n              ")]):t._e()],1)]}}])})],1)],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{"current-page":t.queryData.pageNum,background:"","page-size":t.queryData.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.queryData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryData,"pageNum",e)},"current-change":t.handleCurrentChange}})],1),t._v(" "),a("examine",{attrs:{options:t.currentItem},on:{reRequest:t.getHouseDealList},model:{value:t.showExamineFlag,callback:function(e){t.showExamineFlag=e},expression:"showExamineFlag"}}),t._v(" "),a("collection",{attrs:{visible:t.showCollectionFlag,options:t.currentItem},on:{"update:visible":function(e){t.showCollectionFlag=e},reRequest:t.getHouseDealList}})],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("318a"),l=a("da55"),c=a("2b6d"),u=a("db49");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={components:{examine:o["default"],collection:l["default"]},data:function(){return{statusColor:{0:"pink",10:"red",15:"orange",16:"orange",100:"gray"},status:[{label:"被驳回",value:0},{label:"待审核",value:10},{label:"待收款",value:15},{label:"部分收款",value:16},{label:"已结单",value:20},{label:"待结单",value:30},{label:"已关闭",value:100}],estateList:[],showExamineFlag:!1,currentItem:{},showCollectionFlag:!1,config:u["a"].config,tableData:[],total:0,queryData:{estateId:null,keyword:"",pageNum:1,pageSize:10,dealDateFrom:null,dealDateTo:null,status:null,nodeId:null,sort:1,sortType:0},dealDateRange:[],storegrouptree:[],showOrder:!1,requestDetail:{},applyDetail:{}}},computed:{site:function(){return this.$store.state.settings.site},pBtn:function(){return this.$route.meta.authActions||[]}},created:function(){this.getHouseDealList(),this.getStoregrouptree(),this.getEstateList()},methods:{tableRowClassName:function(t){var e=t.row;return 100==e.orderStatus?"status-close":""},showExamine:function(t){this.currentItem=t,this.showExamineFlag=!0},showCollection:function(t){this.currentItem=t,this.showCollectionFlag=!0},search:function(){this.queryData.pageNum=1,this.queryData.sort=null,this.queryData.stortType=null,this.getHouseDealList()},queryDateChange:function(t){t=t||[],this.queryData.dealDateFrom=t[0],this.queryData.dealDateTo=t[1],this.search()},sortChange:function(t){var e=t.prop,a=t.order,n={orderCode:1,customerName:2,agentUserName:3,estateName:4,channelCommission:5,dealDate:6};a?(this.queryData.sortType="ascending"===a?1:0,this.queryData.sort=n[e]):(this.queryData.sort=1,this.queryData.sortType=1),this.getHouseDealList()},getHouseDealList:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["k"])(t.queryData);case 2:a=e.sent,a&&(t.total=a.total,t.tableData=a.list);case 4:case"end":return e.stop()}}),e)})))()},getEstateList:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["t"])();case 2:a=e.sent,a&&(t.estateList=a);case 4:case"end":return e.stop()}}),e)})))()},getStoregrouptree:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["v"])();case 2:a=e.sent,a&&(t.storegrouptree=a);case 4:case"end":return e.stop()}}),e)})))()},handleCurrentChange:function(t){this.queryData.pageNum=t,this.getHouseDealList()},switchDealOrderStatus:function(t){var e=this;return p(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["w"])({id:t.orderId});case 2:n=a.sent,n&&(e.$showSuccess("操作成功"),e.getHouseDealList());case 4:case"end":return a.stop()}}),a)})))()},toDetail:function(t){this.$navigateTo("/work/business/newHouse/dealDetail/".concat(t.orderId))},toCreate:function(t){var e=t.orderId?t.orderId:0,a=e?"编辑客户成交":"申报客户成交";this.$navigateTo("/work/business/newHouse/editDeal/".concat(e,"?title=").concat(a))}}},f=m,v=(a("5bc2"),a("bbae"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"3761c28c",null);e["default"]=h.exports},"57b1":function(t,e,a){"use strict";var n=a("5b01"),s=a.n(n);s.a},"57f5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dao-box"},[a("div",{staticClass:"main"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"类型",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"建筑类型"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},t._l(e.row.children,(function(e){return a("span",{key:e.id},[t._v("\n              "+t._s(e.name)+"\n            ")])})),0)}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.edit(e.row)}}},[t._v("\n              编辑\n            ")])]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{"close-on-click-modal":!1,title:"编辑建筑类型",visible:t.dictFlag},on:{"update:visible":function(e){t.dictFlag=e}}},[a("el-form",{ref:"dictForm",attrs:{model:t.dictForm,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"fr3"},[a("el-form-item",{attrs:{label:"物业类型",prop:"name",rules:[{required:!0,message:"不能为空"}]}},[a("div",{staticClass:"fs16 color3 pl8"},[t._v(t._s(t.dictForm.name))])])],1),t._v(" "),a("div",{staticClass:"fr3"},t._l(t.dictForm.nameList,(function(e,n){return a("el-form-item",{key:n,attrs:{label:"建筑类型"+(n+1),prop:"nameList."+n,rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{model:{value:t.dictForm.nameList[n],callback:function(e){t.$set(t.dictForm.nameList,n,e)},expression:"dictForm.nameList[index]"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(e){return t.delItem(n)}},slot:"append"})],1)],1)})),1),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.addItem}},[t._v("\n            +添加更多\n          ")])],1)]),t._v(" "),a("div",{staticClass:"save"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title x3 aic"},[a("p",{staticClass:"fs18 color3"},[t._v("建筑类型")])])}],i=a("a34a"),r=a.n(i),o=a("acb0");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={data:function(){return{dictFlag:!1,dictForm:{},tableData:[]}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){this.getList()},methods:{delItem:function(t){this.dictForm.nameList.length>1&&this.dictForm.nameList.splice(t,1)},addItem:function(){this.dictForm.nameList.push("")},getList:function(){var t=this;return c(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={dicttype:1},e.next=3,Object(o["o"])(a);case 3:n=e.sent,t.tableData=n;case 5:case"end":return e.stop()}}),e)})))()},edit:function(t){var e=this;return c(r.a.mark((function a(){return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.dictFlag=!0,e.$nextTick((function(){e.$refs.dictForm.clearValidate();var a={dictType:1};a.enable=t.enable,a.name=t.name,a.pid=t.id,a.sort=t.sort,a.nameList=t.children.map((function(t){return t.name})),e.dictForm=a}));case 2:case"end":return a.stop()}}),a)})))()},save:function(){var t=this;this.$refs.dictForm.validate(function(){var e=c(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return n=t.dictForm,e.next=4,Object(o["j"])(n);case 4:s=e.sent,s&&(t.$showSuccess("操作成功"),t.getList(),t.dictFlag=!1),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},d=u,p=(a("eaac"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"072085d6",null);e["default"]=m.exports},5841:function(t,e,a){},5899:function(t,e,a){},"58a6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit"},[a("div",{staticClass:"title flex-between"},[t.id?a("p",[a("span",{staticClass:"fs18 bold"},[t._v("\n        编辑房源\n      ")]),t._v(" "),a("span",{staticClass:"color9 ml5"},[t._v("房源编号：")]),t._v(" "),a("span",{staticClass:"color9 ml5"},[t._v(t._s(t.houseForm.baseInfo.houseCode))])]):a("p",[a("span",{staticClass:"fs18 bold"},[t._v("录入房源")])]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.save}},[t._v("保存")])],1),t._v(" "),a("el-form",{ref:"houseForm",staticClass:"houseForm",attrs:{model:t.houseForm,"label-width":"150px","label-position":"top"}},[t.id?t._e():a("div",{staticClass:"box"},[a("el-radio-group",{model:{value:t.houseForm.propertyType,callback:function(e){t.$set(t.houseForm,"propertyType",e)},expression:"houseForm.propertyType"}},t._l(t.config.propertyTypes,(function(e,n){return a("el-radio",{key:e,attrs:{label:n+1}},[t._v("\n          "+t._s(e)+"\n        ")])})),1)],1),t._v(" "),t.id?t._e():a("div",{staticClass:"box"},[a("p",{staticClass:"box-title"},[t._v("核心信息")]),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"小区名称",prop:"baseInfo.communityId",rules:[t.rules.required()]}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"请输入","remote-method":t.getCommunityNameList,loading:t.loading},model:{value:t.houseForm.baseInfo.communityId,callback:function(e){t.$set(t.houseForm.baseInfo,"communityId",e)},expression:"houseForm.baseInfo.communityId"}},t._l(t.communityList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.communityName,value:t.id}})})),1)],1),t._v(" "),t.houses.length&&t.houseForm.baseInfo.communityId?a("el-form-item",{attrs:{label:"房号",prop:"tmp.houses",rules:[t.rules.required()]}},[a("el-cascader",{attrs:{clearable:"",options:t.houses,props:{value:"idStr",label:"name"}},model:{value:t.houseForm.tmp.houses,callback:function(e){t.$set(t.houseForm.tmp,"houses",e)},expression:"houseForm.tmp.houses"}})],1):t._e()],1),t._v(" "),t._l(t.houseForm.owners,(function(e,n){return a("div",{key:e.key,staticClass:"box-form"},[a("el-form-item",{attrs:{label:"业主姓名",prop:"owners."+n+".ownerName",rules:[t.rules.required()]}},[a("el-input",{staticClass:"append",attrs:{maxlength:10,autocomplete:"off"},model:{value:e.ownerName,callback:function(a){t.$set(e,"ownerName",a)},expression:"item.ownerName"}},[a("div",{attrs:{slot:"append"},slot:"append"},[a("el-select",{model:{value:e.gender,callback:function(a){t.$set(e,"gender",a)},expression:"item.gender"}},t._l(t.config.genderList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)])],1),t._v(" "),a("el-form-item",{attrs:{label:"业主电话",prop:"owners."+n+".cellphone",rules:[t.rules.required(),t.rules.phone]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.cellphone,callback:function(a){t.$set(e,"cellphone",a)},expression:"item.cellphone"}})],1),t._v(" "),0===n?a("el-button",{staticClass:"cell-btn",attrs:{type:"primary"},on:{click:t.addOwners}},[t._v("\n          +添加业主信息\n        ")]):a("div",{staticClass:"cell-svg"},[a("svg-icon",{attrs:{"icon-class":"delete"},on:{click:function(e){return t.deleteOwners(n)}}})],1)],1)}))],2),t._v(" "),a("div",{staticClass:"box"},[a("p",{staticClass:"box-title"},[t._v("基本信息")]),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"挂牌价格",prop:"listingPrice",rules:[t.rules.required(),t.rules.m0m69p2]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.listingPrice,callback:function(e){t.$set(t.houseForm,"listingPrice",e)},expression:"houseForm.listingPrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("万元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"底价",prop:"minimumPrice",rules:[t.rules.m0m69p2]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.minimumPrice,callback:function(e){t.$set(t.houseForm,"minimumPrice",e)},expression:"houseForm.minimumPrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("万元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"建筑面积",prop:"baseInfo.buildingArea",rules:[t.rules.m0m69p2,t.rules.required()]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.baseInfo.buildingArea,callback:function(e){t.$set(t.houseForm.baseInfo,"buildingArea",e)},expression:"houseForm.baseInfo.buildingArea"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("平米")])])],1)],1),t._v(" "),1==t.typeIndex||2==t.typeIndex||3==t.typeIndex?a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"室",prop:"propertyInfo.bedRoomQuantity",rules:[t.rules.required(),t.rules.m0m29]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.propertyInfo.bedRoomQuantity,callback:function(e){t.$set(t.houseForm.propertyInfo,"bedRoomQuantity",e)},expression:"houseForm.propertyInfo.bedRoomQuantity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"厅",prop:"propertyInfo.livingRoomQuantity",rules:[t.rules.required(),t.rules.m0m29]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.propertyInfo.livingRoomQuantity,callback:function(e){t.$set(t.houseForm.propertyInfo,"livingRoomQuantity",e)},expression:"houseForm.propertyInfo.livingRoomQuantity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"卫",prop:"propertyInfo.restRoomQuantity",rules:[t.rules.required(),t.rules.m0m29]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.propertyInfo.restRoomQuantity,callback:function(e){t.$set(t.houseForm.propertyInfo,"restRoomQuantity",e)},expression:"houseForm.propertyInfo.restRoomQuantity"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"阳台",prop:"propertyInfo.balconyQuantity",rules:[t.rules.m0m29]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.propertyInfo.balconyQuantity,callback:function(e){t.$set(t.houseForm.propertyInfo,"balconyQuantity",e)},expression:"houseForm.propertyInfo.balconyQuantity"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"装修情况",prop:"baseInfo.decoration"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.baseInfo.decoration,callback:function(e){t.$set(t.houseForm.baseInfo,"decoration",e)},expression:"houseForm.baseInfo.decoration"}},t._l(t.config.decorations,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e+1}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"房屋朝向",prop:"baseInfo.orientation"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.baseInfo.orientation,callback:function(e){t.$set(t.houseForm.baseInfo,"orientation",e)},expression:"houseForm.baseInfo.orientation"}},t._l(t.config.orientations,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e+1}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"房屋来源",prop:"baseInfo.houseSource"}},[a("el-cascader",{attrs:{options:t.houseList,props:{value:"id",label:"name"}},model:{value:t.houseForm.tmp.houseSource,callback:function(e){t.$set(t.houseForm.tmp,"houseSource",e)},expression:"houseForm.tmp.houseSource"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"房屋等级",prop:"baseInfo.houseLevel"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.baseInfo.houseLevel,callback:function(e){t.$set(t.houseForm.baseInfo,"houseLevel",e)},expression:"houseForm.baseInfo.houseLevel"}},t._l(t.config.houseLevels,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e+1}})})),1)],1)],1)]),t._v(" "),a("div",{staticClass:"box"},[a("p",{staticClass:"box-title"},[t._v("看房信息")]),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"常规看房时间",prop:"tmp.routineHouseViewTime"}},[a("el-cascader",{attrs:{"collapse-tags":"",clearable:"",props:{multiple:!0},options:t.config.routineHouseViewTimeList},model:{value:t.houseForm.tmp.routineHouseViewTime,callback:function(e){t.$set(t.houseForm.tmp,"routineHouseViewTime",e)},expression:"houseForm.tmp.routineHouseViewTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"近期可看房时间",prop:"baseInfo.recentHouseViewTime"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.queryRecentHouseViewTime},model:{value:t.houseForm.baseInfo.recentHouseViewTime,callback:function(e){t.$set(t.houseForm.baseInfo,"recentHouseViewTime",e)},expression:"houseForm.baseInfo.recentHouseViewTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"房屋状态",prop:"baseInfo.houseStatus"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.queryHouseStatus},model:{value:t.houseForm.baseInfo.houseStatus,callback:function(e){t.$set(t.houseForm.baseInfo,"houseStatus",e)},expression:"houseForm.baseInfo.houseStatus"}})],1)],1)]),t._v(" "),a("div",{staticClass:"box"},[a("p",{staticClass:"box-title"},[t._v("价格信息")]),t._v(" "),a("div",{staticClass:"box-form"},[1==t.typeIndex||3==t.typeIndex?a("el-form-item",{attrs:{label:"房屋年限",prop:"propertyInfo.houseAge"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.propertyInfo.houseAge,callback:function(e){t.$set(t.houseForm.propertyInfo,"houseAge",e)},expression:"houseForm.propertyInfo.houseAge"}},t._l(t.config.houseAges,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e+1}})})),1)],1):t._e(),t._v(" "),1==t.typeIndex||3==t.typeIndex?a("el-form-item",{attrs:{label:"是否唯一",prop:"propertyInfo.isOnly"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.propertyInfo.isOnly,callback:function(e){t.$set(t.houseForm.propertyInfo,"isOnly",e)},expression:"houseForm.propertyInfo.isOnly"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"付款要求",prop:"payRequire"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.queryPayRequire},model:{value:t.houseForm.payRequire,callback:function(e){t.$set(t.houseForm,"payRequire",e)},expression:"houseForm.payRequire"}})],1)],1),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"过户指导价",prop:"guidePrice",rules:[t.rules.m0m69p2]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.guidePrice,callback:function(e){t.$set(t.houseForm,"guidePrice",e)},expression:"houseForm.guidePrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元/平米")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"原购价格",prop:"purchasePrice",rules:[t.rules.m0m69p2]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.purchasePrice,callback:function(e){t.$set(t.houseForm,"purchasePrice",e)},expression:"houseForm.purchasePrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("万元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"是否提供原始税票",prop:"hasOriginalInvoice"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.hasOriginalInvoice,callback:function(e){t.$set(t.houseForm,"hasOriginalInvoice",e)},expression:"houseForm.hasOriginalInvoice"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)]),t._v(" "),a("div",{staticClass:"box"},[a("p",{staticClass:"box-title"},[t._v("业主信息")]),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"售房原因",prop:"sellReason"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.querySellReason},model:{value:t.houseForm.sellReason,callback:function(e){t.$set(t.houseForm,"sellReason",e)},expression:"houseForm.sellReason"}})],1),t._v(" "),1==t.typeIndex||3==t.typeIndex?a("el-form-item",{attrs:{label:"户口情况",prop:"propertyInfo。householdStatus"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.queryHouseholdStatus},model:{value:t.houseForm.propertyInfo.householdStatus,callback:function(e){t.$set(t.houseForm.propertyInfo,"householdStatus",e)},expression:"houseForm.propertyInfo.householdStatus"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"抵押情况",prop:"mortgageStatus"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.mortgageStatus,callback:function(e){t.$set(t.houseForm,"mortgageStatus",e)},expression:"houseForm.mortgageStatus"}},t._l(t.config.mortgageStatusList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t._v(" "),"有抵押"===t.houseForm.mortgageStatus?a("el-form-item",{attrs:{label:"抵押金额",prop:"mortgagePrice",rules:[t.rules.m0m69]}},[a("el-input",{attrs:{type:"numbr",autocomplete:"off"},model:{value:t.houseForm.mortgagePrice,callback:function(e){t.$set(t.houseForm,"mortgagePrice",e)},expression:"houseForm.mortgagePrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("万元")])])],1):t._e()],1),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"期望出售周期",prop:"expectSaleCycle"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":t.queryExpectSaleCycle},model:{value:t.houseForm.expectSaleCycle,callback:function(e){t.$set(t.houseForm,"expectSaleCycle",e)},expression:"houseForm.expectSaleCycle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否随时可签",prop:"isSignAnytime"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.isSignAnytime,callback:function(e){t.$set(t.houseForm,"isSignAnytime",e)},expression:"houseForm.isSignAnytime"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"联系人是否为业主",prop:"contactIsOwner"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.contactIsOwner,callback:function(e){t.$set(t.houseForm,"contactIsOwner",e)},expression:"houseForm.contactIsOwner"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"产权是否共有",prop:"isPropertyShared"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.isPropertyShared,callback:function(e){t.$set(t.houseForm,"isPropertyShared",e)},expression:"houseForm.isPropertyShared"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"婚姻状况",prop:"marryStatus"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.marryStatus,callback:function(e){t.$set(t.houseForm,"marryStatus",e)},expression:"houseForm.marryStatus"}},t._l(t.config.marryStatusList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1)]),t._v(" "),a("div",{staticClass:"box"},[a("p",{staticClass:"box-title"},[t._v("房屋信息")]),t._v(" "),a("div",{staticClass:"box-form"},[a("el-form-item",{attrs:{label:"建筑类型",prop:"baseInfo.buildingType",rules:[t.rules.required()]}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.baseInfo.buildingType,callback:function(e){t.$set(t.houseForm.baseInfo,"buildingType",e)},expression:"houseForm.baseInfo.buildingType"}},t._l(t.buildingTypeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),1==t.typeIndex||2==t.typeIndex?a("el-form-item",{attrs:{label:"梯户比",prop:"liftHouseholdsRatio"}},[a("div",{staticClass:"flex-center"},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.tmp.ti,callback:function(e){t.$set(t.houseForm.tmp,"ti",e)},expression:"houseForm.tmp.ti"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("梯")])]),t._v(" "),a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.tmp.hu,callback:function(e){t.$set(t.houseForm.tmp,"hu",e)},expression:"houseForm.tmp.hu"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("户")])])],1)]):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"建成年代",prop:"baseInfo.buildingTime",rules:t.checkBuildingTime}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.houseForm.baseInfo.buildingTime,callback:function(e){t.$set(t.houseForm.baseInfo,"buildingTime",t._n(e))},expression:"houseForm.baseInfo.buildingTime"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("年")])])],1)],1),t._v(" "),a("div",{staticClass:"box-form"},[1==t.typeIndex||2==t.typeIndex||3==t.typeIndex?a("el-form-item",{attrs:{label:"产权性质",prop:"propertyInfo.propertyRightType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.propertyInfo.propertyRightType,callback:function(e){t.$set(t.houseForm.propertyInfo,"propertyRightType",e)},expression:"houseForm.propertyInfo.propertyRightType"}},t._l(t.config.propertyRightTypes,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e+1}})})),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"产权年限",prop:"baseInfo.propertyRightLimit"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.baseInfo.propertyRightLimit,callback:function(e){t.$set(t.houseForm.baseInfo,"propertyRightLimit",e)},expression:"houseForm.baseInfo.propertyRightLimit"}},t._l(t.config.propertyRightLimits,(function(t,e){return a("el-option",{key:t,attrs:{label:t,value:e+1}})})),1)],1),t._v(" "),5==t.typeIndex?a("el-form-item",{attrs:{label:"是否临街",prop:"propertyInfo.isFaceStreet"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.propertyInfo.isFaceStreet,callback:function(e){t.$set(t.houseForm.propertyInfo,"isFaceStreet",e)},expression:"houseForm.propertyInfo.isFaceStreet"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"box-form"},[5==t.typeIndex?a("el-form-item",{attrs:{label:"面宽",prop:"propertyInfo.houseWidth",rules:[t.rules.m0m29p2]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.propertyInfo.houseWidth,callback:function(e){t.$set(t.houseForm.propertyInfo,"houseWidth",e)},expression:"houseForm.propertyInfo.houseWidth"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("米")])])],1):t._e(),t._v(" "),5==t.typeIndex?a("el-form-item",{attrs:{label:"进深",prop:"propertyInfo.houseDepth",rules:[t.rules.m0m29p2]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.propertyInfo.houseDepth,callback:function(e){t.$set(t.houseForm.propertyInfo,"houseDepth",e)},expression:"houseForm.propertyInfo.houseDepth"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("米")])])],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"层高",prop:"baseInfo.houseHigh",rules:[t.rules.m0m29p2]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.baseInfo.houseHigh,callback:function(e){t.$set(t.houseForm.baseInfo,"houseHigh",e)},expression:"houseForm.baseInfo.houseHigh"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("米")])])],1)],1),t._v(" "),a("div",{staticClass:"box-form"},[5==t.typeIndex?a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"适合业态",prop:"tmp.suitableOperation"}},[a("el-checkbox-group",{model:{value:t.houseForm.tmp.suitableOperation,callback:function(e){t.$set(t.houseForm.tmp,"suitableOperation",e)},expression:"houseForm.tmp.suitableOperation"}},t._l(t.config.suitableOperations,(function(t){return a("el-checkbox",{key:t,attrs:{label:t}})})),1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"box-form"},[1==t.typeIndex||2==t.typeIndex||3==t.typeIndex?a("el-form-item",{attrs:{label:"凶宅信息",prop:"propertyInfo.unluckyInfo"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.houseForm.propertyInfo.unluckyInfo,callback:function(e){t.$set(t.houseForm.propertyInfo,"unluckyInfo",e)},expression:"houseForm.propertyInfo.unluckyInfo"}})],1):t._e()],1)]),t._v(" "),a("div",{staticClass:"box"},[a("p",{staticClass:"box-title"},[t._v("特色信息")]),t._v(" "),a("div",{staticClass:"box-form"},[1==t.typeIndex||2==t.typeIndex||3==t.typeIndex?a("el-form-item",{attrs:{label:"是否有车位",prop:"propertyInfo.hasParkingPlace"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.propertyInfo.hasParkingPlace,callback:function(e){t.$set(t.houseForm.propertyInfo,"hasParkingPlace",e)},expression:"houseForm.propertyInfo.hasParkingPlace"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),t._v(" "),1==t.typeIndex||3==t.typeIndex?a("el-form-item",{attrs:{label:"是否有学区名额",prop:"propertyInfo.hasSchoolPlace"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.propertyInfo.hasSchoolPlace,callback:function(e){t.$set(t.houseForm.propertyInfo,"hasSchoolPlace",e)},expression:"houseForm.propertyInfo.hasSchoolPlace"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"box-form"},[1==t.typeIndex||2==t.typeIndex||3==t.typeIndex?a("el-form-item",{attrs:{label:"是否带家电",prop:"propertyInfo.hasAppliances"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.houseForm.propertyInfo.hasAppliances,callback:function(e){t.$set(t.houseForm.propertyInfo,"hasAppliances",e)},expression:"houseForm.propertyInfo.hasAppliances"}},t._l(t.config.bool,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"赠送面积",prop:"baseInfo.giftAreaCount",rules:[t.rules.m0m69p2]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.baseInfo.giftAreaCount,callback:function(e){t.$set(t.houseForm.baseInfo,"giftAreaCount",e)},expression:"houseForm.baseInfo.giftAreaCount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("平米")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"使用面积",prop:"baseInfo.useAreaCount",rules:[t.rules.m0m69p2]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.houseForm.baseInfo.useAreaCount,callback:function(e){t.$set(t.houseForm.baseInfo,"useAreaCount",e)},expression:"houseForm.baseInfo.useAreaCount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("平米")])])],1)],1)])])],1)},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("f803"),c=a("acb0"),u=a("7998");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={data:function(){var t=function(t,e,a){e?e>=Number("1900")&&e<=Number((new Date).getFullYear())?a():a(new Error("范围1900-今年，整数")):a()};return{config:o["a"].config,rules:o["a"].rules,checkBuildingTime:[{validator:t,trigger:"blur"},o["a"].rules.int],houseForm:{baseInfo:{buildingTime:null,buildingArea:null,buildingType:null,communityId:null,decoration:"",giftAreaCount:null,houseHigh:null,houseLevel:"",houseSource:"",houseStatus:"",orientation:"",propertyRightLimit:"",recentHouseViewTime:"",routineHouseViewTime:"",useAreaCount:null,buildingTypeStr:"",houseCode:"",communityName:"",address:"",hasSell:null,haslease:null,siteId:null,houseNumber:null},propertyInfo:{balconyQuantity:null,bedRoomQuantity:null,hasAppliances:null,hasParkingPlace:null,hasSchoolPlace:null,houseAge:"",houseDepth:null,houseWidth:null,householdStatus:"",isFaceStreet:null,isOnly:null,liftHouseholdsRatio:"",livingRoomQuantity:null,propertyRightType:"",restRoomQuantity:null,suitableOperation:"",unluckyInfo:"",floorLocationDesc:""},contactIsOwner:null,editType:null,expectSaleCycle:"",guidePrice:null,hasOriginalInvoice:null,isPropertyShared:null,isSignAnytime:null,listingPrice:null,marryStatus:"",minimumPrice:null,mortgageStatus:"",mortgagePrice:null,payRequire:"",propertyType:null,purchasePrice:null,sellReason:"",houseId:null,inUser:"",maintainUser:"",unitPrice:null,owners:[{key:Date.now(),gender:1,cellphone:"",ownerName:""}],tmp:{ti:null,hu:null,routineHouseViewTime:[],suitableOperation:[],houseSource:[],houses:[]}},buildings:[],houseList:[],loading:!1,communityList:[],isChangeData:!0,title:"",houses:[]}},computed:{site:function(){return this.$store.state.settings.site},tab:function(){return this.$route.query.tab},id:function(){return this.$route.query.id},typeIndex:function(){return this.houseForm.propertyType},buildingIndex:function(){var t=this.typeIndex,e=-1;switch(t){case 1:case 2:e=0;break;case 3:e=1;break;case 4:e=3;break;case 5:e=2;break}return e},buildingTypeList:function(){var t=[],e=this.buildingIndex;return-1!==e&&(t=this.buildings[e].children),t},liftHouseholdsRatio:function(){var t="",e=this.houseForm.tmp,a=e.ti,n=e.hu;return t="".concat(a,"梯").concat(n,"户"),t},routineHouseViewTime:function(){return this.houseForm.tmp.routineHouseViewTime.toString()},suitableOperation:function(){return this.houseForm.tmp.suitableOperation.toString()},houseSource:function(){return this.houseForm.tmp.houseSource},communityId:function(){return this.houseForm.baseInfo.communityId}},watch:{communityId:function(t){t&&this.getHouses(t)},buildingTypeList:function(t,e){e.length&&e!==t&&(this.houseForm.baseInfo.buildingType=null)},routineHouseViewTime:function(t){this.houseForm.baseInfo.routineHouseViewTime=t},suitableOperation:function(t){this.houseForm.propertyInfo.suitableOperation=t},houseSource:function(t){this.houseForm.baseInfo.houseSource=t.toString()},liftHouseholdsRatio:function(t){this.houseForm.propertyInfo.liftHouseholdsRatio=t}},created:function(){this.setTitle(),this.getDictList(1),this.getDictList(2),this.getHouseDetail()},methods:{setTitle:function(){var t=this.id,e=this.tab;this.title=t?"编辑".concat(e,"房源"):"录入".concat(e,"房源")},getHouseDetail:function(){var t=this;return p(r.a.mark((function e(){var a,n,s,i,o,c,u,d,p,m,f,v,h,b,g,_,y,w,C,k;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.id,!a){e.next=6;break}return e.next=4,Object(l["l"])({id:a});case 4:if(n=e.sent,n){if(s=n,i=s.propertyInfo,o=i.liftHouseholdsRatio,c=i.suitableOperation,u=s.baseInfo,d=u.houseSource,p=u.routineHouseViewTime,m=null,f=null,v=[],h=[],b=[],o&&(g=o.split("梯"),_=g[1].split("户"),m=g[0],f=_[0]),p){y=p.split(",");while(y.length){for(w=[],C=0;C<=1;C++)k=y.pop(),w.push(k);v.push(w.reverse()),w=[]}v=v.reverse()}c&&(h=c.split(",")),d&&(b=d.split(",").map(Number)),s.tmp={ti:m,hu:f,routineHouseViewTime:v,suitableOperation:h,houseSource:b},t.houseForm=s}case 6:case"end":return e.stop()}}),e)})))()},addOwners:function(){this.houseForm.owners.length<5&&this.houseForm.owners.push({key:Date.now(),gender:1,cellphone:"",ownerName:""})},deleteOwners:function(t){this.houseForm.owners.splice(t,1)},editSellHouse:function(){var t=this;return p(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.houseForm.baseInfo.siteId=t.site.id,a=t.houseForm,e.next=4,Object(l["d"])(a);case 4:n=e.sent,n&&(s=t.id?"房源编辑成功":"房源录入成功",t.$showSuccess(s,(function(){t.isChangeData=!1,t.$store.dispatch("tagsView/delView",t.$route),t.$navigateTo({path:"/work/house/old"})})));case 6:case"end":return e.stop()}}),e)})))()},getDictList:function(t){var e=this;return p(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={dicttype:t},a.next=3,Object(c["n"])(n);case 3:s=a.sent,a.t0=t,a.next=1===a.t0?7:2===a.t0?10:12;break;case 7:return e.buildings=s,e.houseForm.propertyType=1,a.abrupt("break",12);case 10:return e.houseList=s,a.abrupt("break",12);case 12:case"end":return a.stop()}}),a)})))()},getCommunityNameList:function(t){var e=this;return p(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.communityList=[],""===t){a.next=11;break}return e.loading=!0,n={communityName:t,status:2,siteId:e.site.id},a.next=6,Object(u["o"])(n);case 6:s=a.sent,e.loading=!1,e.communityList=s,a.next=12;break;case 11:e.communityList=[];case 12:case"end":return a.stop()}}),a)})))()},queryHouseStatus:function(t,e){var a=this.config.houseStatusList;e(a)},queryRecentHouseViewTime:function(t,e){var a=this.$time().format("E"),n=this.$time().add(6-a,"days").format("MM/DD"),s=this.$time().add(7-a,"days").format("MM/DD"),i=[{value:"本周末（".concat(n,"、").concat(s,"）可看房")},{value:"本周六（".concat(n,"）可看房")},{value:"本周日（".concat(s,"）可看房")},{value:"提前预约随时可看房"}],r=i;e(r)},queryExpectSaleCycle:function(t,e){var a=this.config.expectSaleCycleList;e(a)},queryPayRequire:function(t,e){var a=this.config.payRequireList;e(a)},queryHouseholdStatus:function(t,e){var a=this.config.householdStatusList;e(a)},querySellReason:function(t,e){var a=this.config.sellReasonList;e(a)},save:function(){var t=this,e=this.id;this.$refs.houseForm.validate(function(){var a=p(r.a.mark((function a(n){var s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n){a.next=5;break}e?t.houseForm.editType=2:(s=t.houseForm.tmp.houses,t.houseForm.baseInfo.houseNumber=s[s.length-1],t.houseForm.editType=1),t.editSellHouse(),a.next=6;break;case 5:return a.abrupt("return",!1);case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},getHouses:function(t){var e=this;return p(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={type:1},a.next=3,Object(l["n"])(t,n);case 3:s=a.sent,e.houses=s;case 5:case"end":return a.stop()}}),a)})))()}}},f=m,v=(a("3f01"),a("bb9b"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"25d25826",null);e["default"]=h.exports},"58cd":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.addArea}},[t._v("添加区域")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序",sortable:"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"区域",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"商圈"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},t._l(e.row.children,(function(e){return a("span",{key:e.id},[t._v("\n            "+t._s(e.name)+"\n          ")])})),0)}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.editArea(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),"演示站点"!=e.row.name?a("el-button",{staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.delArea(e.$index,e.row)}}},[t._v("删除")]):t._e()]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{"close-on-click-modal":!1,title:t.title[t.editType-1]+"区域",visible:t.areaFlag},on:{"update:visible":function(e){t.areaFlag=e}}},[a("el-form",{ref:"areaForm",attrs:{model:t.areaForm,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"fr3"},[a("el-form-item",{attrs:{label:"城市站点",prop:"siteId",rules:[{required:!0,message:"不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.areaForm.siteId,callback:function(e){t.$set(t.areaForm,"siteId",e)},expression:"areaForm.siteId"}},t._l(t.sites,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"区域名称",prop:"areaName",rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{attrs:{type:"areaName",autocomplete:"off"},model:{value:t.areaForm.areaName,callback:function(e){t.$set(t.areaForm,"areaName",e)},expression:"areaForm.areaName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"区域排序",prop:"sort",rules:[{type:"number",required:!0,message:"必须为数字"}]}},[a("el-input",{attrs:{type:"sort"},model:{value:t.areaForm.sort,callback:function(e){t.$set(t.areaForm,"sort",t._n(e))},expression:"areaForm.sort"}})],1)],1),t._v(" "),a("div",{staticClass:"fr3"},t._l(t.areaForm.businessAreaName,(function(e,n){return a("el-form-item",{key:n,attrs:{label:"商圈名称"+(n+1),prop:"businessAreaName."+n,rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{model:{value:t.areaForm.businessAreaName[n],callback:function(e){t.$set(t.areaForm.businessAreaName,n,e)},expression:"areaForm.businessAreaName[index]"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(e){return t.delAreaName(n)}},slot:"append"})],1)],1)})),1),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.addAreaName}},[t._v("+添加更多商圈")])],1)]),t._v(" "),a("div",{staticClass:"save"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("acb0");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={businessAreaName:[""],siteId:"",areaName:"",sort:0},d={data:function(){return{areaFlag:!1,areaForm:JSON.parse(JSON.stringify(u)),tableData:[],editType:1,title:["创建","编辑"],sites:[]}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){this.gettableData(),this.getSites()},methods:{getSites:function(){var t=this;return c(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["v"])();case 2:a=e.sent,t.sites=a;case 4:case"end":return e.stop()}}),e)})))()},addArea:function(){var t=this;this.areaForm=JSON.parse(JSON.stringify(u)),this.editType=1,this.areaFlag=!0,this.$nextTick((function(){t.$refs.areaForm.clearValidate(),t.areaForm=JSON.parse(JSON.stringify(u))}))},editArea:function(t,e){var a=e.id,n=e.name,s=e.sort,i=e.children,r=e.siteId,o=[];i.forEach((function(t){o.push(t.name)}));var l={areaId:a,businessAreaName:o,siteId:r,areaName:n,sort:s};this.areaForm=l,this.editType=2,this.areaFlag=!0},delArea:function(t,e){var a=this;return c(r.a.mark((function n(){var s,i;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={id:e.id},n.next=3,Object(o["e"])(s);case 3:i=n.sent,i&&a.tableData.splice(t,1);case 5:case"end":return n.stop()}}),n)})))()},gettableData:function(){var t=this;return c(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(o["c"])(a);case 3:n=e.sent,t.tableData=n;case 5:case"end":return e.stop()}}),e)})))()},delAreaName:function(t){0!==t&&this.areaForm.businessAreaName.splice(t,1)},addAreaName:function(){this.areaForm.businessAreaName.push("")},save:function(){var t=this;this.$refs.areaForm.validate(function(){var e=c(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return n=t.areaForm,n.editType=t.editType,e.next=5,Object(o["l"])(n);case 5:s=e.sent,t.areaFlag=!1,s&&t.gettableData(),e.next=11;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},p=d,m=(a("75cd"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"3d4bacf0",null);e["default"]=f.exports},5937:function(t,e,a){},5940:function(t,e,a){t.exports=a.p+"img/fmLogo.766b4257.png"},"597b":function(t,e,a){"use strict";var n=a("b691"),s=a.n(n);s.a},"597f":function(t,e,a){},"5a0e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"community-photos"},[a("div",{staticClass:"title"},[a("el-upload",{ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",multiple:"",accept:"image/*","on-progress":function(){t.loading=!0},data:t.uploadData,"on-success":t.uploadSuccess,"on-change":t.handleChange,disabled:t.disabled,"show-file-list":!1}},[a("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-upload"}},[t._v("\n        批量上传图片\n      ")])],1),t._v(" "),a("p",{staticClass:"ml20 mt10 color9"},[a("svg-icon",{staticClass:"icon fs18",attrs:{"icon-class":"move"}}),t._v(" "),a("span",[t._v("\n        拖动图片，可以进行图片排序\n      ")])],1)],1),t._v(" "),a("div",{staticClass:"photo-main mt20"},[a("draggable",{staticClass:"grid",attrs:{options:t.draggableOptions},on:{change:t.sortChange},model:{value:t.photos,callback:function(e){t.photos=e},expression:"photos"}},t._l(t.photos,(function(e,n){return a("div",{key:e.id,staticClass:"cell flex-between-col border1"},[a("el-image",{staticClass:"move",staticStyle:{height:"150px"},attrs:{src:e.fileUrl,fit:"cover"}}),t._v(" "),a("div",{staticClass:"pointer nodrag",staticStyle:{height:"55px"}},[n===t.photoIndex?[a("el-input",{staticClass:"description",attrs:{type:"textarea",maxlength:"100",autosize:{maxRows:3},autofocus:!0},on:{blur:function(a){return t.updateCommunityImage(e)}},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})]:[a("div",{on:{click:function(e){return e.stopPropagation(),t.getFocus(n)}}},[e.description?a("p",{staticClass:"fs13",staticStyle:{height:"55px",overflow:"hidden","word-break":"break-word"}},[t._v("\n                "+t._s(e.description)+"\n              ")]):a("p",{staticClass:"fs13",staticStyle:{color:"#cccccc"}},[t._v("\n                点击添加图片描述\n              ")])])]],2),t._v(" "),a("div",{staticClass:"flex-between fs13 nodrag",staticStyle:{height:"25px"}},[a("el-upload",{ref:"upload2",refInFor:!0,attrs:{action:t.baseURL+"/api/v1/upload/mulit",accept:"image/*",data:t.uploadData,"on-progress":function(){t.loading=!0},"on-success":t.changeSuccess,"show-file-list":!1}},[a("p",{staticClass:"pointer",on:{click:function(a){t.activeItem=e}}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("span",[t._v("替换图片")])])]),t._v(" "),a("p",{staticClass:"red pointer",on:{click:function(a){return a.stopPropagation(),t.deleteCommunityImage(e.id)}}},[a("i",{staticClass:"el-icon-delete"}),t._v(" "),a("span",[t._v("删除图片")])])],1)],1)})),0)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("310e"),l=a.n(o),c=a("970a");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={components:{draggable:l.a},props:{id:[String,Number]},data:function(){return{loading:!1,enabled:!0,photos:[],photoIndex:-1,activeItem:{},draggableOptions:{filter:".nodrag"},fileList:[],uploadList:[],disabled:!1}},computed:{baseURL:function(){return window.baseURL},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},uploadData:function(){var t=this.token,e=this.userId;return{token:t,userId:e}},uploadDom:function(){return this.$refs.upload}},created:function(){this.getCommunityImageList()},methods:{handleChange:function(t,e){this.disabled=!0;var a=this.uploadList;a.length===e.length&&this.saveCommunityImages()},getCommunityImageList:function(){var t=this;return d(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.id,!a){e.next=6;break}return e.next=4,Object(c["b"])(a);case 4:n=e.sent,t.photos=n;case 6:case"end":return e.stop()}}),e)})))()},uploadSuccess:function(t){this.loading=!1;var e=t.data[0],a={description:e.fileName,filePath:e.filePath};this.uploadList.push(a)},saveCommunityImages:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,n=t.uploadList,s={images:n},e.next=4,Object(c["c"])(a,s);case 4:i=e.sent,t.disabled=!1,t.uploadList=[],t.$nextTick((function(){t.uploadDom.clearFiles()})),i&&t.getCommunityImageList();case 9:case"end":return e.stop()}}),e)})))()},deleteCommunityImage:function(t){var e=this;return d(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.id,a.next=3,Object(c["a"])(n,t);case 3:s=a.sent,s&&e.getCommunityImageList();case 5:case"end":return a.stop()}}),a)})))()},updateCommunityImage:function(t,e){var a=this;return d(r.a.mark((function n(){var s,i;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.photoIndex=-1,s=a.id,e&&(t.filePath=e),n.next=5,Object(c["e"])(s,t.id,t);case 5:i=n.sent,i&&a.getCommunityImageList();case 7:case"end":return n.stop()}}),n)})))()},changeSuccess:function(t){var e=this;return d(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!1,n=t.data[0].filePath,a.next=4,e.updateCommunityImage(e.activeItem,n);case 4:s=a.sent,s&&e.getCommunityImageList();case 6:case"end":return a.stop()}}),a)})))()},sortCommunityImage:function(t,e){this.photoIndex=-1;var a=this.id;Object(c["d"])(a,t,e)},sortChange:function(t){var e=t.moved.element.id,a=t.moved.newIndex;this.sortCommunityImage(e,a)},getFocus:function(t){this.photoIndex=t,this.$nextTick((function(){var t=document.querySelector(".description textarea");t&&t.focus()}))}}},m=p,f=(a("9632"),a("f16c"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"75fbfafb",null);e["default"]=v.exports},"5a22":function(t,e,a){},"5a48":function(t,e,a){"use strict";var n=a("77c7"),s=a.n(n);s.a},"5ab7":function(t,e,a){"use strict";var n=a("8ff6"),s=a.n(n);s.a},"5ac5":function(t,e,a){"use strict";var n=a("8ad7"),s=a.n(n);s.a},"5ad5":function(t,e,a){"use strict";var n=a("3630"),s=a.n(n);s.a},"5af1":function(t,e,a){"use strict";var n=a("d8ca"),s=a.n(n);s.a},"5b01":function(t,e,a){},"5b1b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"title x3 aic"},[a("p",{staticClass:"fs18 bold"},[t._v("\n      收款银行设置\n    ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.tj,expression:"tj"}],attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){return t.edit(-1)}}},[t._v("\n      添加收款银行\n    ")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"排序",sortable:"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankName",label:"开户行"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankUserName",label:"户名"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"bankNo",label:"行号"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"账号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toBankNum")(e.row.bankUserNo))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n            "+t._s(e.row.enable?"启用":"禁用")+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.edit(e.$index,e.row)}}},[t._v("\n            编辑\n          ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.sc,expression:"sc"}],staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.del(e.$index,e.row)}}},[t._v("\n            删除\n          ")])]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{"close-on-click-modal":!1,title:t.title,visible:t.dictFlag,width:"600px"},on:{"update:visible":function(e){t.dictFlag=e}}},[a("el-form",{ref:"dictForm",attrs:{model:t.dictForm,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"fr2"},[a("el-form-item",{attrs:{label:"开户行",prop:"bankName",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.dictForm.bankName,callback:function(e){t.$set(t.dictForm,"bankName",e)},expression:"dictForm.bankName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"户名",prop:"bankUserName",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.dictForm.bankUserName,callback:function(e){t.$set(t.dictForm,"bankUserName",e)},expression:"dictForm.bankUserName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"行号",prop:"bankNo"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.dictForm.bankNo,callback:function(e){t.$set(t.dictForm,"bankNo",e)},expression:"dictForm.bankNo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"账户",prop:"bankUserNo",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.dictForm.bankUserNo,callback:function(e){t.$set(t.dictForm,"bankUserNo",e)},expression:"dictForm.bankUserNo"}})],1)],1),t._v(" "),a("div",{staticClass:"fr2"},[a("el-form-item",{attrs:{label:"状态",prop:"enable",rules:[{required:!0,message:"不能为空"}]}},[a("el-radio-group",{model:{value:t.dictForm.enable,callback:function(e){t.$set(t.dictForm,"enable",e)},expression:"dictForm.enable"}},[a("el-radio-button",{attrs:{label:!0}},[t._v("启用")]),t._v(" "),a("el-radio-button",{attrs:{label:!1}},[t._v("禁用")])],1)],1)],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dictFlag=!1}}},[t._v("\n        取消\n      ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n        保存\n      ")])],1)],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("dc70"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={bankName:"",bankNo:"",bankUserName:"",bankUserNo:"",enable:!0},p={data:function(){return{dictFlag:!1,dictForm:JSON.parse(JSON.stringify(d)),tableData:[],title:""}},computed:{site:function(){return this.$store.state.settings.site},rules:function(){return l["a"].rules}},created:function(){this.getBankList()},methods:{getBankList:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])();case 2:a=e.sent,t.tableData=a;case 4:case"end":return e.stop()}}),e)})))()},edit:function(t,e){var a=this;return u(r.a.mark((function n(){return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.dictFlag=!0,a.$nextTick((function(){a.$refs.dictForm.clearValidate(),-1===t?(a.dictForm=JSON.parse(JSON.stringify(d)),a.title="添加收款银行"):(a.title="编辑收款银行",a.dictForm=JSON.parse(JSON.stringify(e)))}));case 2:case"end":return n.stop()}}),n)})))()},del:function(t,e){var a=this;return u(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["b"])(e.id);case 2:n=t.sent,n&&a.getBankList();case 4:case"end":return t.stop()}}),t)})))()},save:function(){var t=this;this.$refs.dictForm.validate(function(){var e=u(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=13;break}if(n=t.dictForm,s=null,"添加收款银行"!=t.title){e.next=9;break}return e.next=6,Object(o["a"])(n);case 6:s=e.sent,e.next=12;break;case 9:return e.next=11,Object(o["c"])(n,n.id);case 11:s=e.sent;case 12:s&&(t.getBankList(),t.dictFlag=!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},m=p,f=(a("356b"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"79219b24",null);e["default"]=v.exports},"5b31":function(t,e,a){t.exports=a.p+"img/xfxqwz.4751f6c5.png"},"5b99":function(t,e,a){},"5bc2":function(t,e,a){"use strict";var n=a("46ce"),s=a.n(n);s.a},"5ccb":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-cell"},[a("div",{staticClass:"tags flex"},t._l(t.tags,(function(e){return a("el-button",{key:e.value,staticClass:"tag",attrs:{size:"mini",type:t.tagValue==e.value?"info":""},on:{click:function(a){return t.changeTag(e.value)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),1),t._v(" "),t.logs.length?a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"box",attrs:{"infinite-scroll-disabled":"busy"}},[t._l(t.logs,(function(e,n){return a("div",{key:n,staticClass:"cell"},[a("div",{staticClass:"title"},[a("p",{staticClass:"fs13 bold"},[a("span",[t._v("\n            "+t._s(e.date)+"\n          ")]),t._v(" "),a("span",[t._v("\n            "+t._s(e.userName)+"\n          ")]),t._v(" "),a("span",[t._v(" ("+t._s(e.position)+") ")])])]),t._v(" "),a("div",{staticClass:"pd10 pd10-col fs13 color9 mb20"},[a("p",{domProps:{innerHTML:t._s(e.description)}})]),t._v(" "),e.subDescription?a("div",{staticClass:"pd10 pd10-col fs13 orange mb10"},[a("p",{domProps:{innerHTML:t._s(e.subDescription)}})]):t._e(),t._v(" "),e.content?a("div",{staticClass:"content"},t._l(e.content.logItem,(function(n,s){return a("p",{key:s,staticClass:"mb10"},[a("i",{staticClass:"fs20"},[t._v("•")]),t._v(" "),a("span",{directives:[{name:"converTxtToHTML",rawName:"v-converTxtToHTML",value:e.content.resourceMap,expression:"item.content.resourceMap"}],domProps:{innerHTML:t._s(n)}})])})),0):t._e(),t._v(" "),a("div",{staticClass:"tags mb10"},[a("el-button",{staticClass:"tag not-hover",attrs:{size:"mini"}},[t._v(t._s(e.subLabelType))])],1)])})),t._v(" "),a("li",{staticClass:"fm-empty"},[t._v("----暂无更多----")])],2):a("div",{staticClass:"fm-empty"},[t._v("----暂无数据----")])])},s=[],i=a("a34a"),r=a.n(i),o=a("b775");function l(t){return Object(o["a"])({url:"/api/v1/fm/log/logs",method:"get",data:t})}var c=a("5118");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}function p(t){return h(t)||v(t)||f(t)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,e){if(t){if("string"===typeof t)return b(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(t,e):void 0}}function v(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return b(t)}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var g={props:{id:{type:[Number,String],required:!0},propTags:{type:Array,default:function(){return[]}},logType:{type:String,default:"COMMUNITY"},refreshToken:{type:Number,default:0}},data:function(){return{tagValue:null,logs:[],num:10,busy:!0}},computed:{tags:function(){var t=[{name:"全部",value:null}];return[].concat(t,p(this.propTags))}},watch:{refreshToken:function(){this.getLogs()}},created:function(){this.getLogs()},methods:{changeTag:function(t){this.tagValue=t,this.getLogs()},getLogs:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,n=t.tagValue,s=t.num,i={id:a,logRecordType:t.logType,limit:s,labelType:n},t.busy=!0,e.next=5,l(i);case 5:o=e.sent,Object(c["setTimeout"])((function(){t.busy=!1}),300),o&&(t.logs=o);case 8:case"end":return e.stop()}}),e)})))()},toTagName:function(t){var e=t;return this.tags.forEach((function(a){a.value===t&&(e=a.name)})),e},loadMore:function(){this.busy||(this.num+=10,this.getLogs())}}},_=g,y=(a("6fa6"),a("2877")),w=Object(y["a"])(_,n,s,!1,null,"82a59fb8",null);e["default"]=w.exports},"5df6":function(t,e,a){"use strict";var n=a("caf9"),s=a.n(n);s.a},"5e1f":function(t,e,a){"use strict";var n=a("d535"),s=a.n(n);s.a},"5e50":function(t,e,a){},"5e68":function(t,e,a){"use strict";var n=a("b3b8"),s=a.n(n);s.a},"5e82":function(t,e,a){"use strict";var n=a("9808"),s=a.n(n);s.a},"5ef7":function(t,e,a){"use strict";var n=a("879c"),s=a.n(n);s.a},"5f33":function(t,e,a){},6024:function(t,e,a){},6128:function(t,e,a){"use strict";var n=a("4e29"),s=a.n(n);s.a},"615e":function(t,e,a){},"61de":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"getTab",rawName:"v-getTab",value:t.getTab,expression:"getTab"}],staticClass:"community"},[a("el-tabs",{staticClass:"fm-tabs-card",attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabs,(function(t,e){return a("el-tab-pane",{key:t.component,attrs:{label:t.name,name:""+(e+1)}},[a(t.component,{tag:"component"})],1)})),1)],1)},s=[],i=a("8caf"),r=a("d3dd"),o={components:{AllDeal:i["default"],PendingDeal:r["default"]},data:function(){return{activeName:"1",tabs:[{name:"全部房源",component:"AllDeal"},{name:"待上架房源",component:"PendingDeal"}]}},methods:{getTab:function(t){this.activeName=t}}},l=o,c=(a("e9aa"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,"6a6f61bd",null);e["default"]=u.exports},"622d":function(t,e,a){},"627a":function(t,e,a){"use strict";var n=a("859c"),s=a.n(n);s.a},6333:function(t,e,a){t.exports=a.p+"img/computer.95abb23f.png"},6373:function(t,e,a){t.exports=a.p+"img/icon_mianfang.327b9cde.png"},6399:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"before-close":t.close,width:"300px"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"head"},[a("svg-icon",{staticClass:"gift",attrs:{"icon-class":"gift"}}),t._v(" "),a("span",{staticClass:"title"},[t._v("「"+t._s(2==t.info.awardType?"成交奖":"带看奖")+"」")])],1),t._v(" "),a("div",{staticClass:"body"},[a("h3",{staticClass:"title"},[t._v(t._s(t.info.title))]),t._v(" "),a("p",{staticClass:"desc"},[t._v("\n      "+t._s(t.info.ruleDescription)+"\n    ")])]),t._v(" "),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:t.close}},[t._v("知道了")])],1)])},s=[],i={props:{show:{type:Boolean,default:!1},info:{type:Object,required:!0}},methods:{close:function(){this.$emit("close",!1)}}},r=i,o=(a("57b1"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"33bc18e7",null);e["default"]=l.exports},"63ea":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"employee-handbook"},[a("div",{ref:"PDFViewer",staticClass:"body"},[a("pdf-viewer",{attrs:{src:t.pdfSrc}}),t._v(" "),t.isFullscreen?a("div",{staticClass:"toggle-icon flex-y-center"},[a("svg-icon",{attrs:{"icon-class":"fullscreen2"},on:{click:function(e){return t.toggleFullscreenView(!1)}}}),t._v("\n      退出全屏\n    ")],1):t._e()],1),t._v(" "),a("div",{staticClass:"foot flex-between"},[a("div",{staticClass:"toggle-icon flex-y-center"},[a("svg-icon",{attrs:{"icon-class":"fullscreen"},on:{click:function(e){return t.toggleFullscreenView(!0)}}}),t._v("\n      全屏预览\n    ")],1),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submit}},[t._v(t._s(t.text.btnName[this.type]))])],1)])},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("pdf",{staticClass:"pdf-viewer",attrs:{src:t.src}})],1)},r=[],o=a("858e"),l={components:{pdf:o["a"]},props:{src:{type:String,default:""}},data:function(){return{}},created:function(){},methods:{}},c=l,u=(a("2009"),a("2877")),d=Object(u["a"])(c,i,r,!1,null,"4d7d7f13",null),p=d.exports,m=a("ed08"),f={props:{type:{type:String,default:"YGSC"}},components:{PdfViewer:p},data:function(){return{text:{title:{PXZL:"学习 应知应会培训资料",YGSC:"阅读 员工手册"},btnName:{PXZL:"我已认真学习相关内容",YGSC:"我已阅读并知晓相关内容"}},isFullscreen:!1}},computed:{pdfSrc:function(){return"YGSC"==this.type?"https://fangyibao-res.oss-cn-hangzhou.aliyuncs.com/files/2019/12/12/employeeHandbook.pdf":"https://fangyibao-res.oss-cn-hangzhou.aliyuncs.com/files/2019/12/12/trainingDocument.pdf"}},created:function(){},methods:{toggleFullscreenView:function(t){var e=this.$refs.PDFViewer;t?Object(m["a"])(e,"fullscreen"):Object(m["t"])(e,"fullscreen"),this.isFullscreen=t},submit:function(){var t="YGSC"==this.type?"isFinishHandbook":"isFinishTraining";this.$emit("fulfill",t)}}},v=f,h=(a("dda0"),Object(u["a"])(v,n,s,!1,null,"50272e58",null));e["default"]=h.exports},"63f5":function(t,e,a){},6445:function(t,e,a){"use strict";var n=a("0449"),s=a.n(n);s.a},"64da":function(t,e,a){"use strict";var n=a("8a4e"),s=a.n(n);s.a},6518:function(t,e,a){"use strict";var n=a("ea92"),s=a.n(n);s.a},6563:function(t,e,a){"use strict";var n=a("a093"),s=a.n(n);s.a},"656c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"electronic-file",class:{isView:t.isView}},[a("ul",[a("li",[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("学历证书")]),t._v(" "),a("span",{staticClass:"td"},[a("el-upload",{class:{disabled:t.isView},attrs:{"list-type":"picture-card",accept:"image/*",disabled:t.isView,"auto-upload":!1,"file-list":t.files[0],limit:20,"on-preview":function(e){return t.handlePreview(e,t.files[0])},"on-change":function(e,a){return t.handleChange(e,a,1)},"before-remove":function(e,a){return t.handleRemove(e,a,0)}}},[a("i",{staticClass:"el-icon-plus"})])],1)])]),t._v(" "),a("li",[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("身份证")]),t._v(" "),a("span",{staticClass:"td"},[a("el-upload",{staticClass:"idcard-uploader",class:{disabled:t.isView},attrs:{accept:"image/*",disabled:t.isView,"auto-upload":!1,"show-file-list":!1,"on-change":function(e,a){return t.handleChange(e,a,2)}}},[t.files[1][0]?a("img",{staticClass:"idcard",attrs:{src:t.files[1][0].url,type:t.isView?"preview":"",resourceMap:(t.files[1][0]&&t.files[1][0].url)+"||"+(t.files[1][1]&&t.files[1][1].url)}}):a("img",{staticClass:"idcard",attrs:{src:t.sfzFront}})]),t._v(" "),a("el-upload",{staticClass:"idcard-uploader",class:{disabled:t.isView},attrs:{accept:"image/*","auto-upload":!1,"show-file-list":!1,"on-change":function(e,a){return t.handleChange(e,a,3)}}},[t.files[1][1]?a("img",{staticClass:"idcard",attrs:{src:t.files[1][1].url,type:t.isView?"preview":"",resourceMap:(t.files[1][0]&&t.files[1][0].url)+"||"+(t.files[1][1]&&t.files[1][1].url)}}):a("img",{staticClass:"idcard",attrs:{src:t.sfzReverse}})])],1)])]),t._v(" "),a("li",[a("div",{staticClass:"cell "},[a("span",{staticClass:"th"},[t._v("职业证书")]),t._v(" "),a("span",{staticClass:"td"},[a("el-upload",{class:{disabled:t.isView},attrs:{"list-type":"picture-card",accept:"image/*",disabled:t.isView,"auto-upload":!1,"file-list":t.files[2],limit:20,"on-change":function(e,a){return t.handleChange(e,a,4)},"on-preview":function(e){return t.handlePreview(e,t.files[2])},"before-remove":function(e,a){return t.handleRemove(e,a,2)}}},[a("i",{staticClass:"el-icon-plus"})])],1)])])]),t._v(" "),t.$own(t.authActions,"glygda")&&t.isView||t.isMine&&t.isFirst&&t.isView?a("div",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){t.isView=!1}}},[a("svg-icon",{attrs:{"icon-class":"follow-up"}}),t._v(" "),a("span",[t._v("编辑")])],1)],1):t._e(),t._v(" "),t.isView?t._e():a("div",{staticClass:"foot"},[a("p",{staticClass:"tips"},[t._v("温馨提示：“学历证书”、“职业证书”支持上传多张图片")]),t._v(" "),a("el-button",{staticClass:"w170",attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),t.isShowSkip&&t.isRegPage?a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("fulfill","isFinishElectronic")}}},[t._v("跳过")]):t._e()],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("e60e"),l=a("91b6"),c=a("c4e8"),u=a.n(c),d=a("3633"),p=a.n(d);function m(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=f(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function f(t,e){if(t){if("string"===typeof t)return v(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function h(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function b(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){h(i,n,s,r,o,"next",t)}function o(t){h(i,n,s,r,o,"throw",t)}r(void 0)}))}}var g={props:{isMine:{type:Boolean,default:!0}},data:function(){return{isView:!0,isShowSkip:!0,sfzFront:u.a,sfzReverse:p.a,files:[[],[],[]],hasAc:!1,isFirst:!1}},computed:{userId:function(){return this.$route.params.id||this.$store.state.settings.userInfo.userId},authActions:function(){return this.$route.meta.authActions||[]},isRegPage:function(){return"/enrollment"==this.$route.path}},created:function(){this.isView=!this.isRegPage,this.getFiles()},methods:{handlePreview:function(t,e){var a=e.map((function(t){return t.url}));this.$root.$emit("showPreview",{urlList:a,src:t.url})},handleRemove:function(t,e,a){var n=this;return b(r.a.mark((function s(){var i;return r.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(o["e"])(t.id);case 2:if(i=s.sent,!i){s.next=9;break}n.$showSuccess("删除成功"),n.files[a]=e,e.length-1==0&&(n.hasAc=!1),s.next=10;break;case 9:return s.abrupt("return",!1);case 10:case"end":return s.stop()}}),s)})))()},getFiles:function(){var t=this;return b(r.a.mark((function e(){var a,n,s,i,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["f"])(t.userId);case 2:if(a=e.sent,a&&a.length){e.next=6;break}return t.isFirst=!0,e.abrupt("return");case 6:t.files=[[],[],[]],n=m(a);try{for(n.s();!(s=n.n()).done;)i=s.value,l=0,1==i.imageType?(t.hasAc=!0,l=0):4==i.imageType&&(l=2),1!=i.imageType&&4!=i.imageType||t.files[l].push({name:i.imageType,url:i.imagePath,id:i.id}),2!=i.imageType&&3!=i.imageType||(t.files[1][i.imageType-2]={name:i.imageType,url:i.imagePath,id:i.id})}catch(r){n.e(r)}finally{n.f()}t.isShowSkip=!1;case 10:case"end":return e.stop()}}),e)})))()},handleChange:function(t,e,a){var n=this;return b(r.a.mark((function s(){var i,c;return r.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(l["a"])({uploadType:"files",file:t.raw});case 2:if(i=s.sent,!i||!i.length){s.next=10;break}return s.next=6,Object(o["a"])({filePath:i[0].fileUrl,fileType:a,employeeId:n.userId});case 6:c=s.sent,c?t.id=c:e.shift(),1==a&&(n.hasAc=!0),2!=a&&3!=a||n.$set(n.files[1],[a-2],{name:a,url:i[0].fileUrl,id:c});case 10:case"end":return s.stop()}}),s)})))()},submit:function(){this.hasAc?2==this.files[1].length?this.$emit("fulfill","isFinishElectronic"):this.$showError("请上传身份证图片"):this.$showError("请上传学历证书图片")}}},_=g,y=(a("908a"),a("42f2"),a("2877")),w=Object(y["a"])(_,n,s,!1,null,"3fb7e4ac",null);e["default"]=w.exports},"65ca":function(t,e,a){"use strict";var n=a("c99b"),s=a.n(n);s.a},"66b1":function(t,e,a){},"66d8":function(t,e,a){},"66e3":function(t,e,a){},"672a":function(t,e,a){},6733:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("my-header"),t._v(" "),a("div",{staticClass:"fm-content"},[t.isHide?t._e():a("tags-view"),t._v(" "),a("breadcrumb",{style:{top:t.isHide?"0":"30px"}}),t._v(" "),a("router-view"),t._v(" "),a("my-footer")],1),t._v(" "),a("image-viewer"),t._v(" "),a("house-type-preview")],1)},s=[],i=a("73a1"),r=a("28d5"),o=a("23e7"),l=a("9fe9"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.preview,expression:"preview"}]},[a("transition",{attrs:{name:"viewer-fade"}},[a("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":t.zIndex},attrs:{tabindex:"-1"}},[a("div",{staticClass:"el-image-viewer__mask"}),t._v(" "),a("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:t.hide}},[a("i",{staticClass:"el-icon-circle-close"})]),t._v(" "),t.isSingle?t._e():[a("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!t.infinite&&t.isFirst},on:{click:t.prev}},[a("i",{staticClass:"el-icon-arrow-left"})]),t._v(" "),a("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!t.infinite&&t.isLast},on:{click:t.next}},[a("i",{staticClass:"el-icon-arrow-right"})])],t._v(" "),a("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[a("div",{staticClass:"el-image-viewer__actions__inner"},[a("i",{staticClass:"el-icon-zoom-out",on:{click:function(e){return t.handleActions("zoomOut")}}}),t._v(" "),a("i",{staticClass:"el-icon-zoom-in",on:{click:function(e){return t.handleActions("zoomIn")}}}),t._v(" "),a("i",{staticClass:"el-image-viewer__actions__divider"}),t._v(" "),a("i",{class:t.mode.icon,on:{click:t.toggleMode}}),t._v(" "),a("i",{staticClass:"el-image-viewer__actions__divider"}),t._v(" "),a("i",{staticClass:"el-icon-refresh-left",on:{click:function(e){return t.handleActions("anticlocelise")}}}),t._v(" "),a("i",{staticClass:"el-icon-refresh-right",on:{click:function(e){return t.handleActions("clocelise")}}})])]),t._v(" "),a("div",{staticClass:"el-image-viewer__canvas"},t._l(t.urlList,(function(e,n){return a("img",{directives:[{name:"show",rawName:"v-show",value:n==t.index,expression:"i == index"}],key:e,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:t.imgStyle,attrs:{src:t.currentImg},on:{load:t.handleImgLoad,error:t.handleImgError,mousedown:t.handleMouseDown}})})),0)],2)])],1)},u=[],d=a("ed08");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){f(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},h="mousewheel",b={name:"elImageViewer",data:function(){return{zIndex:9999,preview:!1,index:0,isShow:!1,infinite:!0,loading:!1,mode:v.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1},urlList:[]}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},imgStyle:function(){var t=this.transform,e=t.scale,a=t.deg,n=t.offsetX,s=t.offsetY,i=t.enableTransition,r={transform:"scale(".concat(e,") rotate(").concat(a,"deg)"),transition:i?"transform .3s":"","margin-left":"".concat(n,"px"),"margin-top":"".concat(s,"px")};return this.mode===v.CONTAIN&&(r.maxWidth=r.maxHeight="100%"),r}},watch:{index:{handler:function(t){this.reset()}},currentImg:function(t){var e=this;this.$nextTick((function(t){if(e.$refs.img){var a=e.$refs.img[0];a.complete||(e.loading=!0)}else e.loading=!1}))}},created:function(){var t=this;this.$root.$off("showPreview"),this.$root.$on("showPreview",(function(e){var a=e.urlList,n=e.index,s=e.src;t.preview=!0,t.index=0===n?0:n||a.indexOf(s),t.urlList=a})),this.bindEvent()},methods:{bindEvent:function(){var t=this;document.addEventListener("click",(function(e){var a=e.target;if("preview"==a.getAttribute("type")&&a.getAttribute("resourceMap")){e.stopPropagation();var n=Number(a.getAttribute("index")),s=a.getAttribute("src"),i=a.getAttribute("resourceMap").split("||");n||(n=i.indexOf(s)>-1?i.indexOf(s):0),t.preview=!0,t.index=n,t.urlList=i}}),!0)},rafThrottle:function(t){var e=!1;return function(){for(var a=this,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];e||(e=!0,window.requestAnimationFrame((function(n){t.apply(a,s),e=!1})))}},hide:function(){this.deviceSupportUninstall(),this.preview=!1},deviceSupportInstall:function(){var t=this;this._keyDownHandler=this.rafThrottle((function(e){var a=e.keyCode;switch(a){case 27:t.hide();break;case 32:t.toggleMode();break;case 37:t.prev();break;case 38:t.handleActions("zoomIn");break;case 39:t.next();break;case 40:t.handleActions("zoomOut");break}})),this._mouseWheelHandler=this.rafThrottle((function(e){var a=e.wheelDelta?e.wheelDelta:-e.detail;a>0?t.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):t.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})})),Object(d["r"])(document,"keydown",this._keyDownHandler),Object(d["r"])(document,h,this._mouseWheelHandler)},deviceSupportUninstall:function(){Object(d["q"])(document,"keydown",this._keyDownHandler),Object(d["q"])(document,h,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(t){this.loading=!1},handleImgError:function(t){this.loading=!1,t.target.alt="加载失败"},handleMouseDown:function(t){var e=this;if(!this.loading&&0===t.button){var a=this.transform,n=a.offsetX,s=a.offsetY,i=t.pageX,r=t.pageY;this._dragHandler=this.rafThrottle((function(t){e.transform.offsetX=n+t.pageX-i,e.transform.offsetY=s+t.pageY-r})),Object(d["r"])(document,"mousemove",this._dragHandler),Object(d["r"])(document,"mouseup",(function(t){Object(d["q"])(document,"mousemove",e._dragHandler)})),t.preventDefault()}},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var t=Object.keys(v),e=Object.values(v),a=e.indexOf(this.mode),n=(a+1)%t.length;this.mode=v[t[n]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var t=this.urlList.length;this.index=(this.index-1+t)%t}},next:function(){if(!this.isLast||this.infinite){var t=this.urlList.length;this.index=(this.index+1)%t}},handleActions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var a=m({zoomRate:.2,rotateDeg:90,enableTransition:!0},e),n=a.zoomRate,s=a.rotateDeg,i=a.enableTransition,r=this.transform;switch(t){case"zoomOut":r.scale>.2&&(r.scale=parseFloat((r.scale-n).toFixed(3)));break;case"zoomIn":r.scale=parseFloat((r.scale+n).toFixed(3));break;case"clocelise":r.deg+=s;break;case"anticlocelise":r.deg-=s;break}r.enableTransition=i}}},mounted:function(){this.deviceSupportInstall(),this.$refs["el-image-viewer__wrapper"]&&this.$refs["el-image-viewer__wrapper"].focus()}},g=b,_=(a("bfdb"),a("2877")),y=Object(_["a"])(g,c,u,!1,null,"c420757c",null),w=y.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.previewFlag,expression:"previewFlag"}],staticClass:"preview"},[a("svg-icon",{staticClass:"close",attrs:{"icon-class":"close"},on:{click:function(e){t.previewFlag=!1}}}),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"msg"},[a("div",{staticClass:"t"},[a("p",[t.imgInfo.openRoom?[t._v("开间 ")]:[t._v("\n            "+t._s(t.imgInfo.bedRoomQuantity)+"室"+t._s(t.imgInfo.livingRoomQuantity)+"厅"+t._s(t.imgInfo.restRoomQuantity)+"卫\n          ")],t._v(" "),a("span",[t._v("建面"+t._s(t.imgInfo.buildingArea)+"㎡")]),t._v("\n          "+t._s(t.imgInfo.orientation)+"\n        ")],2)]),t._v(" "),a("div",{staticClass:"b"},[a("p",[t._v(t._s(t.imgInfo.description))])])]),t._v(" "),a("div",{staticClass:"swiper"},[a("swiper",{ref:"mySwiper",staticClass:"swiper-no-swiping",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.swiperOption}},[t.urlList?t._l(t.urlList,(function(t,e){return a("swiper-slide",{key:e},[a("div",{staticClass:"img"},[a("el-image",{attrs:{fit:"scale-down",src:t.houseTypeImagePaths[0]}})],1)])})):t._e()],2),t._v(" "),a("div",{staticClass:"btn",staticStyle:{left:"-80px"},on:{click:function(e){return e.stopPropagation(),t.slidePrev(e)}}},[a("svg-icon",{attrs:{"icon-class":"left"}})],1),t._v(" "),a("div",{staticClass:"btn",staticStyle:{right:"-80px"},on:{click:function(e){return e.stopPropagation(),t.slideNext(e)}}},[a("svg-icon",{attrs:{"icon-class":"right"}})],1)],1)])],1)},k=[],x=a("7212"),D={components:{swiper:x["swiper"],swiperSlide:x["swiperSlide"]},data:function(){return{previewFlag:!1,swiperOption:{slidesPerView:1,loop:!0},urlList:null,imgInfo:{}}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},mounted:function(){var t=this;this.$root.$off("showHouseTypePreview"),this.$root.$on("showHouseTypePreview",(function(e){var a=e.urlList,n=e.index;t.previewFlag=!0,t.$nextTick((function(){t.swiper.slideTo(n,1,!0),t.urlList=a,t.setImgInfo()}))}))},methods:{slidePrev:function(){this.swiper.slidePrev(),this.setImgInfo()},slideNext:function(){this.swiper.slideNext(),this.setImgInfo()},setImgInfo:function(){var t=this.swiper.activeIndex;this.imgInfo=this.urlList[t]}}},I=D,S=(a("9133"),Object(_["a"])(I,C,k,!1,null,"1a30339f",null)),N=S.exports,A={components:{Breadcrumb:o["default"],MyHeader:i["default"],MyFooter:l["a"],TagsView:r["default"],ImageViewer:w,HouseTypePreview:N},watch:{$route:function(){var t=document.querySelector(".sub-views");t&&(t.scrollTop=0)}},created:function(){document.title="".concat(this.$store.state.settings.userInfo.companyName||""," 领先的房地产经纪合伙人Saas系统")},computed:{isHide:function(){return"/enrollment"==this.$route.path}}},T=A,O=(a("183f"),Object(_["a"])(T,n,s,!1,null,null,null));e["default"]=O.exports},6771:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fm-scroll-view",{staticClass:"create-transaction"},[a("div",{staticClass:"head",attrs:{slot:"head"},slot:"head"},[a("h2",{staticClass:"title"},[t._v(t._s(t.isEdit?"编辑":"申报")+"客户成交")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitForm}},[t._v("\n      提交审核\n    ")])],1),t._v(" "),a("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.formData}},[a("div",{staticClass:"form-cell"},[a("h3",{staticClass:"form-cell-title"},[t._v("1、基本信息")]),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"选择项目楼盘",prop:"estateId",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请选择楼盘",disabled:""},model:{value:t.formData.estateName,callback:function(e){t.$set(t.formData,"estateName",e)},expression:"formData.estateName"}},[a("el-button",{staticClass:"select",attrs:{slot:"append",type:"primary"},on:{click:function(e){t.toggleProjectDialog=!0}},slot:"append"},[t._v("\n                选择\n              ")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"购房合同编号"}},[a("el-input",{model:{value:t.formData.contractNum,callback:function(e){t.$set(t.formData,"contractNum",e)},expression:"formData.contractNum"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"成交房源"}},[a("el-input",{model:{value:t.formData.houseNo,callback:function(e){t.$set(t.formData,"houseNo",e)},expression:"formData.houseNo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"成交面积",prop:"buildingArea",rules:[t.rules.m0m69p2]}},[a("el-input",{model:{value:t.formData.buildingArea,callback:function(e){t.$set(t.formData,"buildingArea",e)},expression:"formData.buildingArea"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("平米")])])],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"成交日期",prop:"dealDate",rules:[t.rules.required()]}},[a("el-date-picker",{attrs:{"picker-options":t.$disabledFutureDate,type:"date","value-format":"yyyy-MM-dd",placeholder:""},model:{value:t.formData.dealDate,callback:function(e){t.$set(t.formData,"dealDate",e)},expression:"formData.dealDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"成交总价",prop:"totalPrice",rules:[t.rules.required(),t.rules.m0m89p2]}},[a("el-input",{attrs:{disabled:t.formData.commission.payed},on:{input:function(e){return t.setCommissionAmount("ratio")}},model:{value:t.formData.totalPrice,callback:function(e){t.$set(t.formData,"totalPrice",t._n(e))},expression:"formData.totalPrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"置业顾问"}},[a("el-input",{model:{value:t.formData.consultantName,callback:function(e){t.$set(t.formData,"consultantName",e)},expression:"formData.consultantName"}})],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"成交经纪人",prop:"nodeId",rules:[t.rules.required()]}},[a("el-cascader",{ref:"agentUser",attrs:{clearable:"","show-all-levels":!1,options:t.configData.storegrouptree,props:{value:"nodeId",label:"name",emitPath:!1},placeholder:""},on:{change:t.changeAgentUser},model:{value:t.formData.nodeId,callback:function(e){t.$set(t.formData,"nodeId",e)},expression:"formData.nodeId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"部门/门店",prop:"channelName",rules:[t.rules.required()]}},[a("el-input",{attrs:{disabled:""},model:{value:t.formData.channelName,callback:function(e){t.$set(t.formData,"channelName",e)},expression:"formData.channelName"}})],1)],1)]),t._v(" "),a("el-form-item",{staticClass:"form-cell"},[a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"选择报备带看",prop:"requestStr",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请选择",disabled:""},model:{value:t.formData.requestStr,callback:function(e){t.$set(t.formData,"requestStr",e)},expression:"formData.requestStr"}},[a("el-button",{staticClass:"select",attrs:{slot:"append",type:"primary"},on:{click:t.showReportRecordsDialog},slot:"append"},[t._v("\n                选择\n              ")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"选择成交客户",prop:"customerName",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请选择客户",disabled:""},model:{value:t.formData.customerName,callback:function(e){t.$set(t.formData,"customerName",e)},expression:"formData.customerName"}})],1)],1),t._v(" "),t._l(t.formData.dealCustomers,(function(e,n){return a("div",{key:e.key,staticClass:"row"},[a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"客户姓名",prop:"dealCustomers."+n+".customerName",rules:[t.rules.required()]}},[a("el-input",{model:{value:e.customerName,callback:function(a){t.$set(e,"customerName",a)},expression:"item.customerName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"客户电话",prop:"dealCustomers."+n+".customerPhone",rules:[t.rules.required(),t.rules.tel2]}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.customerPhone,callback:function(a){t.$set(e,"customerPhone",a)},expression:"item.customerPhone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"身份证号码",prop:"dealCustomers."+n+".customerCardNum",rules:[t.rules.idNum]}},[a("el-input",{model:{value:e.customerCardNum,callback:function(a){t.$set(e,"customerCardNum",a)},expression:"item.customerCardNum"}}),t._v(" "),n>0?a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(e){return t.removeCustomer(n)}}}):t._e()],1)],1)])})),t._v(" "),t.formData.dealCustomers.length<5?a("el-button",{staticClass:"mt20",attrs:{type:"info",icon:"el-icon-plus",size:"small"},on:{click:t.addCustomer}},[t._v("添加更多")]):t._e()],2),t._v(" "),a("div",{staticClass:"form-cell"},[a("div",{staticClass:"row"},[a("el-form-item",{staticStyle:{width:"42%"},attrs:{label:"备注信息"}},[a("el-input",{attrs:{rows:"5",type:"textarea"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"图片附件"}},[a("el-upload",{staticClass:"file-uploader",attrs:{action:"","auto-upload":!1,"list-type":"picture-card","file-list":t.fileList,"on-remove":t.handleFileRemove,"on-change":t.handleFileChange}},[a("i",{staticClass:"el-icon-plus"})])],1)],1)]),t._v(" "),a("div",{staticClass:"form-cell"},[a("h3",{staticClass:"form-cell-title"},[t._v("2、佣金收入及支出")]),t._v(" "),a("h4",{staticClass:"form-row-title"},[t._v("\n          ①、佣金收入部分 "),a("span",[t._v("（全部纳入业绩分配）")])]),t._v(" "),a("div",{staticClass:"row"},[a("el-form-item",{attrs:{label:"佣金比例",prop:"commission.rate",rules:[t.rules.required(),t.rules.m0m100p2]}},[a("el-input",{attrs:{placeholder:"请输入",type:"number",disabled:t.formData.commission.payed},on:{input:function(e){return t.setCommissionAmount("ratio")}},model:{value:t.formData.commission.rate,callback:function(e){t.$set(t.formData.commission,"rate",t._n(e))},expression:"formData.commission.rate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"结佣金额",prop:"commission.amount",rules:[t.rules.required(),t.rules.int]}},[a("el-input",{attrs:{placeholder:"请输入",type:"number",disabled:t.formData.commission.payed},on:{input:function(e){return t.setCommissionAmount("count")}},model:{value:t.formData.commission.amount,callback:function(e){t.$set(t.formData.commission,"amount",t._n(e))},expression:"formData.commission.amount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"应扣金额(如“折佣”)",prop:"commission.outAmount",rules:[t.rules.required(),t.rules.int]}},[a("el-input",{attrs:{placeholder:"请输入",type:"number",disabled:t.formData.commission.payed},on:{input:t.setCommissionAmount},model:{value:t.formData.commission.outAmount,callback:function(e){t.$set(t.formData.commission,"outAmount",t._n(e))},expression:"formData.commission.outAmount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"实际应收",prop:"commission.inAmount",rules:[t.rules.required(),t.rules.int]}},[a("el-input",{attrs:{placeholder:"请输入",type:"number",disabled:""},model:{value:t.formData.commission.inAmount,callback:function(e){t.$set(t.formData.commission,"inAmount",t._n(e))},expression:"formData.commission.inAmount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"备注说明",disabled:t.formData.commission.payed},model:{value:t.formData.commission.remark,callback:function(e){t.$set(t.formData.commission,"remark",e)},expression:"formData.commission.remark"}}),t._v(" "),t.index>0?a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(e){return t.removeAllot(t.index)}}}):t._e()],1)],1),t._v(" "),a("h4",{staticClass:"form-row-title"},[t._v("\n          ①、其他收入部分 "),a("span",[t._v("（按需参与业绩分配）")])]),t._v(" "),a("div",{staticClass:"row"},[t._l(t.formData.otherIncomeList,(function(e,n){return a("div",{key:e.key,staticClass:"row"},[a("el-form-item",{attrs:{label:"收入项名称",prop:"otherIncomeList."+n+".name",rules:[t.rules.required()]}},[a("el-autocomplete",{attrs:{placeholder:"如“现金奖”","fetch-suggestions":t.incomeNameSearch},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应收金额",prop:"otherIncomeList."+n+".amount",rules:[t.rules.required(),t.rules.int]}},[a("el-input",{attrs:{placeholder:"请输入",type:"number",autocomplete:"off",disabled:e.payed},model:{value:e.amount,callback:function(a){t.$set(e,"amount",t._n(a))},expression:"item.amount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"应分配业绩",prop:"otherIncomeList."+n+".inAmount",rules:[t.rules.required(),t.rules.int]}},[a("el-input",{attrs:{placeholder:"请输入",type:"number",autocomplete:"off",disabled:e.payed},model:{value:e.inAmount,callback:function(a){t.$set(e,"inAmount",t._n(a))},expression:"item.inAmount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"备注说明",autocomplete:"off",disabled:e.payed},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"item.remark"}}),t._v(" "),e.payed?t._e():a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(e){return t.removeOtherIncome(n)}}})],1)],1)})),t._v(" "),t.formData.otherIncomeList.length<5?a("el-button",{attrs:{type:"info",icon:"el-icon-plus",size:"small"},on:{click:t.addOtherIncome}},[t._v("添加收入")]):t._e()],2),t._v(" "),a("h4",{staticClass:"form-row-title mt20"},[t._v("\n          ①、支出部分\n          "),a("span",[t._v("（如“返佣”、“外佣”，即结佣后需要支付的外部款项，分配业绩时会将该部分扣除）")])]),t._v(" "),a("div",{staticClass:"row"},[t._l(t.formData.outComeList,(function(e,n){return a("div",{key:e.key,staticClass:"row"},[a("el-form-item",{attrs:{label:"支出项名称",prop:"outComeList."+n+".name",rules:[t.rules.required()]}},[a("el-autocomplete",{attrs:{placeholder:"如“客户返佣”",disabled:e.payed,"fetch-suggestions":t.outcomeNameSearch},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"应支金额",prop:"outComeList."+n+".amount",rules:[t.rules.required(),t.rules.int]}},[a("el-input",{attrs:{placeholder:"请输入",type:"number",autocomplete:"off",disabled:e.payed},model:{value:e.amount,callback:function(a){t.$set(e,"amount",t._n(a))},expression:"item.amount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"应扣业绩",required:""}},[a("el-input",{attrs:{placeholder:"请输入",type:"number",autocomplete:"off",disabled:""},model:{value:e.amount,callback:function(a){t.$set(e,"amount",t._n(a))},expression:"item.amount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注说明",autocomplete:"off",disabled:e.payed},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"item.remark"}}),t._v(" "),e.payed?t._e():a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(e){return t.removeOutcome(n)}}})],1)],1)})),t._v(" "),t.formData.outComeList.length<5?a("el-button",{attrs:{type:"info",icon:"el-icon-plus",size:"small"},on:{click:t.addOutcome}},[t._v("添加支出")]):t._e()],2),t._v(" "),a("h4",{staticClass:"form-row-title mt20"},[t._v("\n          ④、合计\n        ")]),t._v(" "),a("div",{staticClass:"row total-wrap"},[a("div",{staticClass:"cell"},[a("p",[t._v("合计应收")]),t._v(" "),a("h3",[t._v("¥ "+t._s(t.totalIncome))]),t._v(" "),a("p",[t._v("=佣金收入+其他收入")])]),t._v(" "),a("div",{staticClass:"cell"},[a("p",[t._v("合计应支")]),t._v(" "),a("h3",[t._v("¥ "+t._s(t.totalOutcome))]),t._v(" "),a("p",[t._v("=各项支出之和")])]),t._v(" "),a("div",{staticClass:"cell"},[a("p",[t._v("可分配业绩")]),t._v(" "),a("h3",[t._v("¥ "+t._s(t.totalCommission))]),t._v(" "),a("p",[t._v("=应分业绩-应扣业绩")])])])]),t._v(" "),a("div",{staticClass:"form-cell"},[a("h3",{staticClass:"form-cell-title"},[t._v("3、业绩分配明细")]),t._v(" "),a("div",{staticClass:"row"},[t._l(t.formData.distributeVos,(function(e,n){return a("div",{key:e.key,staticClass:"row"},[a("el-form-item",{attrs:{label:"业绩类型",prop:"distributeVos."+n+".performanceType",rules:[t.rules.required()]}},[a("el-select",{attrs:{placeholder:"业绩类型",disabled:16==t.formData.orderStatus},model:{value:e.performanceType,callback:function(a){t.$set(e,"performanceType",a)},expression:"item.performanceType"}},t._l(t.configData.performanceTypes,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e+1}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"员工姓名",prop:"distributeVos."+n+".nodeId",rules:[t.rules.required()]}},[a("el-cascader",{ref:"staffCascader",refInFor:!0,attrs:{clearable:"","show-all-levels":!1,options:t.configData.storegrouptree,props:{value:"nodeId",label:"name",emitPath:!1},disabled:16==t.formData.orderStatus,placeholder:"员工姓名"},model:{value:e.nodeId,callback:function(a){t.$set(e,"nodeId",a)},expression:"item.nodeId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分配比例",prop:"distributeVos."+n+".distributeRate",rules:[t.rules.required(),t.rules.m0m100p2]}},[a("el-input",{attrs:{placeholder:"0.00",type:"number",autocomplete:"off",disabled:16==t.formData.orderStatus},on:{input:function(a){return t.setPerformanceAmount(e.distributeRate,n)}},model:{value:e.distributeRate,callback:function(a){t.$set(e,"distributeRate",t._n(a))},expression:"item.distributeRate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"分配金额",prop:"distributeVos."+n+".performanceAmount",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"0.00",type:"number",autocomplete:"off",disabled:!0},model:{value:e.performanceAmount,callback:function(a){t.$set(e,"performanceAmount",t._n(a))},expression:"item.performanceAmount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"备注说明",autocomplete:"off",disabled:16==t.formData.orderStatus},model:{value:e.remark,callback:function(a){t.$set(e,"remark",a)},expression:"item.remark"}}),t._v(" "),n>0&&16!=t.formData.orderStatus?a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(e){return t.removeAllot(n)}}}):t._e()],1)],1)})),t._v(" "),t.moling?a("h3",{staticClass:"moling"},[t._v("抹零：¥"+t._s(t.moling))]):t._e(),t._v(" "),t.formData.distributeVos.length<5&&16!=t.formData.orderStatus?a("el-button",{attrs:{type:"info",icon:"el-icon-plus",size:"small"},on:{click:t.addAllot}},[t._v("添加分配人")]):t._e()],2)])],1),t._v(" "),a("choose-estate",{attrs:{visible:t.toggleProjectDialog,isDistribute:null},on:{"update:visible":function(e){t.toggleProjectDialog=e},"on-change":t.selectedEstate}}),t._v(" "),a("choose-report-records",{attrs:{visible:t.toggleReportRecordsDialog,estateId:t.formData.estateId},on:{"update:visible":function(e){t.toggleReportRecordsDialog=e},"on-change":t.selectedReportRecord}})],1)])},s=[],i=a("a34a"),r=a.n(i),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scroll-view"},[a("div",{staticClass:"scroll-head"},[t._t("head")],2),t._v(" "),a("div",{staticClass:"scroll-body"},[t._t("body")],2)])},l=[],c={data:function(){return{}},created:function(){},methods:{}},u=c,d=(a("8c70"),a("2877")),p=Object(d["a"])(u,o,l,!1,null,"2f90d7fc",null),m=p.exports,f=a("6870"),v=a("774e"),h=a("db49"),b=a("2b6d"),g=a("91b6"),_=a("d3b6"),y=a("ed08"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{staticClass:"picture-uploader",attrs:{action:"http://localhost:8080/","list-type":"picture-card",multiple:"","before-upload":t.beforeUpload,"file-list":t.fileList,"http-request":t.upLoad,"on-remove":t.handleRemove,"on-preview":t.handlePreview,"on-change":t.handleChange},scopedSlots:t._u([{key:"file",fn:function(e){var n=e.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:n.url,alt:""}}),t._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(e){return t.handlePreview(n)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),t._v(" "),t.disabled?t._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(e){return t.handleDownload(n)}}},[a("i",{staticClass:"el-icon-download"})]),t._v(" "),t.disabled?t._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(e){return t.handleRemove(n)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}])},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.toggleDialog},on:{"update:visible":function(e){t.toggleDialog=e}}},[a("img",{attrs:{width:"100%",src:t.curPreviewImgUrl}})])],1)},C=[],k=a("9b15"),x=a.n(k),D=a("b775");function I(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?I(Object(a),!0).forEach((function(e){N(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function N(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function A(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function T(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){A(i,n,s,r,o,"next",t)}function o(t){A(i,n,s,r,o,"throw",t)}r(void 0)}))}}var O={data:function(){return{params:{}}},methods:{handleDownload:function(t){},handleRemove:function(t,e){},handleChange:function(t,e){return!1},beforeUpload:function(t,e){var a=this;return T(r.a.mark((function t(){var e;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(D["a"])({url:"/api/v1/upload/getOssToken"});case 2:e=t.sent,e?a.params=e:a.$showError("获取OSS参数失败");case 4:case"end":return t.stop()}}),t)})))()},upLoad:function(t,e){var a=this;return T(r.a.mark((function n(){var s,i,o,l,c,u;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(y["c"])(t.file);case 2:s=n.sent,i=s.name.lastIndexOf("."),o=s.name.substr(i),l=s.name.substr(0,i),c=Date.parse(new Date),u=new x.a(S(S({},a.params),{},{secure:!0})),l="files/2020/07/08/".concat(l,"_").concat(c).concat(o),u.multipartUpload(l,s).then((function(t){console.log(t)})).catch((function(t){e.pop(),a.$showError("上传失败")}));case 10:case"end":return n.stop()}}),n)})))()}}},P={mixins:[O],data:function(){return{toggleDialog:!1,curPreviewImgUrl:"",fileList:[]}},created:function(){},methods:{handlePreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}},j=P,L=(a("c913"),Object(d["a"])(j,w,C,!1,null,"6a429714",null)),F=L.exports;function E(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function R(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?E(Object(a),!0).forEach((function(e){$(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function $(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function M(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=q(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function q(t,e){if(t){if("string"===typeof t)return z(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?z(t,e):void 0}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function B(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function U(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){B(i,n,s,r,o,"next",t)}function o(t){B(i,n,s,r,o,"throw",t)}r(void 0)}))}}var V=function(){return{customerCardNum:"",customerName:"",customerPhone:"",key:Date.now()}},G=function(){return{amount:"",inAmount:0,name:"",remark:"",key:Date.now()}},Y=function(){return{amount:"",name:"",remark:"",key:Date.now()}},Q=function(){return{nodeId:null,distributeRate:null,performanceAmount:null,performanceType:null,remark:"",key:Date.now()}},H={makeUp:!0,nodeId:null,agentUserName:"",buildingArea:null,consultantName:"",contractNum:"",customerId:null,customerName:"",customerPhone:"",requestId:null,requestStr:"",commission:{amount:"",inAmount:0,outAmount:0,rate:"",remark:""},dealDate:"",dealCustomers:[V()],otherIncomeList:[G()],outComeList:[Y()],attachs:[],distributeVos:[Q()],estateId:null,estateName:"",channelName:null,houseNo:"",orderId:null,platformCommission:0,remark:"",storeName:"",totalCommission:null,totalPrice:null},W={components:{FmScrollView:m,ChooseEstate:f["default"],chooseReportRecords:v["default"],picCardUploader:F},data:function(){return{isEdit:!1,configData:{performanceTypes:h["a"].config.performanceTypes,storegrouptree:[]},moling:0,formData:JSON.parse(JSON.stringify(H)),disFlag:!1,totalIncome:0,totalOutcome:0,totalCommission:0,fileList:[],agentUserIds:[],details:{},toggleProjectDialog:!1,toggleCreateEsateDialog:!1,toggleReportRecordsDialog:!1}},computed:{rules:function(){return h["a"].rules},siteId:function(){return this.$store.state.settings.site.id},userInfo:function(){return this.$store.state.settings.userInfo}},watch:{formData:{deep:!0,handler:function(t){this.handleTotalCalc(t)}},totalCommission:function(t){this.formData.distributeVos=this.formData.distributeVos.map((function(e){return e.performanceAmount=parseInt(e.distributeRate/100*t),e}))}},created:function(){var t=this;return U(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.initData(),e.next=3,t.getStoregrouptree();case 3:Number(t.$route.params.id)&&(t.isEdit=!0,t.getDealOrderInfo());case 4:case"end":return e.stop()}}),e)})))()},methods:{createInputSearchFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},incomeNameSearch:function(t,e){var a=[{value:"现金奖"},{value:"现金奖转佣"}],n=t?a.filter(this.createInputSearchFilter(t)):a;e(n)},outcomeNameSearch:function(t,e){var a=[{value:"客户返佣"},{value:"置业顾问返佣"}],n=t?a.filter(this.createInputSearchFilter(t)):a;e(n)},handleTotalCalc:function(t){var e=t.commission,a=t.otherIncomeList,n=t.outComeList;this.totalIncome=Number(e.inAmount),this.totalOutcome=0,this.totalCommission=Number(e.inAmount);var s,i=M(a);try{for(i.s();!(s=i.n()).done;){var r=s.value;this.totalIncome+=Number(r.amount),this.totalCommission+=Number(r.inAmount)}}catch(u){i.e(u)}finally{i.f()}var o,l=M(n);try{for(l.s();!(o=l.n()).done;){var c=o.value;this.totalOutcome+=Number(c.amount),this.totalCommission-=Number(c.amount)}}catch(u){l.e(u)}finally{l.f()}this.totalCommission<0?(this.$showError("可分配业绩不能为负"),this.disFlag=!0):this.disFlag=!1,this.calcDistributeRate()?this.moling=this.totalCommission-this.calcPerformanceAmount():this.moling=0},getDealOrderInfo:function(){var t=this;return U(r.a.mark((function e(){var a,n,s,i,o,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["j"])({id:t.$route.params.id});case 2:a=e.sent,a&&(n=t.$cloneObj(R(R({},H),a)),s=a.storeName,i=a.groupName,o=a.departmentName,n.channelName=s?"".concat(s," ").concat(i||""):"".concat(o," ").concat(i||""),n.requestStr=Object(y["i"])(n.requestStr,2),n.distributeVos=n.distributeVos.map((function(t){return t.distributeRate=Object(_["a"])(t.distributeRate,100),t})),l=n.distributeVos.find((function(t){return 0==t.performanceType})),t.moling=l?l.performanceAmount:0,n.distributeVos=n.distributeVos.filter((function(t){return 0!=t.performanceType})),n.commission.rate=Object(_["a"])(n.commission.rate,100),t.fileList=n.attachs.map((function(t){return{status:"ready",url:t.fileUrl}})),t.formData=t.$cloneObj(n));case 4:case"end":return e.stop()}}),e)})))()},initData:function(){this.formData.distributeVos[0].distributeRate=100,this.formData.distributeVos[0].performanceType=1},handleFileChange:function(t,e){var a=this;return U(r.a.mark((function n(){var s;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,g["a"]({file:t.raw});case 2:s=n.sent,s?a.formData.attachs.push({fileUrl:s[0].fileUrl}):e.pop();case 4:case"end":return n.stop()}}),n)})))()},handleFileRemove:function(t){var e=this.fileList.findIndex((function(e){return e.uid==t.uid}));this.formData.attachs.splice(e,1)},setCommissionAmount:function(t){var e=this.formData.commission,a=e.amount,n=e.outAmount,s=e.rate;"ratio"==t?this.formData.commission.amount=parseInt(Number(this.formData.totalPrice)*Number(s)/100):"count"==t&&(this.formData.commission.rate=(Number(a)/Number(this.formData.totalPrice)*100).toFixed(2)),this.formData.commission.inAmount=Number(this.formData.commission.amount)-Number(n)},selectedReportRecord:function(t){this.formData.customerId=t.customerId,this.formData.customerName=t.customerName,this.formData.customerPhone=t.customerCellPhone,this.formData.dealCustomers[0].customerPhone=t.customerCellPhone,this.formData.dealCustomers[0].customerName=t.customerName,this.formData.requestStr=this.formData.customerName+Object(y["i"])(this.formData.customerPhone,2),this.formData.requestId=t.id},changeAgentUser:function(){var t=this.$refs["agentUser"].getCheckedNodes(),e=t[t.length-1];if(e){var a=e.parent;if(a){var n=a.parent;if(n){var s=n.label;this.formData.channelName="".concat(s," ").concat(a.label)}else this.formData.channelName=a.label}}},setPerformanceAmount:function(t,e){this.totalCommission&&(Number(t)>100&&(this.formData.distributeVos[e].distributeRate=t=100),this.formData.distributeVos[e].performanceAmount=parseInt(this.totalCommission*t/100))},calcDistributeRate:function(){var t=this.formData.distributeVos.map((function(t){return t.distributeRate})).reduce((function(t,e){return t+e}));return 100==t},calcPerformanceAmount:function(){var t=this.formData.distributeVos.map((function(t){return t.performanceAmount})).reduce((function(t,e){return t+e}));return t},getStoregrouptree:function(){var t=this;return U(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["v"])({permission:!1});case 2:a=e.sent,a&&(t.configData.storegrouptree=a,t.formData.nodeId=t.formData.distributeVos[0].nodeId=t.userInfo.currentUserNodeId,t.$nextTick((function(){t.changeAgentUser()})));case 4:case"end":return e.stop()}}),e)})))()},addCustomer:function(){this.formData.dealCustomers.push(V())},addOutcome:function(){this.formData.outComeList.push(Y())},addOtherIncome:function(){this.formData.otherIncomeList.push(G())},addAllot:function(){this.formData.distributeVos.push(Q())},removeAllot:function(t){this.formData.distributeVos.splice(t,1)},removeCustomer:function(t){this.formData.dealCustomers.splice(t,1)},removeOtherIncome:function(t){this.formData.otherIncomeList.splice(t,1)},removeOutcome:function(t){this.formData.outComeList.splice(t,1)},showReportRecordsDialog:function(){this.formData.estateId?this.toggleReportRecordsDialog=!0:this.$showError("请先选择项目楼盘")},selectedEstate:function(t,e){this.formData.estateId=t,this.formData.estateName=e,this.toggleProjectDialog=!1},submitForm:function(){var t=this;this.$refs.form.validate(function(){var e=U(r.a.mark((function e(a){var n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return t.$showError("表单尚未填写完成"),e.abrupt("return");case 3:if(!t.formData.distributeVos||!t.formData.distributeVos.length||t.calcDistributeRate()){e.next=6;break}return t.$showError("业绩分配比例之和要为100%"),e.abrupt("return");case 6:if(!t.disFlag){e.next=9;break}return t.$showError("可分配业绩不能为负"),e.abrupt("return");case 9:return n=JSON.parse(JSON.stringify(t.formData)),n.distributeVos=n.distributeVos.map((function(t){return t.distributeRate=Object(_["b"])(t.distributeRate,100),t})),n.commission.rate=Object(_["b"])(n.commission.rate,100),s=t.isEdit?b["h"]:b["f"],e.next=15,s(n);case 15:i=e.sent,i&&(t.$showSuccess("提交成功"),t.$store.dispatch("tagsView/delView",t.$route),t.$navigateTo("/work/business/newHouse"));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},Z=W,J=(a("7cee"),a("1e11"),Object(d["a"])(Z,n,s,!1,null,"61fabe7b",null));e["default"]=J.exports},"67b8":function(t,e,a){"use strict";var n=a("f671"),s=a.n(n);s.a},6841:function(t,e,a){"use strict";var n=a("2647"),s=a.n(n);s.a},6870:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:t.visible,"before-close":t.close,title:"选择成交项目",width:"800px"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"cj-project dialog-content"},[a("div",{staticClass:"content"},[a("el-input",{staticClass:"input",attrs:{size:"small",placeholder:"搜索项目名称",icon:"el-icon-search"},model:{value:t.queryData.estateName,callback:function(e){t.$set(t.queryData,"estateName",e)},expression:"queryData.estateName"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(e){return t.search(1)}},slot:"append"},[t._v("搜 索")])],1),t._v(" "),a("el-table",{staticClass:"table",attrs:{data:t.tableData,size:"mini",border:"","header-cell-style":{background:"#eee"}}},[a("el-table-column",{attrs:{label:"选择",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.estateId},on:{change:function(a){return t.handleRadioChange(e.row)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"项目名称",prop:"estateName"}}),t._v(" "),a("el-table-column",{attrs:{label:"物业类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.propertyType&&e.row.propertyType.toString())+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"区域/商圈"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.regionName)+t._s(e.row.areaName)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"面积段(㎡)"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.houseAreaFrom!=e.row.houseAreaTo?a("p",[t._v("\n              "+t._s(e.row.houseAreaFrom)+"-"+t._s(e.row.houseAreaTo)+"㎡\n            ")]):e.row.houseAreaFrom?a("p",[t._v("\n              "+t._s(e.row.houseAreaFrom)+"㎡\n            ")]):a("p",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.unitPriceList.length?a("div",t._l(e.row.unitPriceList,(function(e,n){return a("p",{key:n,staticClass:"price"},[t._v("\n                "+t._s(e.priceDesc?e.priceDesc:e.priceFrom+"-")+t._s(e.priceTo)+"元/平米\n              ")])})),0):t._e(),t._v(" "),e.row.totalPriceList.length?a("div",t._l(e.row.totalPriceList,(function(e,n){return a("p",{key:n,staticClass:"price"},[t._v("\n                "+t._s(e.priceDesc?e.priceDesc:e.priceFrom+"-")+t._s(e.priceTo)+"元/套起\n              ")])})),0):t._e(),t._v(" "),e.row.unitPriceList.length||e.row.totalPriceList.length?t._e():a("p",{staticClass:"price"},[t._v("\n              "+t._s(e.row.averagePrice||"-")+"\n            ")]),t._v(" "),e.row.averagePrice?a("p",{staticClass:"p-tips"},[t._v("均价约(元/平)")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.queryData.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.queryData.pageNum,total:t.totalNum},on:{"current-change":t.search,"update:currentPage":function(e){return t.$set(t.queryData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryData,"pageNum",e)}}})],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("确 定")])],1)])])},s=[],i=a("a34a"),r=a.n(i),o=a("b775"),l=function(t){return Object(o["a"])({url:"/api/v1/fm/order/deal/estate/page",data:t})};function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:["visible"],data:function(){return{totalNum:0,queryData:{isDistribute:!0,pageSize:5,pageNum:1,estateName:""},tableData:[],selected:"",estate:""}},watch:{visible:function(t){t&&this.search(1)}},methods:{handleRadioChange:function(t){this.estate=t},close:function(){this.$emit("update:visible",!1)},submit:function(){this.$emit("on-change",this.estate.estateId,this.estate.estateName),this.$emit("update:visible",!1)},search:function(t){var e=this;return u(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.queryData.pageNum=t,a.next=3,l(e.queryData);case 3:n=a.sent,n&&(e.tableData=n.list,e.totalNum=n.total);case 5:case"end":return a.stop()}}),a)})))()}}},p=d,m=(a("fd1c"),a("1fa8f"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"6eab0d37",null);e["default"]=f.exports},"68d1":function(t,e,a){"use strict";var n=a("9aed"),s=a.n(n);s.a},6921:function(t,e,a){"use strict";var n=a("200a"),s=a.n(n);s.a},6935:function(t,e,a){"use strict";var n=a("8749"),s=a.n(n);s.a},6939:function(t,e,a){"use strict";var n=a("df26"),s=a.n(n);s.a},69393:function(t,e,a){t.exports=a.p+"img/icon_neichengjiao.07762056.png"},6957:function(t,e,a){},"6bc5":function(t,e,a){},"6c40":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"picview-wrap"},[a("div",{staticClass:"pic-wrap",attrs:{id:"house-plan"},on:{mousedown:t.moveImg}},[a("img",{attrs:{src:t.planData.imagePath}}),t._v(" "),t._l(t.planData.buildingList,(function(e,n){return a("div",{key:n,staticClass:"tag",style:{left:e.left+"px",top:e.top+"px"},on:{click:function(a){return t.handleTagClick(e.name)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}))],2)])},s=[],i={props:["data"],data:function(){return{planData:{}}},mounted:function(){var t=this;this.planData=this.calcPlanTagPos(this.data),window.addEventListener("resize",(function(){t.planData=t.calcPlanTagPos(t.planData)}))},methods:{calcPlanTagPos:function(t){var e=document.querySelector("#house-plan");if(e&&t)return t.buildingList=t.buildingList.map((function(t){return t.left=Number(t.coordinateLeft),t.top=Number(t.coordinateTop),t})),t},handleTagClick:function(t){this.$emit("clickBuidings",t)},moveImg:function(t){if("pic-wrap"==t.target.className){var e=t.target,a=t.clientX-e.offsetLeft,n=t.clientY-e.offsetTop,s=document.querySelector(".picview-wrap");e.style.left=t.clientX-a+"px",e.style.top=t.clientY-n+"px",document.onmousemove=function(t){var i=t.clientX-a,r=t.clientY-n;i>0?i=0:i<s.offsetWidth-e.offsetWidth&&(i=s.offsetWidth-e.offsetWidth),r>0?r=0:r<s.offsetHeight-e.offsetHeight&&(r=s.offsetHeight-e.offsetHeight),e.style.left="".concat(i,"px"),e.style.top="".concat(r,"px")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}}}},r=i,o=(a("13f8"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"e85a1314",null);e["default"]=l.exports},"6c7d":function(t,e,a){"use strict";var n=a("774c"),s=a.n(n);s.a},"6c7e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"house-view"},[a("div",{staticClass:"flex-between fm-filtrator"},[a("div",[a("el-select",{attrs:{size:"small","collapse-tags":"",placeholder:"楼栋"},on:{change:t.buildingNumChange},model:{value:t.queryData.buildingId,callback:function(e){t.$set(t.queryData,"buildingId",e)},expression:"queryData.buildingId"}},t._l(t.configData.buildingNumList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),a("el-select",{attrs:{size:"small","collapse-tags":"",placeholder:"单元"},on:{change:t.search},model:{value:t.queryData.unitId,callback:function(e){t.$set(t.queryData,"unitId",e)},expression:"queryData.unitId"}},t._l(t.configData.unitNumList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),a("el-select",{attrs:{size:"small","collapse-tags":"",clearable:"",placeholder:"报盘状态"},on:{change:t.search},model:{value:t.queryData.status,callback:function(e){t.$set(t.queryData,"status",e)},expression:"queryData.status"}},t._l(t.configData.status,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),a("div",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return e.stopPropagation(),t.buildingOrUnitClick(e)}}},[t._v("\n        管理楼栋/单元\n      ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return e.stopPropagation(),t.batchHouseNumClick(e)}}},[t._v("\n        批量新增房号\n      ")])],1)]),t._v(" "),t.tableData.length?a("div",{staticClass:"mt10"},[a("div",{staticClass:"title"},[a("div",{staticClass:"l"},[t._v("楼层")]),t._v(" "),a("div",{staticClass:"c"},t._l(t.rateData,(function(e,n){return a("p",{key:n,class:{green:"成交"==e.statusName,color6:"未报盘"==e.statusName,orange:"在售"==e.statusName,red:"封盘"==e.statusName,gray:"无效"==e.statusName}},[a("i",{class:{"green-bgc":"成交"==e.statusName,"color6-bg":"未报盘"==e.statusName,"orange-bgc":"在售"==e.statusName,"red-bgc":"封盘"==e.statusName,"gray-bgc":"无效"==e.statusName}}),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(e.statusName)+t._s(e.count)+"套"),e.rateStr?a("span",[t._v("("+t._s(e.rateStr)+")")]):t._e()])])})),0),t._v(" "),a("div",{staticClass:"r"},[t._v("操作")])]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"l"},t._l(t.tableData,(function(e,n){return a("div",{key:n,staticClass:"index bt flex-center"},[t._v("\n          "+t._s(e.id)+"楼\n        ")])})),0),t._v(" "),a("wheel-x-scroll",{staticClass:"c",attrs:{viewContainerName:".window-main",reWatch:t.reWatchTable}},t._l(t.tableData,(function(e,n){return a("div",{key:n,staticClass:"content",attrs:{slot:"main"},slot:"main"},t._l(e.houseList,(function(e,n){return a("div",{key:n,staticClass:"flex-center height bt",class:{"orange-bg orange pointer":2==e.status,"red-bg red pointer":3==e.status,"gray-bg":4==e.status,"green-bg green pointer":5==e.status,bl:n>0},on:{click:function(a){return t.toSellDetail(e)}}},[t._v("\n            "+t._s(e.houseNo)+"\n          ")])})),0)})),0),t._v(" "),a("div",{staticClass:"r"},t._l(t.tableData,(function(e,n){return a("div",{key:n,staticClass:"action bt flex-center"},[a("p",[a("span",{staticClass:"blue pointer",class:{"flex-end":!e.offered,"flex-center":e.offered},on:{click:function(a){return t.getFloorOffer(e)}}},[t._v("编辑")]),t._v(" "),e.offered?t._e():a("span",{staticClass:"red pointer flex",on:{click:function(a){return t.del(e.floorId)}}},[t._v("删除")])])])})),0)],1)]):a("div",{staticClass:"empty-placeholder-img flex-center"},[a("img",{attrs:{src:t.houseNumEmpty}})]),t._v(" "),a("window2",{model:{value:t.showManage,callback:function(e){t.showManage=e},expression:"showManage"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      管理栋座/单元\n    ")]),t._v(" "),a("div",{staticClass:"manage",attrs:{slot:"main"},slot:"main"},[a("div",{staticClass:"l color6"},[t._l(t.configData.buildingNumList,(function(e,n){return a("div",{key:n,staticClass:"ml20 h3 flex-center pointer",class:{"white-bg":n===t.mBuildingIndex,mt20:0===n,color3:n===t.mBuildingIndex},on:{click:function(a){return t.mBuildingClick(n,e.id)}}},[a("p",[t._v(t._s(e.name))])])})),t._v(" "),a("div",{staticClass:"ml20 h3 flex-center pointer blue",class:{"white-bg":-1===t.mBuildingIndex},on:{click:function(e){t.mBuildingIndex=-1}}},[a("p",[t._v("+添加栋座/单元")])])],2),t._v(" "),a("div",{staticClass:"r"},[-1===t.mBuildingIndex?a("div",{staticClass:"rt"},[a("el-form",{ref:"manageForm",staticClass:"manageForm",attrs:{size:"small",model:t.manageFormData,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"form-cell"},[a("el-form-item",{attrs:{label:"栋座",prop:"name",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"栋座名称"},model:{value:t.manageFormData.name,callback:function(e){t.$set(t.manageFormData,"name",e)},expression:"manageFormData.name"}})],1)],1),t._v(" "),a("div",{staticClass:"form-cell mt20"},t._l(t.manageFormData.unitList,(function(e,n){return a("el-form-item",{key:e.key,attrs:{label:0==n?"单元":"",prop:"unitList."+n+".name"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"几"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}},[a("div",{staticClass:"dp-ib flex append",attrs:{slot:"append"},slot:"append"},[a("p",{staticClass:" flex-center pd"},[t._v("单元")]),t._v(" "),a("p",{staticClass:"height bl flex-center pd pointer",on:{click:function(e){return t.delUnitByAdd(n)}}},[a("i",{staticClass:"el-icon-delete"})])])])],1)})),1)]),t._v(" "),a("div",{staticClass:"mt20"},[a("el-button",{attrs:{size:"small",type:"info"},on:{click:t.addUnit}},[t._v("+ 添加单元")])],1)],1):a("div",{staticClass:"rt"},[a("div",[a("p",[t._v("栋座")]),t._v(" "),t.toggleEditBuildingInput?a("input-confirm",{staticClass:"mt10",attrs:{model:t.building.name},on:{value:function(e){return t.editUnitByEdit(e,1,-1)},close:function(e){t.toggleEditBuildingInput=!1}}}):a("div",{staticClass:"flex border3 mt10 unit-item"},[a("div",[a("svg-icon",{staticClass:"icon fs32",attrs:{"icon-class":"building"}})],1),t._v(" "),a("div",{staticClass:"ml5",staticStyle:{flex:"1"}},[a("p",{staticClass:"fs16"},[t._v("\n                  "+t._s(t.building.name)+"\n                ")]),t._v(" "),a("p",{staticClass:"color9 fs13"},[a("span",[t._v(t._s(t.building.unitCount)+"单元")]),t._v(" "),a("span",[t._v(t._s(t.building.houseCount)+"户")])])]),t._v(" "),a("div",{staticClass:"flex-end"},[a("div",{staticClass:"flex-center",staticStyle:{width:"40px"}},[a("svg-icon",{staticClass:"icon color9 fs24 pointer",attrs:{"icon-class":"edit"},on:{click:function(e){t.toggleEditBuildingInput=!0}}})],1),t._v(" "),t.building.unitCount||t.building.houseCount?t._e():a("div",{staticClass:"flex-center",staticStyle:{"border-left":"1px solid #cccccc",width:"40px"}},[a("svg-icon",{staticClass:"icon color9 fs24 pointer",attrs:{"icon-class":"delete3"},on:{click:function(e){return t.delBuildingOrUnit(t.building.id)}}})],1)])])],1),t._v(" "),a("div",{staticClass:"mt20"},[a("p",[t._v("单元")]),t._v(" "),t._l(t.configData.unitNumList3,(function(e,n){return a("div",{key:n,staticClass:"mt10"},[t.mUnitIndex!=n?a("div",{staticClass:"flex border3 unit-item"},[a("div",[a("svg-icon",{staticClass:"icon fs32",attrs:{"icon-class":"unit"}})],1),t._v(" "),a("div",{staticClass:"ml5",staticStyle:{flex:"1"}},[a("p",{staticClass:"fs16"},[t._v(t._s(e.name)+"单元")]),t._v(" "),a("p",{staticClass:"color9 fs13"},[a("span",[t._v(t._s(e.floor)+"层")]),t._v(" "),a("span",[t._v(t._s(e.houseCount)+"户")])])]),t._v(" "),a("div",{staticClass:"flex-end"},[a("div",{staticClass:"flex-center",staticStyle:{width:"40px"}},[a("svg-icon",{staticClass:"icon color9 fs24 pointer",attrs:{"icon-class":"edit"},on:{click:function(a){t.mUnitIndex=n,t.buildingId=e.id}}})],1),t._v(" "),e.floor||e.houseCount?t._e():a("div",{staticClass:"flex-center",staticStyle:{"border-left":"1px solid #cccccc",width:"40px"}},[a("svg-icon",{staticClass:"icon color9 fs24 pointer",attrs:{"icon-class":"delete3"},on:{click:function(a){return t.delBuildingOrUnit(e.id,n)}}})],1)])]):a("input-confirm",{attrs:{model:e.name},on:{value:function(e){return t.editUnitByEdit(e,1,n)},close:function(e){t.mUnitIndex=null}}})],1)}))],2),t._v(" "),a("div",{staticClass:"mt20"},[t.toggleAddUnitInput?a("input-confirm",{on:{value:function(e){return t.editUnitByEdit(e,2)},close:function(e){t.toggleAddUnitInput=!1}}}):t._e()],1),t._v(" "),a("div",{staticClass:"mt20"},[a("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){t.toggleAddUnitInput=!0}}},[t._v("+ 添加单元")])],1),t._v(" "),a("div",{staticClass:"mt20"},[a("el-alert",{attrs:{title:"栋座/单元下已存在楼层或房号，不支持删除！",type:"warning",closable:!1,"show-icon":""}})],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:-1===t.mBuildingIndex,expression:"mBuildingIndex === -1"}],staticClass:"rb flex-end"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showManage=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addBuilding}},[t._v("保存")])],1)])])]),t._v(" "),a("window2",{attrs:{hasFooter:!0},model:{value:t.showAdd,callback:function(e){t.showAdd=e},expression:"showAdd"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      批量新增房号\n    ")]),t._v(" "),a("div",{staticClass:"pd20 mb20 mt20 ",attrs:{slot:"main"},slot:"main"},[a("el-form",{ref:"addForm",staticClass:"addForm",attrs:{size:"small",model:t.addFormData,"label-position":"top"}},[a("div",{staticClass:"flex row"},[a("el-form-item",{attrs:{label:"栋座",prop:"buildingId",rules:[t.rules.required()]}},[a("el-select",{attrs:{size:"small","collapse-tags":"",placeholder:"楼栋"},on:{change:t.buildingChange},model:{value:t.addFormData.buildingId,callback:function(e){t.$set(t.addFormData,"buildingId",e)},expression:"addFormData.buildingId"}},t._l(t.configData.buildingNumList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{staticClass:"ml20",attrs:{label:"单元",prop:"unitId"}},[a("el-select",{attrs:{size:"small","collapse-addFormData":"",placeholder:"单元"},model:{value:t.addFormData.unitId,callback:function(e){t.$set(t.addFormData,"unitId",e)},expression:"addFormData.unitId"}},t._l(t.configData.unitNumList2,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"flex row mt20 "},[a("el-form-item",{attrs:{label:"楼层",prop:"startFloor",rules:[t.rules.required()]}},[a("div",{staticClass:"flex row"},[a("el-input",{attrs:{type:"text",placeholder:"起始楼层，如1",autocomplete:"off"},on:{input:t.floorInput},model:{value:t.addFormData.startFloor,callback:function(e){t.$set(t.addFormData,"startFloor",t._n(e))},expression:"addFormData.startFloor"}}),t._v(" "),a("span",{staticClass:"space"},[t._v(" - ")]),t._v(" "),a("el-form-item",{attrs:{prop:"endFloor",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",placeholder:"结束楼层，如33",autocomplete:"off"},on:{input:t.floorInput},model:{value:t.addFormData.endFloor,callback:function(e){t.$set(t.addFormData,"endFloor",t._n(e))},expression:"addFormData.endFloor"}})],1)],1)])],1),t._v(" "),t.batchFloorNum.length?a("div",{staticClass:"color9 fs12 mt5"},[a("p",[t._v("\n            楼层预览："),t._l(t.batchFloorNum,(function(e,n){return a("span",{key:n},["0层"!=e?a("span",[t._v(t._s(e)+" ")]):t._e()])}))],2)]):t._e(),t._v(" "),a("div",{staticClass:"flex row mt20 "},[a("el-form-item",{attrs:{label:"房号",prop:"startHouseNo",rules:[t.rules.required()]}},[a("div",{staticClass:"flex row"},[a("el-input",{attrs:{type:"text",placeholder:"起始房号，如1",autocomplete:"off"},on:{input:t.houseInput},model:{value:t.addFormData.startHouseNo,callback:function(e){t.$set(t.addFormData,"startHouseNo",t._n(e))},expression:"addFormData.startHouseNo"}}),t._v(" "),a("span",{staticClass:"space"},[t._v(" - ")]),t._v(" "),a("el-form-item",{attrs:{prop:"endHouseNo",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",placeholder:"结束房号，如6",autocomplete:"off"},on:{input:t.houseInput},model:{value:t.addFormData.endHouseNo,callback:function(e){t.$set(t.addFormData,"endHouseNo",e)},expression:"addFormData.endHouseNo"}})],1),t._v(" "),a("el-select",{staticClass:"ml20",on:{change:t.houseInput},model:{value:t.addFormData.sortType,callback:function(e){t.$set(t.addFormData,"sortType",e)},expression:"addFormData.sortType"}},[a("el-option",{attrs:{label:"按楼层排号",value:1}}),t._v(" "),a("el-option",{attrs:{label:"按单元排号",value:2}})],1)],1)])],1),t._v(" "),t.batchHouseNum.length?a("div",{staticClass:"color9 fs12 mt5 mb20"},[a("p",[t._v("房号预览：")]),t._v(" "),t._l(t.batchHouseNum,(function(e,n){return a("div",{key:n},["0层: "!=e[0]?a("P",t._l(e,(function(n,s){return a("span",{key:s},[a("span",[t._v(t._s(n)+" "),s<e.length-1?a("i",[t._v("、")]):t._e()])])})),0):t._e()],1)}))],2):t._e()])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showAdd=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.batchAddHouseNum}},[t._v("保存")])],1)]),t._v(" "),a("window2",{attrs:{hasFooter:!0},model:{value:t.showEditFloor,callback:function(e){t.showEditFloor=e},expression:"showEditFloor"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      编辑楼层/房号\n    ")]),t._v(" "),a("el-form",{ref:"editFloorFormData",staticClass:"edit-floor-form",attrs:{slot:"main",model:t.editFloorFormData,size:"small","label-position":"top"},slot:"main"},[a("el-form-item",{staticClass:"floor",attrs:{label:"楼层",prop:"id",rules:[t.rules.required()]}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"房号",disabled:t.editFloorFormData.offered},model:{value:t.editFloorFormData.id,callback:function(e){t.$set(t.editFloorFormData,"id",e)},expression:"editFloorFormData.id"}},[a("div",{staticClass:"dp-ib flex append",attrs:{slot:"append"},slot:"append"},[a("p",{staticClass:"flex-center pd pointer"},[a("span",[t._v("楼")])])])])],1),t._v(" "),a("div",{staticClass:"form-cell"},t._l(t.editFloorFormData.houseList,(function(e,n){return a("el-form-item",{key:e.id||e.key,staticClass:"house",attrs:{label:0==n?"房号":"",prop:"houseList."+n+".houseNo",rules:[t.rules.required()]}},[a("el-input",{class:{mt42:2==n||1==n},attrs:{disabled:e.status&&1!=e.status&&4!=e.status,autocomplete:"off",placeholder:"房号"},model:{value:e.houseNo,callback:function(a){t.$set(e,"houseNo",a)},expression:"item.houseNo"}},[1!=e.status&&4!=e.status&&e.status?t._e():a("div",{staticClass:"dp-ib flex append",attrs:{slot:"append"},slot:"append"},[a("p",{staticClass:"flex-center pd pointer",on:{click:function(e){return t.delHouseNum(n)}}},[a("i",{staticClass:"el-icon-delete"})])])])],1)})),1),t._v(" "),a("div",{staticClass:"mt20"},[a("el-button",{attrs:{size:"small",type:"info"},on:{click:t.addHouseNum}},[t._v("+ 添加房号")])],1),t._v(" "),a("div",{staticClass:"mt20"},[a("el-alert",{attrs:{title:"该楼层存在已报盘房号，不允许修改楼层及相应房号！",type:"warning",closable:!1,"show-icon":""}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showEditFloor=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submitEditHouseNum}},[t._v("保存")])],1)],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("b964"),l=a("db49"),c=a("7998"),u=a("ff40"),d=a.n(u),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fm-input-confirm-box flex"},[a("el-input",{attrs:{size:"small"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"info"},on:{click:t.close}},[t._v("取消")])],1)},m=[],f={props:{model:{type:String,default:""}},data:function(){return{value:""}},watch:{model:{immediate:!0,handler:function(t){this.value=t}}},created:function(){},methods:{submit:function(){this.value?this.$emit("value",this.value):this.$showError("请输入值")},close:function(){this.$emit("close")}}},v=f,h=(a("7517"),a("2877")),b=Object(h["a"])(v,p,m,!1,null,null,null),g=b.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scroll-x-container"},[a("div",{staticClass:"scroll-x"},[t._t("main")],2)])},y=[],w=a("ed08"),C={props:{viewContainerName:{type:String,default:".sub-views"},reWatch:{type:Number,default:1}},data:function(){return{lockScrollY:!1}},watch:{lockScrollY:function(t){var e=this;this.$nextTick((function(){var a=document.querySelector(e.viewContainerName);a.onmousewheel=t?function(){return!1}:function(){}}))},$route:function(){this.lockScrollY=!1},reWatch:function(){var t=this;this.$nextTick((function(){t.watchMouse()}))}},mounted:function(){this.watchMousewheel(),this.watchMouse()},methods:{watchMousewheel:function(){window.addEventListener("wheel",(function(t){for(var e=function(e){Object(w["m"])(t.path[e],"scroll-x-container")&&requestAnimationFrame((function(){var a=t.path[e];t.deltaY>0?a.scrollLeft+=50:a.scrollLeft-=50}))},a=0;a<t.path.length-5;a++)e(a)}))},watchMouse:function(){var t=this,e=document.querySelector(".scroll-x-container");e&&e.scrollWidth-e.offsetWidth>0&&(e.addEventListener("mouseover",(function(){t.lockScrollY=!0})),e.addEventListener("mouseout",(function(){t.lockScrollY=!1})))}}},k=C,x=(a("8cc7"),Object(h["a"])(k,_,y,!1,null,"47ff340f",null)),D=x.exports;function I(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function S(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){I(i,n,s,r,o,"next",t)}function o(t){I(i,n,s,r,o,"throw",t)}r(void 0)}))}}var N={communityId:null,buildingId:null,endFloor:null,endHouseNo:null,sortType:1,startFloor:null,startHouseNo:null,unitId:null},A={components:{Window2:o["a"],InputConfirm:g,WheelXScroll:D},props:{currentBuilding:{type:Object,default:function(){return{}}}},data:function(){return{reWatchTable:1,houseNumEmpty:d.a,rules:l["a"].rules,communityId:null,floorId:null,buildingId:null,building:{},queryData:{unitId:null,buildingId:null,communityId:null,status:null},configData:{buildingNumList:[],unitNumList:[],unitNumList2:[],unitNumList3:[],status:l["a"].config.communityOfferStatusList},tableData:{},rateData:{},addFormData:JSON.parse(JSON.stringify(N)),editFloorFormData:{houseList:[]},batchFloorNum:[],batchHouseNum:[],manageFormData:{name:"",communityId:null,unitList:[{key:Date.now(),name:""}]},toggleEditBuildingInput:!1,showEditFloor:!1,toggleAddUnitInput:!1,showManage:!1,showAdd:!1,mBuildingIndex:0,mUnitIndex:null,units:[{key:Date.now(),id:null}],addForm:{id:""}}},watch:{currentBuilding:{immediate:!0,handler:function(t){this.building=t}}},created:function(){this.initData(),this.getBuildingList()},methods:{toSellDetail:function(t){var e=this;return S(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(4!=t.status&&1!=t.status){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,Object(c["r"])({communityId:e.communityId,id:t.id});case 4:n=a.sent,n&&e.$navigateTo({query:{title:"房源详情-".concat(n.communityName)},path:"/work/house/detail/".concat(n.sellHouseId)});case 6:case"end":return a.stop()}}),a)})))()},buildingOrUnitClick:function(){this.showManage=!0,this.configData.buildingNumList.length?this.buildingId=this.configData.buildingNumList[0].id:(this.buildingId=null,this.mBuildingIndex=-1)},batchHouseNumClick:function(){this.showAdd=!0,this.addFormData=JSON.parse(JSON.stringify(N)),this.batchFloorNum=[],this.batchHouseNum=[],this.mBuildingIndex=this.configData.buildingNumList.length?0:-1,this.initData()},submitEditHouseNum:function(){var t=this;this.$refs.editFloorFormData.validate(function(){var e=S(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=Object.assign({},t.editFloorFormData,{communityId:t.communityId}),n.housesNoList=n.houseList,n.floorNo=n.id,delete n.houseList,e.next=8,Object(c["i"])(n);case 8:s=e.sent,s&&(t.$showSuccess("提交成功"),t.showEditFloor=!1,t.search());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},delHouseNum:function(t){this.editFloorFormData.houseList.splice(t,1)},addHouseNum:function(){this.editFloorFormData.houseList.push({houseNo:"",key:Date.now()})},getFloorOffer:function(t){var e=this;return S(r.a.mark((function a(){return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.showEditFloor=!0,e.editFloorFormData=JSON.parse(JSON.stringify(t));case 2:case"end":return a.stop()}}),a)})))()},delBuildingOrUnit:function(t,e){var a=this;return S(r.a.mark((function n(){return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.$confirm("删除后无法恢复,你确定要执行删除操作?","删除提醒",{confirmButtonClass:"el-button--danger",confirmButtonText:"删除",cancelButtonText:"取消",type:"error",center:!0}).then(S(r.a.mark((function n(){var s;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(c["d"])({communityId:a.communityId,id:t});case 2:if(s=n.sent,!s){n.next=16;break}if(a.$showSuccess("添加成功"),"number"!=typeof e){n.next=10;break}a.configData.unitNumList3.splice(e,1),a.building.unitCount=Number(a.building.unitCount)-1,n.next=16;break;case 10:if(a.configData.buildingNumList.pop(),!(a.mBuildingIndex>0)){n.next=16;break}return n.next=14,a.getBuildingList();case 14:a.mBuildingIndex--,a.mBuildingClick(a.mBuildingIndex,a.configData.buildingNumList[a.mBuildingIndex].id);case 16:case"end":return n.stop()}}),n)})))).catch((function(){}));case 1:case"end":return n.stop()}}),n)})))()},editUnitByEdit:function(t,e,a){var n=this;return S(r.a.mark((function s(){var i,o;return r.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(c["g"])({communityId:n.communityId,buildingId:n.buildingId,name:t,type:e});case 2:if(i=s.sent,!i){s.next=23;break}if(o=1==e?"编辑成功":"添加成功",n.$showSuccess(o),-1!=a){s.next=11;break}n.building.name=t,n.toggleEditBuildingInput=!1,s.next=23;break;case 11:if(2!=e){s.next=20;break}return n.configData.unitNumList3.push({houseCount:0,name:t,floor:0}),n.toggleAddUnitInput=!1,n.building.unitCount=Number(n.building.unitCount)+1,s.next=17,n.getBuildingList(n.mBuildingIndex);case 17:n.building=n.configData.buildingNumList[n.mBuildingIndex],s.next=23;break;case 20:n.configData.unitNumList3[a].name=t,n.getBuildingList(),n.mUnitIndex=null;case 23:case"end":return s.stop()}}),s)})))()},addBuilding:function(){var t=this;this.$refs.manageForm.validate(function(){var e=S(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=JSON.parse(JSON.stringify(t.manageFormData)),n.unitList.forEach((function(t,e){t.name.trim()||n.unitList.splice(e,1)})),n.unitList=n.unitList.map((function(t){return{name:t.name}})),e.next=7,Object(c["a"])(n);case 7:s=e.sent,s&&(t.$showSuccess("添加成功"),t.showManage=!1,t.getBuildingList(),t.manageFormData.unitList=[{key:Date.now(),name:""}],t.manageFormData.name="");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},mBuildingClick:function(t,e){this.mBuildingIndex=t,this.buildingId=e,this.buildingChange(e,2),this.mUnitIndex=null,this.building=this.configData.buildingNumList[this.mBuildingIndex]},buildingChange:function(t,e){var a=this;this.configData.buildingNumList.map((function(n){if(n.id==t)if(2==e)a.configData.unitNumList3=n.unitList;else{var s=JSON.parse(JSON.stringify(n.unitList));a.configData.unitNumList2=s.map((function(t){return t.name="".concat(t.name,"单元"),t})),a.addFormData.unitId=s[0]?s[0].id:null}}))},floorInput:function(){this.batchFloorNum=[],this.addFormData.startFloor>999&&(this.addFormData.startFloor=999),this.addFormData.endFloor>999&&(this.addFormData.endFloor=999);var t=Number(this.addFormData.startFloor),e=Number(this.addFormData.endFloor);if(t&&e)if(t>e&&(this.addFormData.startFloor=e,this.addFormData.endFloor=t,e=this.addFormData.endFloor,t=this.addFormData.startFloor),e-t>6){for(var a=t;a<t+5;a++)this.batchFloorNum.push("".concat(a,"层"));this.batchFloorNum.push("..."),this.batchFloorNum.push("".concat(e,"层"))}else for(var n=t;n<=e;n++)this.batchFloorNum.push("".concat(n,"层"));this.houseInput()},houseInput:function(){this.batchHouseNum=[],this.addFormData.startHouseNo>99&&(this.addFormData.startHouseNo=99),this.addFormData.endHouseNo>99&&(this.addFormData.endHouseNo=99);var t=Number(this.addFormData.startHouseNo),e=Number(this.addFormData.endHouseNo),a=Number(this.addFormData.startFloor),n=Number(this.addFormData.endFloor);if(t&&e){if(t>e&&(this.addFormData.startHouseNo=e,this.addFormData.endHouseNo=t,e=this.addFormData.endHouseNo,t=this.addFormData.endHouseNo),!this.batchFloorNum.length)return;if(n-a>6)if(1==this.addFormData.sortType){for(var s=a;s<a+5;s++){for(var i=["".concat(s,"层: ")],r=t;r<=e;r++){var o=r>9?"".concat(s).concat(r):"".concat(s,"0").concat(r);i.push(o)}this.batchHouseNum.push(i)}this.batchHouseNum.push(["..."]),this.batchHouseNum.push(["".concat(n,"层: ")]);for(var l=t;l<=e;l++){var c=l>9?"".concat(n).concat(l):"".concat(n,"0").concat(l);this.batchHouseNum[this.batchHouseNum.length-1].push(c)}}else{for(var u=0,d=(n-a)*e,p=a;p<a+5;p++){for(var m=["".concat(p,"层: ")],f=t;f<=e;f++){if(a<0&&n>0&&0==p)break;u++;var v=u>9?u:"0".concat(u);v="".concat(p).concat(v),m.push(v)}this.batchHouseNum.push(m)}this.batchHouseNum.push(["..."]),this.batchHouseNum.push(["".concat(n,"层: ")]);for(var h=0;h<e;h++){d++;var b="".concat(n).concat(d);this.batchHouseNum[this.batchHouseNum.length-1].push(b)}}else if(1==this.addFormData.sortType)for(var g=a;g<=n;g++){for(var _=["".concat(g,"层: ")],y=t;y<=e;y++){var w=y>9?"".concat(g).concat(y):"".concat(g,"0").concat(y);_.push(w)}this.batchHouseNum.push(_)}else for(var C=0,k=a;k<=n;k++){for(var x=["".concat(k,"层: ")],D=t;D<=e;D++){if(a<0&&n>0&&0==k)break;C++;var I=C>9?C:"0".concat(C);I="".concat(k).concat(I),x.push(I)}this.batchHouseNum.push(x)}}},batchAddHouseNum:function(){var t=this;this.$refs.addForm.validate(function(){var e=S(r.a.mark((function e(a){var n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(c["c"])(t.addFormData);case 4:if(n=e.sent,!n){e.next=17;break}return t.$showSuccess("提交成功"),t.configData.unitNumList=t.configData.unitNumList2,t.queryData.buildingId=t.addFormData.buildingId,t.queryData.unitId=t.addFormData.unitId,t.showAdd=!1,e.next=13,t.search();case 13:return e.next=15,t.getBuildingList();case 15:t.building=t.configData.buildingNumList[0],t.reWatchTable=Date.now();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},initData:function(){var t=this.$route.query.id;this.communityId=this.queryData.communityId=this.addFormData.communityId=this.manageFormData.communityId=t},getBuildingList:function(t){var e=this;return S(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["k"])({communityId:e.communityId});case 2:if(n=a.sent,!n||!n.length){a.next=20;break}if(s=JSON.parse(JSON.stringify(n[0].unitList)),e.configData.buildingNumList=n,e.configData.unitNumList2=e.configData.unitNumList=s.map((function(t){return t.name="".concat(t.name,"单元"),t})),e.configData.unitNumList3="number"==typeof t?n[t].unitList:n[0].unitList,!e.building.isSelect){a.next=16;break}if(e.building.isSelect=!1,e.queryData.buildingId=e.building.id,!e.building.unitList.length){a.next=16;break}return e.configData.unitNumList=e.building.unitList.map((function(t){return t.name="".concat(t.name,"单元"),t})),e.queryData.unitId=e.building.unitList[0].id,e.search(),a.abrupt("return");case 16:e.queryData.buildingId=n[0].id,e.queryData.unitId=n[0].unitList[0].id,e.building=n[0],e.search();case 20:case"end":return a.stop()}}),a)})))()},buildingNumChange:function(t){var e=this;this.configData.buildingNumList.map((function(a){if(a.id==t){var n=a.unitList&&JSON.parse(JSON.stringify(a.unitList));e.configData.unitNumList=n.map((function(t){return t.name="".concat(t.name,"单元"),t}))}})),this.queryData.unitId=this.configData.unitNumList[0]?this.configData.unitNumList[0].id:null,this.search()},search:function(){var t=this;return S(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["q"])(t.queryData);case 2:a=e.sent,a&&(t.tableData=a.floorList,t.rateData=a.rateCountList);case 4:case"end":return e.stop()}}),e)})))()},addUnit:function(){this.manageFormData.unitList.push({key:Date.now(),name:""})},delUnitByAdd:function(t){this.manageFormData.unitList.splice(t,1)},del:function(t){var e=this;this.$confirm("删除后无法恢复,你确定要执行删除操作?","删除提醒",{confirmButtonClass:"el-button--danger",confirmButtonText:"删除",cancelButtonText:"取消",type:"error",center:!0}).then(S(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["e"])({communityId:e.communityId,floorId:t});case 2:n=a.sent,n&&(e.$message({type:"success",message:"删除成功!"}),e.search());case 4:case"end":return a.stop()}}),a)})))).catch((function(){}))}}},T=A,O=(a("2327"),a("2019"),Object(h["a"])(T,n,s,!1,null,"83f3841e",null));e["default"]=O.exports},"6d5c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAACeCAYAAABHA1RVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDUxNjkwMDFGRUEzMTFFOTg1QzRBNUZENzZEMTc2Q0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDUxNjkwMDJGRUEzMTFFOTg1QzRBNUZENzZEMTc2Q0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNTE2OEZGRkZFQTMxMUU5ODVDNEE1RkQ3NkQxNzZDQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNTE2OTAwMEZFQTMxMUU5ODVDNEE1RkQ3NkQxNzZDQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt5ruD0AAAr8SURBVHja7J3bbhTJHYfbGMz5DOZkQEAuuEDcJLnIW7ASm6dILpKLrPICkZK9TZ4iSnbzHokiRUJCYsEYDAaDDeZsY3D6a80flZvuOdsez3yfVHJ7prunp6Z+9T9UdfXY4uJiVsFEXm40yq/ycrbxmsio8SYvs3n5b15+yMu/8rJS3mmsQkjf5OUvefmZdSjyFT/l5bu8/DN9cUeyPZ6XPzd2UEQi1aCNfzS0Mh4v7kx2+FNe/mA9ibRFaOW71CLdVEQiXYnpZsRIJBHu5mXKehHpmEd5uYxF+lYRiXTNubz8GiHdsC5EeuIGQvql9SDSE79ASKetB5GeOIOQdlsPIj0xscM6EOkdhSSikEQUkohCEhGFJKKQRBSSiEISEYUkopBEFJKIQhIRhSSikEQUkohCEhGFJKKQRBSSiEISEYUkopBEFJKIQhIRhSSikEQUkogoJBGFJKKQRIaJnVbB4PD+/ftsdna2+NuKPXv2ZOfPn8/27t1rxWmRJPj8+XM2PT3dlojgw4cP2czMTHGcKCRp8PLly2x1dbWjY1ZWVrKlpSUrTyFJ0K0gFJJCksSte/PmTVfHvn79WvdOIUmIYW1tratjOa5bEUr/MGu3CXz69ClbXl6utRwvXrzo6fyLi4vZjh31feLu3buzXbt2+UNsIGP5j7BmNWycy/b48eNCKN1anH5x5MiRbGpqqqngRIs0kCK6e/du2+nsjYasIFm+K1euZGNjY/5Axkjbg2fPng2MiIJ3795lz58/98dRSNuHXuOeXjh16lR27dq1bP/+/QN1XQpJOgY3aquYmJgoYqGdO7/23El6iDHSSEEsgygQBLMeEGc7SQvm6+FaMo2ozFYnPRSSbBpMSJ2cnMwOHTq0LstGAuPVq1fZ06dPm1oWxFIlIlFIIwPxDSKqyqwhKtLYhw8fLsQ0Pz9vhSkkKXP27NnsxIkTxTau3MLCQjFrgW3cu4MHD2bHjh0rtk+fPp2Nj49nc3NzVpxCkgA3LkSEeLhFghkRaZLg7du3Rfr6woUL2YEDB7KTJ08W+zLFSLYWs3YDwpkzZ4q/xDb3799fJ6IUrBPvRwwUx4lCGnkY72E+HDClqNVsbt4Pl47ExL59+6xEhSS4afDx48e2Z3LjzsWNgHG8KKSRhrGicOs6IfaP40UhiSgk6Q1cuoh3OiHiqjheFNJIE3ERN9+1mzggQRE363mHrEKSHMaHYpIrg7Kt7hfiffYDjuN4UUgjD3Pjnjx5UmxjkVj4se5OVl5nQDYWhozjZGtxZsOAwB2sTAE6evRoMZ8OQTGDuzxFiNkM4dKxVgPHiUKShIcPHxaDrcePHy9S2ufOnavdl6lCDN6KQpIKHj16VFgZZoGTUEjjpVh6i5nf3DYuCmnoQQDd3kRH8uDevXvF7G5S4nFjHwOwdXPw2g6KXUVIIW0nSAb0ajUQTb8zcs7L2xjsnjYIkgKDCPGXKKRtA3exxv1FgwLXw3WJrt22gkFTEgZk2FjjLr09gvhno+HziNWIsxARaXXZoJjYJYtFdO1EFJKIQhIRhSSikEQUkohCEhGFJKKQRBSSiEISEYUkopBEFJKIQhIRhSSikES2Fd5q3kdYPphbylkXgYcmtwsrprJiELefNzuO/Tg/KxS1e37WBl9aWiq2N3tBFq41llTm4dGxzLJCGjCmp6f7er5Lly7VvsfywTxukmWD6/aj4fAkvU6foEdD57h4ankdLA7J4pGsvdCJkOIxmSEkzsO6eZ1y+fLljr4bnUM8KHpQV1VSSFk2ck/zRqgwzD27QtpCeLJ3uXHR6+IqUZo9GpLGGT32IAonXVl1eXl53fcr0661YL/r169/sbLUX5XFwOLTWXVqiRTSNgURpT807sz8/HyxffXq1YF8xmrERXG98ZfGHa4Q8UWV1a0TPuIoizCsWCq+sig4XzedSfod6tzK1H1Nr6VMq/hQIW0y/LAPHjz48v/t27f74u/3m4iLUrA45Ximl8RH+fwRF6WCA2KzqrpAKKkVbOc71LGwsND0/VbxoULaZBHhjrDmNj3c5OTkV64SwXord69V8B5Wo64HrnK7ylYzdUW53sjaVa3NXed69ZI4SKEuquKudhexrBMi9RECikfVVF3/MMS6QyMkesfZ2dkvrgZ/+ZF4uh0NAhGFu4fAuhVSajWaJUHKjQMxpI2NdHA5FkFEzTKHnRDnSYVWtkSptWhlMVrFXFVC57PjvAwJ1HkACmnArBGFxoh4sBr8iLh29IZs8z7bvbhNPEm8GxdkkDNt1EnVmuC4hz6HacSEFI07/tLj41rQ24UlYvwltQTdukEbPSbCdW/k2uCcP0r8X04EYE0iPkJQbF+8eNHs3SjESDRyLFHEQgFWip6V1xAWgqJBDFqjwGLyxD6sZ50b1guIg0I94QY3c0XL7ix1uBkL/yukLW6At27dWpeKxQUL352Gg7jIQkU8EL47sUu7jbCTALzT64+kQ5UrxXVXJTDSY9uBWCmyY3xv6qXq+0QHE7GblmhEhBQZOhpbamnu3LlTuC34/xQeboxrF2MaddmqZnBcu1OTOHedKxnz5rCSqRjiyeVli9AsDV0lrrA+qWWmnqibEGU6zhPXm2Yloy65zphDWJWkqRN6+r1wD6tEW74GhbTF0PjSBohYcOHCnSPTxv/skyYL6nr6ukbRaaOug8ZXtj518/jq0svREMsZNxrszMzMV/syOM17YWnKYKWapaMRWpWQ2qmTYU9aDO3s77BCYYFIONDguh30i4ZQNR2pDJ/XKp0cjRKBVImq7Go1G0eq+iw6jRgvi3R9WIRyKjoVD69HKj4yedRdMxfScaQhFBKNkoacNtSwQnELQjdBeirQVmNQzabCBLiZqfD6DUMAdRaX78Dsj7i1IT6fbQrCw8JQb+lcxDqr6DjSEAoppq2kP04kHroNmKMxcp5BnLfXTWcTdURsGTNBon5i3I1YKWKYqoc492PwuOySK6QBgR83xkUoiICGQg9L46DB0Cg6GU9Ke9VhiSfD7Upne6Tvx3vh0vkQ5xGMkbAalPjx4y7R8vhSO9ArR2PazpMqq1xL6qMqNqPuEFaIjI7H9PcICKnVFP00wI+AO1K8zdKv6e0YdcHyZtDtbQ5QlSTgtfL0H84ftzKUkyV0Ps1iHBkSIfUy4bJZAyQgj1nZ/fbjcTmZxYA4I57r53y8WD8ixBIdCK/xvSJdPTU1tW5WPO+F1SZzx/XxP4O5ZAIjiSFDKKRepq8glCr3hvPRsHkvZgH0E3r3dPyFz6uLQ+omlYYwqqwV1x7WNI2B+JzV1dXiL98LC0QdRDImFith/4gjI5M3DImWjWJscXFxbbtefLhn7aSkm7lvzVbZidkSnVobGniruz7T1HTqdqYioZFHzFfXEYRbm15n+nr5eL4v+1Z1PnXrQsRMkE46rFFaRWhbC0lkUHCBSBGFJKKQRBSSiCgkEYUkopBEFJKIKCQRhSSikEQUkogoJBGFJKKQRBSSiCgkEYUkopBEFJKIKCQRhSSikEQUkogoJBGFJKKQREQhiSgkEYUkMmxCem01iPTECkKasx5EemIOIf3PehDpiX8jpB+tB5Ge+JFHX/Jw0bt5mbI+RDrmUV6uYJFW8vJ760OkK36Xl+VIf/89L99bJyId8X1DO+vGkf6Yl79aNyJt8beGZrKykD7l5bd5uZmXn6wnkUrQxrd5+U1DMwUkG6p2nmjs/E1efp6Xc3nZZR3KCPKxkVD4T15+aLhyK+Wd/i/AACzM3p22rOBmAAAAAElFTkSuQmCC"},"6e1b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wait"},[a("div",{staticClass:"search"},[a("div",{staticClass:"t"},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"搜索小区名称、别名","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.configData.communityName,callback:function(e){t.$set(t.configData,"communityName",e)},expression:"configData.communityName"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("搜索小区")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.cjxq,expression:"cjxq"}],attrs:{size:"small",type:"primary"},on:{click:t.toCommunityEdit}},[t._v("\n        建盘申请\n      ")])],1),t._v(" "),a("div",{staticClass:"b"},[a("div",{staticClass:"l"},[t._v("筛选")]),t._v(" "),a("div",{staticClass:"r"},[a("el-select",{staticClass:"select-w",attrs:{clearable:"",multiple:"",size:"mini","collapse-tags":"",placeholder:"状态"},on:{change:t.search},model:{value:t.configData.communityStatus,callback:function(e){t.$set(t.configData,"communityStatus",e)},expression:"configData.communityStatus"}},t._l(t.config.communityStatusList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:2==e?3:e}})})),1),t._v(" "),a("el-cascader",{staticClass:"select-w ml20",attrs:{clearable:"",size:"mini",placeholder:"区域","collapse-tags":"","show-all-levels":!1,props:{value:"id",label:"name"},options:t.areaList},on:{change:t.search},model:{value:t.configData.areaIds,callback:function(e){t.$set(t.configData,"areaIds",e)},expression:"configData.areaIds"}}),t._v(" "),a("el-select",{staticClass:"select-w ml20",attrs:{clearable:"",multiple:"",size:"mini","collapse-tags":"",placeholder:"类型"},on:{change:t.search},model:{value:t.configData.buildingTypes,callback:function(e){t.$set(t.configData,"buildingTypes",e)},expression:"configData.buildingTypes"}},t._l(t.config.buildingTypeList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)])]),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title color-bg"},[a("p",{staticClass:"color9"},[t._v("\n        共找到\n        "),a("span",{staticClass:"orange",staticStyle:{margin:"0 2px"}},[t._v(" "+t._s(t.total)+" ")]),t._v("\n        条记录\n      ")]),t._v(" "),a("p",{staticClass:"color6 ml10 pointer",on:{click:t.clearQuery}},[a("svg-icon",{staticClass:"icon color3",attrs:{"icon-class":"clear"}}),t._v(" "),a("span",{staticClass:"text"},[t._v("清空条件")])],1)]),t._v(" "),t.tableData&&t.tableData.length?a("div",{staticClass:"content white-bg"},t._l(t.tableData,(function(e){return a("div",{key:e.id,staticClass:"cell",on:{click:function(a){return t.jump(e.id,e.communityName)}}},[a("div",{staticClass:"l flex"},[a("el-image",{staticClass:"img l-l",attrs:{fit:"cover",src:e.communityCoverImage}},[a("img",{attrs:{slot:"error",src:t.communityError},slot:"error"})]),t._v(" "),a("div",{staticClass:"l-r ml10 height"},[a("div",[a("p",[a("span",{staticClass:"fs18 color3 bold"},[t._v(t._s(e.communityName))]),t._v(" "),e.anotherName?a("span",{staticClass:"color6 ml10"},[t._v("\n                  别名："+t._s(e.anotherName)+"\n                ")]):t._e(),t._v(" "),e.communityStatus?1==e.communityStatus?a("span",{staticClass:"tag tag3"},[t._v("\n                  待审核\n                ")]):3==e.communityStatus?a("span",{staticClass:"tag tag2"},[t._v("\n                  驳回\n                ")]):t._e():a("span",{staticClass:"tag "},[t._v("草稿")])])]),t._v(" "),a("div",{staticClass:"color6"},[a("div",{staticClass:"flex"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"community"}}),t._v(" "),a("p",{staticClass:"ml10"},[a("span",[t._v(t._s(e.areaName))]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(e.tradingAreaName))]),t._v(" "),e.buildingType&&e.buildingType.length?a("span",[a("span",{staticClass:"ml5"},[t._v("|")]),t._v(" "),a("span",{staticClass:"ml5"},t._l(e.buildingType,(function(e,n){return a("span",{key:n},[t._v("\n                        "+t._s(e)+"\n                      ")])})),0)]):t._e(),t._v(" "),e.buildingTime?a("span",[a("span",{staticClass:"ml5"},[t._v("|")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(e.buildingTime)+"年建")])]):t._e()])],1),t._v(" "),a("div",{staticClass:"flex mt10"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"time"}}),t._v(" "),a("p",{staticClass:"ml10 fs13"},[a("span",[t._v(t._s(e.auditInfo))])])],1)])])],1),t._v(" "),a("div",{staticClass:"r flex-end"},[a("div",{staticClass:"ta-right height flex-between-col"},[e.sellHouseAveragePrice?a("div",[a("p",{staticClass:"red bold"},[a("span",{staticClass:"fs20"},[t._v(t._s(e.sellHouseAveragePrice))]),t._v(" "),a("span",[t._v("元/㎡")])]),t._v(" "),a("p",{staticClass:"color9 fs13"},[t._v("参考均价")])]):a("div",[a("p",{staticClass:"bold"},[t._v("\n                暂无均价\n              ")])]),t._v(" "),a("div",[a("el-button-group",[t.userId!=e.inUserId||0!=e.communityStatus&&3!=e.communityStatus?t._e():a("el-button",{staticStyle:{width:"75px","padding-left":"0","padding-right":"0"},attrs:{size:"small"},on:{click:function(a){return a.stopPropagation(),t.confirm(!1,e.id)}}},[a("p",{staticClass:"blue"},[t._v("\n                    提交审核\n                  ")])]),t._v(" "),1==e.communityStatus?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.sjsh,expression:"sjsh"}],staticStyle:{width:"75px","padding-left":"0","padding-right":"0"},attrs:{size:"small"},on:{click:function(a){return a.stopPropagation(),t.audit(e.id)}}},[a("p",{staticClass:"blue"},[t._v("审核")])]):t._e(),t._v(" "),t.userId==e.inUserId?a("el-button",{staticStyle:{width:"75px","padding-left":"0","padding-right":"0"},attrs:{size:"small"}},[a("p",{staticClass:"red",on:{click:function(a){return a.stopPropagation(),t.confirm(!0,e.id)}}},[t._v("删除")])]):t._e()],1)],1)])])])})),0):a("div",{staticClass:"white-bg flex-center fs20",staticStyle:{height:"100px"}},[t._v("\n      暂无数据\n    ")])]),t._v(" "),a("div",{staticClass:"fm-pagination",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{attrs:{"current-page":t.configData.pageNum,background:"","page-size":t.configData.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.configData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.configData,"pageNum",e)},"current-change":t.handleCurrentChange}})],1),t._v(" "),a("audit",{attrs:{id:t.auditId},on:{auditCommunity:t.search},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}})],1)},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("7998"),c=a("acb0"),u=a("6d5c"),d=a.n(u),p=a("289c");function m(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function f(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){m(i,n,s,r,o,"next",t)}function o(t){m(i,n,s,r,o,"throw",t)}r(void 0)}))}}var v={areaIds:[],buildingTypes:[],communityName:"",communityStatus:[],communityStatusType:"2",scope:"",siteId:"",pageNum:1,pageSize:10},h={components:{Audit:p["default"]},data:function(){return{config:o["a"].config,rules:o["a"].rules,communityError:d.a,configData:JSON.parse(JSON.stringify(v)),areaList:[],total:0,tableData:[],showDialog:!1,auditId:""}},computed:{site:function(){return this.$store.state.settings.site},userId:function(){return this.$store.state.user.userId},authActions:function(){return this.$route.meta.authActions||[]}},created:function(){this.getAreas(),this.getCommunityPage()},methods:{search:function(){this.configData.pageNum=1,this.getCommunityPage()},clearQuery:function(){this.configData=JSON.parse(JSON.stringify(v)),this.search()},handleCurrentChange:function(t){this.configData.pageNum=t,this.getCommunityPage()},confirm:function(t,e){var a=this,n="",s="你确定要提交审核吗？",i="提交审核",o="提交审核";t&&(n="el-button--danger",s="删除后无法恢复，你确定要删除吗?",i="删除小区",o="删除"),this.$confirm(s,i,{confirmButtonClass:n,confirmButtonText:t?o:"确定",cancelButtonText:"取消",type:"warning"}).then(f(r.a.mark((function n(){var s,i;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s={id:e},i="",!t){n.next=8;break}return n.next=5,Object(l["f"])(s);case 5:i=n.sent,n.next=11;break;case 8:return n.next=10,Object(l["s"])(s);case 10:i=n.sent;case 11:i&&(a.search(),a.$message({type:"success",message:"".concat(o,"成功!")}));case 12:case"end":return n.stop()}}),n)})))).catch((function(){a.$message({type:"info",message:"已取消".concat(o)})}))},jump:function(t,e){this.$getSelectionText()||this.$navigateTo({query:{id:t,title:"小区详情-".concat(e)},path:"/work/house/communityDetail/".concat(t)})},getCommunityPage:function(){var t=this;return f(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.configData,a.siteId=t.site.id,e.next=4,Object(l["p"])(a);case 4:n=e.sent,t.total=n.total,t.tableData=n.list;case 7:case"end":return e.stop()}}),e)})))()},getAreas:function(){var t=this;return f(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(c["c"])(a);case 3:n=e.sent,t.areaList=n;case 5:case"end":return e.stop()}}),e)})))()},focus:function(t){var e=this;return f(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t,a.next=3,Object(l["j"])(n);case 3:e.getCommunityPage();case 4:case"end":return a.stop()}}),a)})))()},toCommunityEdit:function(){this.$navigateTo({path:"/work/house/communityEdit"})},audit:function(t){this.auditId=String(t),this.showDialog=!0}}},b=h,g=(a("5e82"),a("2877")),_=Object(g["a"])(b,n,s,!1,null,"368dc913",null);e["default"]=_.exports},"6e6f":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"f",(function(){return i})),a.d(e,"g",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return c})),a.d(e,"e",(function(){return u}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/position/company/delete",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/position/companyPositionList",method:"get",data:t})}function r(t){return Object(n["a"])({url:"/api/v1/fm/position/companyPositionListByNode",method:"get",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/position/company/edit",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/api/v1/fm/request/commissioner/".concat(t),method:"get"})}function c(t,e){return Object(n["a"])({url:"/api/v1/fm/request/commissioner/".concat(e),method:"post",data:t})}function u(){return Object(n["a"])({url:"/api/v1/fm/user/list",method:"get"})}},"6e99":function(t,e,a){},"6ecb":function(t,e,a){"use strict";var n=a("72dc"),s=a.n(n);s.a},"6f2c":function(t,e,a){"use strict";var n=a("82b2"),s=a.n(n);s.a},"6f78":function(t,e,a){"use strict";var n=a("d06a"),s=a.n(n);s.a},"6fa6":function(t,e,a){"use strict";var n=a("787f"),s=a.n(n);s.a},"6fd4":function(t,e,a){},"6fe6":function(t,e,a){},"6ffd":function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"d",(function(){return o}));var n=a("b775");function s(t,e){return Object(n["a"])({url:"/api/v1/fm/house/status/".concat(t,"/seal/on"),method:"post",data:e})}function i(t,e){return Object(n["a"])({url:"/api/v1/fm/house/status/".concat(t,"/seal/off"),method:"post",data:e})}function r(t,e){return Object(n["a"])({url:"/api/v1/fm/house/status/".concat(t,"/invalid"),method:"post",data:e})}function o(t){return Object(n["a"])({url:"/api/v1/fm/house/status/".concat(t,"/valid"),method:"post"})}},"702b":function(t,e,a){},7077:function(t,e,a){"use strict";var n=a("9635"),s=a.n(n);s.a},7094:function(t,e,a){},"70ac":function(t,e,a){},"70ec":function(t,e,a){},7134:function(t,e,a){},"716f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"getTab",rawName:"v-getTab",value:t.getTab,expression:"getTab"}],staticClass:"community"},[a("el-tabs",{staticClass:"fm-tabs-card",attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabs,(function(t,e){return a("el-tab-pane",{key:t.component,attrs:{label:t.name,name:""+(e+1)}},[a(t.component,{tag:"component"})],1)})),1)],1)},s=[],i=a("88e7"),r=a("6e1b"),o={components:{CommunitySquare:i["default"],communityWait:r["default"]},data:function(){return{activeName:"1",tabs:[{name:"小区广场",component:"CommunitySquare"},{name:"待上架小区",component:"communityWait"}]}},methods:{getTab:function(t){this.activeName=t}}},l=o,c=(a("3e62"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,"06e92f8e",null);e["default"]=u.exports},"721b":function(t,e,a){},7233:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"house-list",attrs:{"infinite-scroll-disabled":t.busy}},t._l(t.list,(function(e,n){return a("li",{key:n,on:{click:function(a){return t.jump(e.id,e.communityName)}}},[a("div",{staticClass:"base-info"},[a("el-image",{staticClass:"cover",attrs:{fit:"cover",src:e.communityCoverImage}},[a("img",{attrs:{slot:"error",src:t.houesPlaceholderImg},slot:"error"})]),t._v(" "),a("div",{staticClass:"summary"},[a("h3",{staticClass:"name"},[t._v(t._s(e.communityName))]),t._v(" "),a("p",{staticClass:"desc"},[a("span",[t._v(t._s(e.areaName))]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(e.tradingAreaName))]),t._v(" "),e.buildingType&&e.buildingType.length?[t._v("\n            |\n            "),a("span",[t._l(e.buildingType,(function(e){return[t._v("\n                "+t._s(e)+"\n              ")]}))],2)]:t._e(),t._v(" "),e.buildingTime?[t._v("\n            | "+t._s(e.buildingTime)+"年建\n          ")]:t._e(),t._v("\n          | "+t._s(e.createTime)+"\n        ")],2)])],1),t._v(" "),a("div",{staticClass:"price"},[e.sellHouseAveragePrice?a("div",[a("p",{staticClass:"red bold"},[a("span",[t._v(t._s(e.sellHouseAveragePrice))]),t._v(" "),a("span",[t._v("元/㎡")])]),t._v(" "),a("p",{staticClass:"color9 fs13"},[t._v("参考均价")])]):a("div",[a("p",{staticClass:"bold"},[t._v("\n          暂无均价\n        ")])])])])})),0)},s=[],i=a("a34a"),r=a.n(i),o=a("c1ed"),l=a.n(o),c=a("7998");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={data:function(){return{houesPlaceholderImg:l.a,queryData:{communityStatusType:2,pageNum:1,pageSize:10},busy:!0,list:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;return d(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.queryData,e.next=3,Object(c["p"])(a);case 3:n=e.sent,s=n&&n.list,t.queryData.pageNum++,s&&(t.busy=!1,t.list=t.list.concat(s),(0==s.length||s.length<a.pageSize)&&(t.busy=!0));case 7:case"end":return e.stop()}}),e)})))()},jump:function(t,e){this.$getSelectionText()||this.$navigateTo({query:{id:t,title:e},path:"/work/house/communityDetail/".concat(t)})},loadMore:function(){this.busy||this.getList()}}},m=p,f=(a("0677"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"725d56f4",null);e["default"]=v.exports},"728f":function(t,e,a){"use strict";var n=a("4440"),s=a.n(n);s.a},"72c3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{staticClass:"new-house-report",attrs:{width:"600px",visible:t.show,title:"提交报备","close-on-click-modal":!1,"before-close":t.close},on:{"update:visible":function(e){t.show=e}}},[a("el-form",{model:{value:t.formDatas,callback:function(e){t.formDatas=e},expression:"formDatas"}},[a("el-form-item",{attrs:{label:"报备楼盘"}},[a("h3",[t._v(t._s(t.estateName))])]),t._v(" "),a("el-form-item",{attrs:{label:"选择客户",prop:"customerId"}},[a("el-select",{staticClass:"input",attrs:{size:"small","value-key":"customerId",filterable:"",remote:"","reserve-keyword":"",placeholder:"搜索客户姓名、手机号","remote-method":t.getCustomers,loading:t.getCustomersLoading},on:{change:t.handleCustomerChange},model:{value:t.formDatas.customerId,callback:function(e){t.$set(t.formDatas,"customerId",e)},expression:"formDatas.customerId"}},t._l(t.customers,(function(t){return a("el-option",{key:t.customerId,attrs:{label:t.customerName,value:t.customerId}})})),1),t._v(" "),t.formDatas.customerId?a("el-input",{staticClass:"input",attrs:{size:"small",placeholder:"请输入电话号码",disabled:""},model:{value:t.formDatas.customerCellPhone,callback:function(e){t.$set(t.formDatas,"customerCellPhone",e)},expression:"formDatas.customerCellPhone"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",placeholder:"请选择显示类型"},on:{change:t.changePhonePreviewType},slot:"prepend",model:{value:t.formDatas.type,callback:function(e){t.$set(t.formDatas,"type",e)},expression:"formDatas.type"}},[a("el-option",{attrs:{label:"前3后4",value:"p3n4"}}),t._v(" "),a("el-option",{attrs:{label:"前7",value:"p7"}}),t._v(" "),a("el-option",{attrs:{label:"全显",value:"all"}})],1)],1):t._e()],1),t._v(" "),t.store.length>1?a("el-form-item",{attrs:{label:"选择门店",prop:"storeId"}},[a("el-select",{staticClass:"input",attrs:{size:"small"},model:{value:t.formDatas.storeId,callback:function(e){t.$set(t.formDatas,"storeId",e)},expression:"formDatas.storeId"}},t._l(t.store,(function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"预计到访时间"}},[a("ul",{staticClass:"visit-dates"},t._l(t.visitDates,(function(e,n){return a("li",{key:n,class:{active:t.visitDateIndex==n},on:{click:function(e){return t.handleVisitDateClick(n)}}},[a("div",{staticClass:"content"},[a("span",{staticClass:"label"},[t._v(t._s(e.label))]),t._v(" "),e.text?a("span",{staticClass:"value"},[t._v("("+t._s(e.text)+")")]):t._e()])])})),0)])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitReport}},[t._v("提交报备")])],1)],1),t._v(" "),a("el-dialog",{staticClass:"n-report-result-dialog",attrs:{visible:t.toggleResultDialog,width:"400px","close-on-click-modal":!1,"before-close":t.closeReportDialog},on:{"update:visible":function(e){t.toggleResultDialog=e}}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-success success"}),t._v(" "),a("span",[t._v("提交成功")])]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"l-count"},[a("strong",[t._v(t._s(t.reportRes.requestCount))]),t._v(" "),a("p",[t._v("累计报备")])]),t._v(" "),a("div",{staticClass:"r-content"},[a("h3",[a("span",[t._v(t._s(t.reportRes.customerName)+t._s("1"==t.reportRes.gender?"先生":"女士"))]),t._v(" "),a("span",[t._v(t._s(t.reportRes.customerPhone))])]),t._v(" "),a("p",[t._v("预计到访："+t._s(t.reportRes.visitDate)+"("+t._s(t.reportRes.visitMemo)+")")]),t._v(" "),a("p",[t._v("报备人："+t._s(t.userInfo.realName))]),t._v(" "),a("p",[t._v("报备门店："+t._s(t.reportRes.channelName))])])]),t._v(" "),a("p",{staticClass:"tips"},[a("i",{staticClass:"el-icon-info"}),t._v(" "),a("span",[t._v("报备进度及历史报备，可在【交易】中查看")])]),t._v(" "),a("div",{staticClass:"dialog-flat-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"btn",on:{click:t.continueReport}},[t._v("继续报备")])])])],1)},s=[],i=a("f803"),r=a("f6b0"),o=a("73f5"),l={components:{},props:{show:{type:Boolean,default:!0},estateName:null,estateId:null},data:function(){return{formDatas:{phone:null,customerCellPhone:null,type:"p3n4",customerId:null,estateId:null,storeId:null,siteId:null,visitDate:null,visitMemo:null},formatPhone:{p3n4:{rule:/(\d{3})\d{4}(\d{4})/,replace:"$1****$2"},p7:{rule:/(\d{7})\d{4}/,replace:"$1****"},all:{rule:"",replace:""}},store:[],reportRes:{},visitDateIndex:1,toggleResultDialog:!1,getCustomersLoading:!1,customers:[]}},watch:{estateId:{immediate:!0,handler:function(t){this.formDatas.estateId=t}}},computed:{userInfo:function(){return this.$store.state.settings.userInfo},visitDates:function(){var t="MM月DD日",e="YYYY-MM-DD",a=this.$time().format(e),n=(new Date).getHours(),s=[],i=this.$time().weekday(6).format(e),r=this.$time().weekday(7).format(e),o=this.$time().add("days",1).format(e),l=this.$time().format(t),c=this.$time().weekday(6).format(t),u=this.$time().weekday(7).format(t),d=this.$time().add("days",1).format(t);return s=[{label:"现在",label2:"紧急报备",value:a,text:"紧急报备"},{label:"今天",value:a,text:l},{label:"今天上午",label2:"上午",value:a,text:l,hours:n},{label:"今天下午",label2:"下午",value:a,text:l,hours:n},{label:"明天",value:o,text:d},{label:"本周六",label2:"周六",value:i,text:c},{label:"本周日",label2:"周日",value:r,text:u},{label:"近期",label2:"近期"},{label:"不确定",label2:"不确定"}],n>12&&s.splice(2,1),n>18&&s.splice(3,1),s}},created:function(){this.handleVisitDateClick(1),this.getUserStore()},methods:{close:function(){this.$emit("close",!1)},getUserStore:function(){var t=this;Object(o["j"])({siteId:this.$store.state.settings.site.id}).then((function(e){e&&(t.store=e)}))},handleVisitDateClick:function(t){this.visitDateIndex=t;var e=this.visitDates[t];e.label2?this.formDatas.visitMemo=e.label2:this.formDatas.visitMemo="",e.value?this.formDatas.visitDate=e.value:this.formDatas.visitDate=""},submitReport:function(){var t=this;this.formDatas.siteId=this.$store.state.settings.site.id,Object(i["c"])(this.formDatas).then((function(e){e&&(t.reportRes=e,t.toggleResultDialog=!0)}))},continueReport:function(){this.toggleResultDialog=!1,this.formDatas.customerCellPhone=null,this.formDatas.customerId=null,this.formDatas.storeId=null,this.visitDateIndex=1},closeReportDialog:function(){this.toggleResultDialog=!1,this.continueReport(),this.close()},getCustomers:function(t){var e=this;""!==t?(this.getCustomersLoading=!0,Object(r["d"])({pageSize:1e3,pageNum:1,customerArea:2,keyword:t,siteId:this.$store.state.settings.site.id}).then((function(t){t&&(e.getCustomersLoading=!1,e.customers=t)}))):this.customers=[]},changePhonePreviewType:function(t){this.formDatas.customerCellPhone=this.formDatas.phone.replace(this.formatPhone[t].rule,this.formatPhone[t].replace)},handleCustomerChange:function(t){var e=this.customers.find((function(e){return e.customerId==t}));this.formDatas.customerCellPhone=e.customerCellphone.replace(this.formatPhone[this.formDatas.type].rule,this.formatPhone[this.formDatas.type].replace),this.formDatas.phone=e.customerCellphone}}},c=l,u=(a("9af3"),a("75c0"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"09cf404e",null);e["default"]=d.exports},"72dc":function(t,e,a){},"733a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[a("div",{staticClass:"title"},[a("div",{staticClass:"l fm-filtrator"},[a("div",{staticClass:"x"},[a("el-input",{staticClass:"search-input",attrs:{"prefix-icon":"el-icon-search",placeholder:"门店名称",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.query.keyword,callback:function(e){t.$set(t.query,"keyword",e)},expression:"query.keyword"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("\n          搜索\n        ")])],1)]),t._v(" "),a("div",{staticClass:"r"},[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.tjmd,expression:"tjmd"}],attrs:{type:"primary",size:"small",plain:""},on:{click:t.addItem}},[t._v("\n        新开门店\n      ")])],1)]),t._v(" "),a("el-table",{staticClass:"table",attrs:{border:"",data:t.list,size:"small"}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"门店名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"departmentName",label:"隶属部门"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"areaName",label:"区域/商圈"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"合伙人政策"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.hasPartner?a("p",{directives:[{name:"permit",rawName:"v-permit",value:t.ckhglhhr,expression:"ckhglhhr"}],staticClass:"blue pointer",on:{click:function(a){return t.choosePartner(e.row,!0)}}},[t._v("\n          查看合伙人政策\n        ")]):a("p",{directives:[{name:"permit",rawName:"v-permit",value:t.ckhglhhr,expression:"ckhglhhr"}],staticClass:"blue pointer",on:{click:function(a){return t.choosePartner(e.row,!1)}}},[t._v("\n          创建合伙人\n        ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createUserName",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"createDate",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"menuType",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.locked?"锁定":"正常")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"x4 aic"},[a("span",{directives:[{name:"permit",rawName:"v-permit",value:t.bjmd,expression:"bjmd"}],staticClass:"btn blue",on:{click:function(a){return t.editItem(e.row)}}},[t._v("编辑")]),t._v(" "),a("span",{directives:[{name:"permit",rawName:"v-permit",value:t.scmd,expression:"scmd"}],staticClass:"btn red",on:{click:function(a){return t.deleteItem(e.row)}}},[t._v("删除")])])}}])})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.query.pageSize,"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next","current-page":t.query.pageNum,total:t.total},on:{"current-change":t.pageNumChange,"update:currentPage":function(e){return t.$set(t.query,"pageNum",e)},"update:current-page":function(e){return t.$set(t.query,"pageNum",e)}}})],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"地图",top:"5vh",visible:t.mapVisible,width:"70%"},on:{"update:visible":function(e){t.mapVisible=e}}},[a("amap",{staticClass:"amap",on:{getLL:t.getLL}})],1),t._v(" "),a("el-dialog",{staticClass:"fm-dialog",attrs:{visible:t.showDialog,"close-on-click-modal":!1,title:t.formTitle},on:{"update:visible":function(e){t.showDialog=e},close:function(e){t.showDialog=!1}}},[a("div",{staticStyle:{padding:"20px"}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"150px","label-position":"top"}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门店名称",prop:"name",rules:[t.rules.required()]}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"隶属部门",prop:"departmentIdStr"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:t.departmentList,props:t.departmentIdProps},model:{value:t.formData.departmentIdStr,callback:function(e){t.$set(t.formData,"departmentIdStr",e)},expression:"formData.departmentIdStr"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门店所在商圈",prop:"areaId",rules:[t.rules.required()]}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:t.areas,props:t.areasProps},model:{value:t.formData.areaId,callback:function(e){t.$set(t.formData,"areaId",e)},expression:"formData.areaId"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门店详细地址",prop:"address",rules:[t.rules.required()]}},[a("el-input",{attrs:{maxlength:100,autocomplete:"off"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"门店经纬坐标",prop:"position",rules:[t.rules.required()]}},[a("el-button",{staticClass:"map-btn",attrs:{icon:t.formData.position?"":"el-icon-location"},on:{click:function(e){t.mapVisible=!0}}},[t._v("\n                "+t._s(t.formData.position)+"\n              ")])],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"locked",rules:[t.rules.required()]}},[a("el-radio-group",{model:{value:t.formData.locked,callback:function(e){t.$set(t.formData,"locked",e)},expression:"formData.locked"}},[a("el-radio-button",{attrs:{label:!1}},[t._v("启用")]),t._v(" "),a("el-radio-button",{attrs:{label:!0}},[t._v("停用")])],1)],1)],1),t._v(" "),a("div",{staticClass:"save x2"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)]),t._v(" "),a("el-dialog",{staticClass:"fm-dialog",attrs:{visible:t.partnerDialog,"close-on-click-modal":!1,title:t.title+"门店《合伙人政策》"},on:{"update:visible":function(e){t.partnerDialog=e},close:function(e){t.partnerDialog=!1}}},[a("div",{staticStyle:{padding:"20px"}},[a("p",{staticClass:"dialog-title"},[t._v("门店："+t._s(t.storeName))]),t._v(" "),a("el-divider"),t._v(" "),a("div",{staticClass:"x aic"},[a("div",{staticClass:"flex1"},[a("p",{staticClass:"x aic"},[a("span",{staticClass:"red fs24"},[t._v("*")]),t._v("合伙人")])]),t._v(" "),a("div",{staticStyle:{width:"150px",padding:"0 20px"}},[a("p",{staticClass:"x aic"},[a("span",{staticClass:"red fs24"},[t._v("*")]),t._v("占比")])]),t._v(" "),a("div",{staticClass:"flex1"},[t._v("备注说明")]),t._v(" "),a("div",{staticStyle:{width:"50px"}})]),t._v(" "),a("div",t._l(t.editPartnerList,(function(e,n){return a("div",{key:n,staticClass:"x aic",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"flex1"},[a("autocomplete",{attrs:{options:t.autocompleteOptions,currentValue:t.editPartnerList[n].uqId},on:{setValue:function(e){return t.setValue(e,n)}}})],1),t._v(" "),a("div",{staticStyle:{width:"150px",padding:"0 20px"}},[a("el-input",{staticStyle:{"line-height":"40px"},attrs:{type:"number",autocomplete:"off"},model:{value:e.rate,callback:function(a){t.$set(e,"rate",t._n(a))},expression:"item.rate"}},[a("i",{attrs:{slot:"suffix"},slot:"suffix"},[t._v("%")])])],1),t._v(" "),a("div",{staticClass:"flex1"},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1),t._v(" "),a("div",{staticClass:"x2 aic",staticStyle:{width:"50px"}},[a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(e){return e.stopPropagation(),t.deletePartner(n)}}})],1)])})),0),t._v(" "),a("el-button",{staticStyle:{margin:"20px 0"},on:{click:t.addPartner}},[t._v("\n        +添加合伙人\n      ")]),t._v(" "),a("div",{staticClass:"x2"},[a("el-button",{attrs:{type:"primary"},on:{click:t.mergePartner}},[t._v("保存")])],1)],1)]),t._v(" "),a("el-dialog",{staticClass:"fm-dialog",attrs:{visible:t.lookPartnerDialog,"close-on-click-modal":!1,title:"查看门店《合伙人政策》"},on:{"update:visible":function(e){t.lookPartnerDialog=e},close:function(e){t.lookPartnerDialog=!1}}},[a("div",{staticStyle:{padding:"20px"}},[a("p",{staticClass:"dialog-title"},[t._v("门店："+t._s(t.storeName))]),t._v(" "),a("el-divider"),t._v(" "),a("el-table",{staticClass:"table",attrs:{border:"",data:t.storePartnerList,size:"small"}},[a("el-table-column",{attrs:{align:"center",prop:"partnerName",label:"合伙人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"rate",label:"分润比"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"description",label:"备注"}})],1),t._v(" "),a("div",{staticClass:"x2",staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.editStore}},[t._v("编辑")])],1)],1)])],1)},s=[],i=a("a34a"),r=a.n(i),o=a("e6b2"),l=a("c9b7"),c=a("73f5"),u=a("c24f"),d=a("acb0"),p=a("db49");function m(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function f(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){m(i,n,s,r,o,"next",t)}function o(t){m(i,n,s,r,o,"throw",t)}r(void 0)}))}}var v={position:"",address:"",areaId:"",departmentIdStr:"",latitude:"",longitude:"",name:"",locked:1},h={rate:"",description:"",uqId:""},b={components:{amap:o["a"],autocomplete:l["a"]},data:function(){return{loading:!1,total:0,list:[],query:{keyword:"",pageSize:10,pageNum:1},showDialog:!1,partnerDialog:!1,mapVisible:!1,lookPartnerDialog:!1,formTitle:"",rules:p["a"].rules,formData:JSON.parse(JSON.stringify(v)),current:{},areas:[],areasProps:{value:"id",label:"name",emitPath:!1},departmentIdProps:{value:"uqId",label:"name",checkStrictly:!0,emitPath:!1},partnerList:[],departmentList:[],storePartnerList:[],editPartnerList:[],storeName:"",storeId:null,title:"",autocompleteOptions:{placeholder:"输入姓名或手机号搜索",name:"name",value:"uqId",func:c["g"]}}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){this.companyStorePage(),this.getAreas(),this.departmentTree(),this.getPartners()},methods:{setValue:function(t,e){this.editPartnerList[e].uqId=t},companyStorePage:function(){var t=this;return f(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(t.query);case 2:a=e.sent,n=a.total,s=a.list,t.total=n,t.list=s;case 6:case"end":return e.stop()}}),e)})))()},search:function(){this.query.pageNum=1,this.companyStorePage()},getAreas:function(){var t=this;return f(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(d["c"])(a);case 3:n=e.sent,t.areas=n;case 5:case"end":return e.stop()}}),e)})))()},departmentTree:function(){var t=this;return f(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={isShowStore:!1},e.next=3,Object(u["e"])(a);case 3:n=e.sent,t.departmentList=n;case 5:case"end":return e.stop()}}),e)})))()},addItem:function(){var t=this;this.formTitle="新开门店",this.formData=JSON.parse(JSON.stringify(v)),this.showDialog=!0,this.$nextTick((function(){t.$refs.form.clearValidate()}))},editItem:function(t){var e=this;this.formTitle="编辑门店",this.showDialog=!0,this.formData=JSON.parse(JSON.stringify(t)),this.formData.position="".concat(t.longitude,",").concat(t.latitude),this.formData.areaId=Number(t.areaId),this.formData.departmentIdStr="".concat(t.departmentId,"-").concat(t.departmentNodeType),this.formData=this.$forObj(this.formData,v),this.$nextTick((function(){e.$refs.form.clearValidate()}))},save:function(){var t=this;this.$refs.form.validate(function(){var e=f(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t.formData.siteId=t.site.id,n=t.formData.position.split(","),t.formData.longitude=n[0],t.formData.latitude=n[1],e.next=8,Object(c["e"])(t.formData);case 8:s=e.sent,s&&(t.$showSuccess("操作成功"),t.showDialog=!1,t.search());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteItem:function(t){var e=this;this.$showConfirm(f(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["d"])(t.id);case 2:n=a.sent,n&&(e.$message({message:"删除成功",type:"success"}),e.search());case 4:case"end":return a.stop()}}),a)}))))},pageNumChange:function(t){this.query.pageNum=t,this.companyStorePage()},getLL:function(t){var e=t.position;t.address;this.formData.position=e.toString(),this.mapVisible=!1,this.$refs.form.validateField("position")},deletePartner:function(t){this.editPartnerList.splice(t,1)},addPartner:function(){this.editPartnerList.push(h)},choosePartner:function(t,e){var a=this;return f(r.a.mark((function n(){return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a.storeName=t.name,a.storeId=t.id,!e){n.next=9;break}return n.next=5,a.getStorePartnerList(t.id);case 5:a.lookPartnerDialog=!0,a.title="编辑",n.next=12;break;case 9:a.title="创建",a.partnerDialog=!0,a.editPartnerList=[h];case 12:case"end":return n.stop()}}),n)})))()},getStorePartnerList:function(t){var e=this;return f(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["h"])(t);case 2:n=a.sent,e.storePartnerList=n;case 4:case"end":return a.stop()}}),a)})))()},getPartners:function(){var t=this;return f(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["g"])(t.keyword);case 2:a=e.sent,t.partnerList=a;case 4:case"end":return e.stop()}}),e)})))()},editStore:function(){this.lookPartnerDialog=!1,this.partnerDialog=!0,this.title="编辑";var t=[];this.storePartnerList.forEach((function(e){var a={};for(var n in h)a[n]=e[n];t.push(a)})),this.editPartnerList=t},mergePartner:function(){var t=this;return f(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=0,n=!t.editPartnerList.length,t.editPartnerList.forEach((function(t){t.uqId&&t.rate||(n=!0),a+=t.rate})),!n){e.next=6;break}return t.$showError("请填写完整"),e.abrupt("return");case 6:if(100===a){e.next=9;break}return t.$showError("占比总和必须为100%"),e.abrupt("return");case 9:return s={partnerModelList:t.editPartnerList,storeId:t.storeId},e.next=12,Object(c["f"])(s);case 12:i=e.sent,i&&(t.partnerDialog=!1,t.companyStorePage());case 14:case"end":return e.stop()}}),e)})))()}}},g=b,_=(a("c4e1"),a("2877")),y=Object(_["a"])(g,n,s,!1,null,"0955cac6",null);e["default"]=y.exports},"73a1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header",attrs:{id:"fm-header"}},[a("div",{staticClass:"l"},[a("el-image",{staticClass:"logo",attrs:{src:t.logo,fit:"contain"}},[a("img",{attrs:{slot:"error",src:t.logo},slot:"error"})])],1),t._v(" "),a("div",{staticClass:"c"},[t.isHide?t._e():t._l(t.dynamicMenu,(function(e,n){return a("div",{key:n,staticClass:"tab"},[a("transition",{attrs:{name:"fade"}},[e.name&&"/enrollment"!=e.path?a("div",{class:{active:-1!=t.$route.path.indexOf(e.path)},on:{click:function(e){return t.changeTab(n)}}},[a("p",[t._v(t._s(e.name))])]):t._e()])],1)}))],2),t._v(" "),a("div",{staticClass:"r"},[t.isHide||t.userInfo.isAdmin?t._e():a("div",{staticClass:"bell",class:{active:t.toggleNoticeDialog}},[a("svg-icon",{staticClass:"pointer",attrs:{"icon-class":"bell"},on:{click:function(e){return e.stopPropagation(),t.switchNoticeDialog(!0)}}}),t._v(" "),t.hasUnreadMsg?a("i",[t._v(t._s("number"==typeof t.hasUnreadMsg?t.hasUnreadMsg:""))]):t._e()],1),t._v(" "),t.isHide||t.userInfo.isAdmin?t._e():a("tabs-line"),t._v(" "),a("div",{staticClass:"user pointer"},[a("el-image",{staticClass:"img",attrs:{src:t.userImg,fit:"cover"}},[a("img",{attrs:{slot:"error",src:t.avatar},slot:"error"})]),t._v(" "),a("p",[t._v(t._s(t.userInfo.realName))])],1),t._v(" "),a("tabs-line"),t._v(" "),a("div",{staticClass:"pointer",on:{click:t.logout}},[t._v("注销登录")])],1),t._v(" "),a("el-drawer",{staticClass:"notice-drawer",attrs:{visible:t.toggleNoticeDialog,direction:"rtl"},on:{"update:visible":function(e){t.toggleNoticeDialog=e}}},[a("div",{staticClass:"notice-dialog",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"close",on:{click:t.switchNoticeDialog}},[a("i",{staticClass:"el-icon-close"})]),t._v(" "),a("div",{staticClass:"shortcut"},[t.toggleNoticeDialog?a("fm-notification",{attrs:{rowStyle:{padding:"20px"}}}):t._e()],1),t._v(" "),a("div",{staticClass:"msg-list"},["NOTIFY"==t.noticeActiveType?a("n-notice",{attrs:{msgType:"NOTIFY"},on:{closeDialog:t.switchNoticeDialog}}):t._e(),t._v(" "),"APPROVAL"==t.noticeActiveType?a("n-check",{on:{closeDialog:t.switchNoticeDialog}}):t._e(),t._v(" "),"FOLLOWED"==t.noticeActiveType?a("n-notice",{on:{closeDialog:t.switchNoticeDialog}}):t._e()],1)])])],1)},s=[],i=a("a34a"),r=a.n(i),o=a("dc96"),l=a("cf05"),c=a.n(l),u=a("f3e4"),d=a("8c58"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list",attrs:{"infinite-scroll-disabled":t.busy}},[t._l(t.list,(function(e,n){return a("li",{key:n},["NOTIFY"==t.msgType?a("div",{staticClass:"serve-msg"},[a("h3",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),a("p",{staticClass:"time"},[t._v("\n        "+t._s(t.$formatDate(e.publishTime,"yyyy月MM月dd日 HH:mm"))+"\n      ")]),t._v(" "),a("p",{staticClass:"tips"},[t._v(t._s(e.content.description))]),t._v(" "),t._l(e.content.details,(function(e,n){return a("dl",{directives:[{name:"show",rawName:"v-show",value:e.v,expression:"item2.v"}],key:n,staticClass:"content"},[a("dt",[t._v(t._s(e.k)+"：")]),t._v(" "),a("dd",{domProps:{innerHTML:t._s(e.v)}})])})),t._v(" "),a("p",{staticClass:"tips"},[t._v(t._s(e.content.ignorant))]),t._v(" "),e.content.detailJump&&e.content.detailJump.detailedId?a("p",{staticClass:"more",on:{click:function(a){return t.toDetail(e.content.detailJump)}}},[a("span",[t._v("详情")]),t._v(" "),a("svg-icon",{attrs:{"icon-class":"right"}})],1):t._e()],2):a("div",{staticClass:"focus-msg"},[a("div",{staticClass:"time"},[t._v(t._s(t._f("converDate")(e.publishTime)))]),t._v(" "),a("div",{staticClass:"main"},[a("el-image",{staticClass:"avatar",attrs:{src:e.content.image,type:"preview"}},[a("img",{attrs:{slot:"error",src:t.housePlaceholder},slot:"error"})]),t._v(" "),a("div",{staticClass:"content"},[a("h3",{staticClass:"head"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"body"},[a("p",[t._v(t._s(e.content.subTitle))]),t._v(" "),a("p",[t._v("\n              "+t._s(e.content.description)+"\n            ")])])])],1)])])})),t._v(" "),t.isEmpty&&!t.list.length?a("li",{staticClass:"loading flex-center"},[a("span",[t._v("----- 暂无消息 -----")])]):a("li",{staticClass:"loading"},[t.isEmpty?a("span",[t._v("----- 暂无更多 -----")]):a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" 加载中~")])])],2)},m=[],f=a("c443"),v=a("c1ed"),h=a.n(v);function b(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function g(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){b(i,n,s,r,o,"next",t)}function o(t){b(i,n,s,r,o,"throw",t)}r(void 0)}))}}var _={props:{msgType:{type:String,default:""}},data:function(){return{housePlaceholder:h.a,queryData:{messageType:"NOTIFY",ltMessageId:null,limit:10},busy:!0,isEmpty:!1,list:[]}},computed:{noticeActiveType:function(){return this.$store.state.settings.noticeActiveType},toggleNoticeDialog:function(){return this.$store.state.settings.toggleNoticeDialog}},watch:{noticeActiveType:function(t){this.queryData.messageType=t,this.list=[],this.getMessage()},toggleNoticeDialog:{immediate:!0,handler:function(t){t&&(this.list=[],this.getMessage())}}},created:function(){this.list=[],this.queryData.messageType=this.noticeActiveType,this.getMessage()},methods:{toDetail:function(t){var e=this,a=t.detailedId,n=t.detailedType,s=t.tag,i={HOUSE:"/work/house/detail/".concat(a),COMMUNITY:"/work/house/communityDetail/".concat(a),ORDERDEAL:"/work/business/newHouse/dealDetail/".concat(a),VISIT_APPROVAL_LIST:"/work/business/newHouse/dealDetail/".concat(a)};this.$navigateTo({query:{title:s},path:i[n]}).then((function(){e.$emit("closeDialog")}))},getMessageCount:function(){var t=this;return g(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["c"])({readState:!1});case 2:a=e.sent,a&&(n=a.NOTIFY,s=a.APPROVAL,i=a.FOLLOWED,t.$store.commit("settings/SET_UNREAD_MSG_COUNT",{NOTIFY:n,APPROVAL:s,FOLLOWED:i}));case 4:case"end":return e.stop()}}),e)})))()},getMessage:function(){var t=this;return g(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.queryData.ltMessageId=t.list[t.list.length-1]?t.list[t.list.length-1].id:null,t.busy=!0,e.next=4,Object(f["b"])(t.queryData);case 4:a=e.sent,a?(t.list=t.list.concat(a),t.getMessageCount(),(0==a.length||a.length<5)&&(t.busy=!1,t.isEmpty=!0),setTimeout((function(){t.busy=!1}),300)):t.isEmpty=!0;case 6:case"end":return e.stop()}}),e)})))()},loadMore:function(){this.busy||this.getMessage()}}},y=_,w=(a("b828"),a("2877")),C=Object(w["a"])(y,p,m,!1,null,"24b25eaf",null),k=C.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notice-check-wrap"},[a("el-tabs",{staticClass:"notice-check-tabs",attrs:{type:"card"},on:{"tab-click":t.tabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabs,(function(e){return a("el-tab-pane",{key:e.value,attrs:{label:e.label,name:e.value}},[a("el-badge",{staticClass:"label",attrs:{slot:"label",value:t.unreadCount&&0==e.value?t.unreadCount:null},slot:"label"},[t._v(t._s(e.label))]),t._v(" "),a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list",attrs:{"infinite-scroll-disabled":"busy"}},[t._l(t.list,(function(e,n){return a("check-cell",{key:n,attrs:{options:e},on:{cellClick:function(e){return t.cellClick(n)}}})})),t._v(" "),t.isEmpty&&!t.list.length?a("li",{staticClass:"loading flex-center"},[a("span",[t._v("----- 暂无消息 -----")])]):a("li",{staticClass:"loading"},[t.isEmpty?a("span",[t._v("----- 暂无更多 -----")]):a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" 加载中~")])])],2)],1)})),1),t._v(" "),t.toggleDetailPupop?a("div",{staticClass:"detail"},[a("div",{staticClass:"head flex"},[a("div",{staticClass:"back",on:{click:function(e){t.toggleDetailPupop=!1}}},[a("i",{staticClass:"el-icon-arrow-left"})]),t._v(" "),a("h2",{staticClass:"title"},[t._v(t._s(t.itemTypes[t.cellDetail.content.approvalType]))])]),t._v(" "),a("div",{staticClass:"user-info flex"},[a("el-image",{staticClass:"avatar",attrs:{fit:"cover",src:t.cellDetail.content.auditee.portrait}},[a("img",{attrs:{slot:"error",src:t.avatar},slot:"error"})]),t._v(" "),a("div",{staticClass:"text flex-between"},[a("div",[a("h3",{staticClass:"name"},[t._v(t._s(t.cellDetail.content.auditee.username))]),t._v(" "),a("p",[t._v("\n            "+t._s(t.cellDetail.content.auditee.positionName)+"\n            "+t._s(t.cellDetail.content.auditee.storeName)+t._s(t.cellDetail.content.auditee.groupName)+"\n          ")])]),t._v(" "),"WAIT_APPROVAL"==t.cellDetail.content.approvalState?a("div",{staticClass:"status red"},[t._v("\n          待审批\n        ")]):t._e(),t._v(" "),"ADOPT"==t.cellDetail.content.approvalState?a("div",{staticClass:"status",style:{backgroundImage:"url("+t.resolveImg+")"}}):t._e(),t._v(" "),"REJECT"==t.cellDetail.content.approvalState?a("div",{staticClass:"status",style:{backgroundImage:"url("+t.rejectImg+")"}}):t._e()])],1),t._v(" "),a("div",{staticClass:"content"},t._l(t.cellDetail.content.details,(function(e,n){return a("dl",{key:n,staticClass:"flex-between"},[a("dt",[t._v(t._s(e.k))]),t._v(" "),a("dd",{directives:[{name:"converTxtToHTML",rawName:"v-converTxtToHTML",value:t.cellDetail.content.resourceMap,expression:"cellDetail.content.resourceMap"}],class:{"link-btn2":e.j&&e.j.detailedId},on:{click:function(a){return t.toDetail(e.j)}}},[a("span",[t._v(" "+t._s(e.v))])])])})),0),t._v(" "),a("div",{staticClass:"timeline"},[a("el-timeline",t._l(t.cellDetail.content.approvalItemList,(function(e,n){return a("el-timeline-item",{key:n},[a("div",{staticClass:"avatar-wrap"},[a("el-image",{staticClass:"avatar",attrs:{fit:"cover",src:e.portrait}},[a("img",{attrs:{slot:"error",src:t.avatar},slot:"error"})]),t._v(" "),"WAIT_APPROVAL"!=e.approvalState?a("svg-icon",{attrs:{"icon-class":"ok"}}):t._e()],1),t._v(" "),a("div",{staticClass:"info"},[a("h3",{staticClass:"flex-between"},[a("p",[t._v("\n                "+t._s(t.operatorTypes[e.operatorType])+"\n                "),n>0?a("span",{staticClass:"status",class:{red:"REJECT"==e.approvalState}},[t._v("("+t._s(t.status[e.approvalState])+")")]):t._e()]),t._v(" "),a("p",{staticClass:"time"},[t._v(t._s(t._f("converDate")(e.triggerTime)))])]),t._v(" "),a("p",{staticClass:"name"},[t._v(t._s(e.username))]),t._v(" "),n==t.cellDetail.content.approvalItemList.length-1&&t.cellDetail.content.reason?a("p",{staticClass:"note"},[t._v("\n              "+t._s(t.cellDetail.content.reason)+"\n            ")]):t._e()])])})),1)],1),t._v(" "),"WAIT_APPROVAL"==t.cellDetail.content.approvalState&&0==t.activeName?a("el-button-group",{staticClass:"operate mb20"},[a("el-button",{on:{click:function(e){t.toggleRejectDialog=!0}}},[t._v("驳回")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.approval("ADOPT")}}},[t._v("同意")])],1):t._e()],1):t._e(),t._v(" "),a("window2",{staticClass:"reject-dialog",attrs:{width:"310px",hasFooter:!1},model:{value:t.toggleRejectDialog,callback:function(e){t.toggleRejectDialog=e},expression:"toggleRejectDialog"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      驳回理由\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("el-input",{staticClass:"fm-textarea",attrs:{type:"textarea",placeholder:"驳回理由",rows:"5"},model:{value:t.checkData.reason,callback:function(e){t.$set(t.checkData,"reason",e)},expression:"checkData.reason"}}),t._v(" "),a("el-button",{staticClass:"submit-btn",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.approval("REJECT")}}},[t._v("提交")])],1)])],1)},D=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"cell",on:{click:t.cellClick}},[a("el-image",{staticClass:"avatar",attrs:{src:t.options.content.approvalItemList&&t.options.content.approvalItemList[0].portrait}},[a("img",{attrs:{slot:"error",src:t.avatar},slot:"error"})]),t._v(" "),a("div",{directives:[{name:"converTxtToHTML",rawName:"v-converTxtToHTML",value:t.options.content.resourceMap,expression:"options.content.resourceMap"}],staticClass:"content"},[a("div",{staticClass:"head flex-between"},[a("h3",{staticClass:"name"},[t._v(t._s(t.options.title))]),t._v(" "),a("span",[t._v(t._s(t._f("converDate")(t.options.publishTime)))])]),t._v(" "),t._l(t.options.content.details,(function(e,n){return a("dl",{key:n,staticClass:"info-cell"},[a("dt",[t._v(t._s(e.k)+"：")]),t._v(" "),a("dd",[t._v("\n        "+t._s(e.v)+"\n      ")])])})),t._v(" "),a("p",{staticClass:"status"},["WAIT_APPROVAL"==t.options.content.approvalState?a("span",{staticClass:"red"},[t._v("待审批")]):t._e(),t._v(" "),"ADOPT"==t.options.content.approvalState?a("span",{staticClass:"green"},[t._v("通过审核")]):t._e(),t._v(" "),"REJECT"==t.options.content.approvalState?a("span",{staticClass:"orange"},[t._v("驳回")]):t._e()])],2)],1)},S=[],N=a("1195"),A=a.n(N),T={props:{options:{type:Object,default:function(){return{conrent:{details:[]}}}}},data:function(){return{avatar:A.a,statusTypes:{WAIT_APPROVAL:"待审批",ADOPT:"通过",REJECT:"驳回"}}},created:function(){},methods:{cellClick:function(){this.$emit("cellClick")}}},O=T,P=(a("e099"),Object(w["a"])(O,I,S,!1,null,"d4867c8e",null)),j=P.exports,L=a("b964"),F=a("779e"),E=a.n(F),R=a("8604"),$=a.n(R);function M(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function q(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){M(i,n,s,r,o,"next",t)}function o(t){M(i,n,s,r,o,"throw",t)}r(void 0)}))}}var z={components:{CheckCell:j,Window2:L["a"]},data:function(){return{avatar:A.a,rejectImg:E.a,resolveImg:$.a,activeName:0,queryData:{hasRead:!1,messageType:"APPROVAL",ltMessageId:null,limit:10},checkData:{approvalAction:"ADOPT",reason:"",notifyId:null},tabs:[{label:"待我审核",value:0},{label:"我已审批",value:1},{label:"我发起的",value:2}],busy:!0,isEmpty:!1,list:[],unreadCount:0,cellDetail:{content:{details:{},auditee:{},approvalItemList:{}}},toggleDetailPupop:!1,toggleRejectDialog:!1,operatorTypes:{SENDER:"发起审批",REVIEWER:"审批人"},itemTypes:{KEY_APPROVAL:"钥匙审批",SEAL_APPROVAL:"封盘审批",UNSEAL_APPROVAL:"解封审批",ENTRUST_AGREEMENT_APPROVAL:"委托协议",MAINTAIN_SPARE_PART_APPROVAL:"维护备件",APPLY_EXPLORATION_APPROVAL:"实勘"},status:{WAIT_APPROVAL:"待审批",ADOPT:"通过",REJECT:"驳回"}}},computed:{toggleNoticeDialog:function(){return this.$store.state.settings.toggleNoticeDialog},noticeActiveType:function(){return this.$store.state.settings.noticeActiveType}},watch:{toggleNoticeDialog:{immediate:!0,handler:function(t){t&&this.getMessage(!0)}}},methods:{toDetail:function(t){var e=this;if(t){var a=t.detailedId,n=t.detailedType,s=t.tag,i="detail";"COMMUNITY"==n&&(i="communityDetail"),this.$navigateTo({query:{title:s},path:"/work/house/".concat(i,"/").concat(a)}).then((function(){e.$emit("closeDialog")}))}},tabClick:function(t){var e=t.name;3==e||(this.queryData.hasRead=!!e),this.getMessage(!0)},approval:function(t){var e=this;return q(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.checkData.approvalAction=t,e.checkData.notifyId=e.cellDetail.id,a.next=4,Object(f["a"])(e.checkData);case 4:n=a.sent,n&&(e.$showSuccess("操作成功"),e.toggleRejectDialog=!1,e.toggleDetailPupop=!1,e.checkData.reason="",e.getMessage(!0),e.getMessageCount(),e.$root.$emit("unreadMsg"));case 6:case"end":return a.stop()}}),a)})))()},getMessageCount:function(){var t=this;return q(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["c"])({readState:!1});case 2:a=e.sent,a&&(t.unreadCount=a.APPROVAL,n=a.NOTIFY,s=a.APPROVAL,i=a.FOLLOWED,t.$store.commit("settings/SET_UNREAD_MSG_COUNT",{NOTIFY:n,APPROVAL:s,FOLLOWED:i}));case 4:case"end":return e.stop()}}),e)})))()},getMessage:function(t){var e=this;return q(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t&&(e.list=[]),n=e.list.length-1,e.list[n]?e.queryData.ltMessageId=e.list[n].id:e.queryData.ltMessageId=null,e.busy=!0,s=2==e.activeName?f["e"]:f["b"],a.next=7,s(e.queryData);case 7:i=a.sent,i?(e.list=e.list.concat(i),e.getMessageCount(),(0==i.length||i.length<5)&&(e.isEmpty=!0),setTimeout((function(){e.busy=!1}),300)):e.isEmpty=!0;case 9:case"end":return a.stop()}}),a)})))()},loadMore:function(){this.busy||(2==this.activeName?this.getMessage(!1):this.getMessage())},cellClick:function(t){this.cellDetail=this.list[t],this.toggleDetailPupop=!0}}},B=z,U=(a("a833"),a("6445"),Object(w["a"])(B,x,D,!1,null,"0dcb036b",null)),V=U.exports,G=a("b383"),Y=a.n(G),Q=a("4360");function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Z(t,e,a){return e&&W(t.prototype,e),a&&W(t,a),t}var J=function(){function t(e){var a=e.host,n=void 0===a?window.location.host:a,s=e.path,i=void 0===s?"":s,r=e.params,o=e.handleOnmessage,l=void 0===o?function(){}:o,c=e.timeout,u=void 0===c?1e4:c;H(this,t);var d=Q["a"].state.user,p=d.token,m=d.userId;this.host=n,this.path=i,this.params=r||{token:p,userId:m},this.handleOnmessage=l,this.timeout=u,this.timer=null,this.ws=null,this.flag=!0,this.count=0,this.createWebsocket()}return Z(t,[{key:"createWebsocket",value:function(){var t="ws",e="";this.host="pcnapi.fangmao.com:10000","pcn.fangmao.com"!=location.hostname&&(this.host="101.37.129.89:30012"),"https:"==document.location.protocol&&(t="wss"),t="wss",this.host="pcnapi.fangmao.com",e="".concat(t,"://").concat(this.host).concat(this.path,"?").concat(Y.a.stringify(this.params)),this.ws=new WebSocket(e),this.initEvents()}},{key:"initEvents",value:function(){var t=this;this.ws.onclose=function(){t.count++,t.reconnect()},this.ws.error=function(){t.count++,t.reconnect()},this.ws.onopen=function(){t.reset()},this.ws.onmessage=function(e){t.reset(),t.handleOnmessage(e)}}},{key:"reconnect",value:function(){var t=this;this.flag&&this.count<=5?setTimeout((function(){t.createWebsocket()}),1e4):clearTimeout(this.timer)}},{key:"reset",value:function(){clearTimeout(this.timer),this.heartbeat()}},{key:"heartbeat",value:function(){var t=this;this.timer=setInterval((function(){t.flag&&1==t.ws.readyState&&t.ws.send("ping")}),this.timeout)}},{key:"close",value:function(){this.flag=!1,this.ws.close()}},{key:"send",value:function(t){this.ws.send(t)}}]),t}();function X(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function K(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){X(i,n,s,r,o,"next",t)}function o(t){X(i,n,s,r,o,"throw",t)}r(void 0)}))}}function tt(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=et(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function et(t,e){if(t){if("string"===typeof t)return at(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?at(t,e):void 0}}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var nt=60,st={tel:"",vcode:""},it={components:{TabsLine:o["default"],FmNotification:d["a"],NNotice:k,NCheck:V},data:function(){return{avatar:A.a,gender:["未知","男","女"],tabs:["工作台","业务配置"],userFlag:!1,imagecropperShow:!1,telFlag:!1,telActive:0,telForm:JSON.parse(JSON.stringify(st)),vText:"获取验证码",timer:null,time:nt,smsing:!1,imgUrl:"",cropperUrl:"",cropFlag:!0,uploadFlag:!0,tabIndex:0,siteId:null,userImg:null,ws:null,hasUnreadMsg:!1}},computed:{logo:function(){return this.userInfo.companyLogo||c.a},isHide:function(){return"/enrollment"==this.$route.path},dynamicMenu:function(){return this.$Storage.get("fm-menu")},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},userInfo:function(){return this.$store.state.settings.userInfo},site:function(){return this.$store.state.settings.site},tagsView:function(){return this.$store.state.tagsView.visitedViews},toggleNoticeDialog:function(){return this.$store.state.settings.toggleNoticeDialog},noticeActiveType:function(){return this.$store.state.settings.noticeActiveType},unreadMsgCount:function(){return this.$store.state.settings.unreadMsgCount}},watch:{unreadMsgCount:function(t){this.toggleUnreadBadge(t)}},created:function(){var t=this;this.getUserInfo(),this.userImg=this.userInfo.avatarPath,this.siteId=this.site.id,this.msgSocket(),this.getMessageCount(),this.$root.$on("getUserImg",(function(e){t.userImg=e}))},mounted:function(){var t=this;window.onbeforeunload=function(){Object(u["h"])(t.userId),Object(u["g"])(t.token);var e,a=tt(t.tagsView);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.path!=t.$route.path&&sessionStorage.removeItem("tab".concat(n.path))}}catch(s){a.e(s)}finally{a.f()}return null}},methods:{switchNoticeDialog:function(t){!0===t?this.$store.commit("settings/SET_NOTICE_DIALOG_STATUS",!0):this.$store.commit("settings/SET_NOTICE_DIALOG_STATUS",!1)},toUserCenter:function(){this.$navigateTo("/home/userInfo")},toggleUnreadBadge:function(t){t.APPROVAL+t.FOLLOWED+t.NOTIFY>0?this.hasUnreadMsg=!0:this.hasUnreadMsg=!1,t.APPROVAL>0&&(this.hasUnreadMsg=t.APPROVAL)},getMessageCount:function(){var t=this;return K(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["c"])({readState:!1});case 2:a=e.sent,a&&(t.toggleUnreadBadge(a),n=a.NOTIFY,s=a.APPROVAL,i=a.FOLLOWED,t.$store.commit("settings/SET_UNREAD_MSG_COUNT",{NOTIFY:n,APPROVAL:s,FOLLOWED:i}));case 4:case"end":return e.stop()}}),e)})))()},msgSocket:function(){var t=this;this.ws=new J({path:"/notify",handleOnmessage:function(e){try{var a=JSON.parse(e.data),n=a.messageType;if("APPROVAL"==n&&(n="待我审核"),"NOTIFY"==n&&(n="服务通知"),t.getMessageCount(),"FOLLOWED"==n)return;t.$notify({title:n,message:"【".concat(a.title,"】").concat(a.content.description?a.content.description:""),position:"bottom-left",showClose:!0,duration:6e4})}catch(s){return s}}}),this.$store.commit("user/SET_WS",this.ws)},changeTab:function(t){var e,a=null,n=tt(this.dynamicMenu[t].children[0].children);try{for(n.s();!(e=n.n()).done;){var s=e.value;if(3!=s.status&&s.meta.permission){a=s.menuPage;break}}}catch(o){n.e(o)}finally{n.f()}var i=this.$store.state.tagsView.visitedViews,r=i.find((function(t){return t.path==a}));r?this.$navigateTo(r,!1):this.$navigateTo(a)},jump:function(t){switch(t){case 0:this.$navigateTo({path:"/"});break;case 1:this.$navigateTo({path:"/store/index"});break;default:this.$navigateTo({path:"/404"})}},logout:function(){this.$store.dispatch("user/logout")},getUserInfo:function(){var t=this;return K(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("settings/getUserInfo");case 2:return e.next=4,t.$store.dispatch("settings/getUserMenu");case 4:case"end":return e.stop()}}),e)})))()}}},rt=it,ot=(a("1509"),a("3362"),Object(w["a"])(rt,n,s,!1,null,"17f8c40a",null));e["default"]=ot.exports},"73f5":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return r})),a.d(e,"g",(function(){return o})),a.d(e,"h",(function(){return l})),a.d(e,"f",(function(){return c})),a.d(e,"j",(function(){return u})),a.d(e,"c",(function(){return d})),a.d(e,"i",(function(){return p})),a.d(e,"b",(function(){return m}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/store/companyStorePage",method:"get",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/store/store?storeId=".concat(t),method:"delete"})}function r(t){return Object(n["a"])({url:"/api/v1/fm/store/editStore",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/partner/partnerSelector",method:"get",data:t})}function l(t){return Object(n["a"])({url:"/api/v1/fm/partner/storePartnerList",method:"get",data:{storeId:t}})}function c(t){return Object(n["a"])({url:"/api/v1/fm/partner/merge",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/api/v1/fm/store/userstore",method:"post",data:t})}var d=function(t){return Object(n["a"])({url:"/api/v1/fm/store/group",method:"DELETE",params:t})},p=function(t){return Object(n["a"])({url:"/api/v1/fm/store/group",method:"PUT",params:t})},m=function(t){return Object(n["a"])({url:"/api/v1/fm/store/group",params:t})}},7517:function(t,e,a){"use strict";var n=a("3ffd"),s=a.n(n);s.a},"755c":function(t,e,a){},7560:function(t,e,a){},"75b2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer-detail"},[a("div",{staticClass:"main"},[a("div",{staticClass:"content"},[a("div",{staticClass:"info-item flex"},[a("div",{staticClass:"l-avatar"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:""}})]),t._v(" "),t.baseDetail.grade?a("el-rate",{staticClass:"rate",attrs:{max:3,"void-color":"#999999",disabled:"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.baseDetail.grade,callback:function(e){t.$set(t.baseDetail,"grade",e)},expression:"baseDetail.grade"}}):t._e()],1),t._v(" "),a("div",{staticClass:"r-base-info"},[a("div",{staticClass:"customer-tag-wrap"},[a("h3",{staticClass:"name"},[t._v("\n              "+t._s(t.baseDetail.customerName)+"\n              "+t._s("1"==t.baseDetail.gender?"先生":"女士")+"\n            ")]),t._v(" "),t._l(t.customerDemands(t.baseDetail.customerRequirement),(function(e,n){return a("el-tag",{key:n,staticClass:"tag",attrs:{type:"info"}},[t._v(t._s(e))])})),t._v(" "),a("el-button",{staticClass:"edit-btn",attrs:{type:"primary",size:"small",plain:"",icon:"el-icon-edit"},on:{click:function(e){t.showKeepDialog=!0}}},[t._v("维护")])],2),t._v(" "),t.baseDetail.customerLabel?a("div",{staticClass:"system-tag"},t._l(t.baseDetail.customerLabel.split(","),(function(e,n){return a("el-tag",{key:n,staticClass:"tag strong",attrs:{type:"info",size:"small"}},[t._v(t._s(e))])})),1):t._e(),t._v(" "),a("div",{staticClass:"i-item-wrap"},[a("dl",{staticClass:"i-item"},[a("dt",[t._v("客户编号")]),t._v(" "),a("dd",[t._v(t._s(t.baseDetail.customerId))])]),t._v(" "),a("dl",{staticClass:"i-item"},[a("dt",[t._v("创建时间")]),t._v(" "),a("dd",[t._v(t._s(t.baseDetail.inDate))])]),t._v(" "),a("dl",{staticClass:"i-item"},[a("dt",[t._v("客户来源")]),t._v(" "),a("dd",[t._v(t._s(t.baseDetail.customerSource))])]),t._v(" "),a("dl",{staticClass:"i-item"},[a("dt",[t._v("最近维护")]),t._v(" "),a("dd",[t._v(t._s(t.baseDetail.lastMaitainDate))])]),t._v(" "),a("dl",{staticClass:"i-item"},[a("dt",[t._v("录入人")]),t._v(" "),a("dd",[t._v(t._s(t.baseDetail.inUser))])]),t._v(" "),a("dl",{staticClass:"i-item"},[a("dt",[t._v("维护人")]),t._v(" "),a("dd",[t._v(t._s(t.baseDetail.maintainUser))])])]),t._v(" "),a("fm-steps",{staticClass:"mb20",attrs:{options:t.stepsData}}),t._v(" "),a("h2",{staticClass:"i-item-title"},[t._v("求购需求/求租需求")]),t._v(" "),a("div",{staticClass:"i-item-wrap"},t._l(t.infoItems2,(function(e,n){return a("dl",{key:n,staticClass:"i-item"},[a("dt",[t._v(t._s(e.label))]),t._v(" "),a("dd",[t._v(t._s(e.value))])])})),0)],1)]),t._v(" "),a("div",{staticClass:"info-item"},[t._m(0),t._v(" "),a("el-table",{staticClass:"mt20",attrs:{border:"",data:t.reportData,"header-cell-style":{background:"#eee"}}},[a("el-table-column",{attrs:{label:"报备编号",prop:"num"}}),t._v(" "),a("el-table-column",{attrs:{label:"报备电话",prop:"phone"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t._f("formatPhone")(e.row.phone))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"报备项目",prop:"project"}}),t._v(" "),a("el-table-column",{attrs:{label:"报备员工",prop:"staff"}}),t._v(" "),a("el-table-column",{attrs:{label:"门店",prop:"store"}}),t._v(" "),a("el-table-column",{attrs:{label:"报备时间",prop:"date"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"status"}})],1)],1),t._v(" "),a("div",{staticClass:"info-item"},[a("div",{staticClass:"i-head"},[a("h2",{staticClass:"title"},[t._v("带看记录")]),t._v(" "),t._m(1),t._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"primary",plain:"",size:"small",icon:"el-icon-edit"}},[t._v("写带看")])],1),t._v(" "),a("div",{staticClass:"record"},[a("record-item"),t._v(" "),a("record-item"),t._v(" "),a("record-item"),t._v(" "),a("record-item")],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:100}})],1)])]),t._v(" "),a("div",{staticClass:"message"},[a("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"跟进",name:"first"}},[a("message-cell",{attrs:{showTag:!0}}),t._v(" "),a("message-cell")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"日志",name:"second"}},[a("message-cell",{attrs:{showTag:!0}})],1)],1)],1)]),t._v(" "),t.baseDetail.customerName?a("keep-customer",{attrs:{options:t.baseDetail,show:t.showKeepDialog},on:{close:function(e){t.showKeepDialog=!1},request:t.getCustomerDetail}}):t._e(),t._v(" "),a("right-tools",{attrs:{options:t.rightToolsBarData},on:{handleClick:t.toolClick}}),t._v(" "),a("el-dialog",{staticClass:"d-c-phone-dialog",attrs:{width:"400px",title:"客户电话",visible:t.toggleViewPhoneDialog},on:{"update:visible":function(e){t.toggleViewPhoneDialog=e}}},[a("div",{staticClass:"d-head",attrs:{slot:"title"},slot:"title"},[a("p",{staticClass:"d-title"},[t._v("客户电话")]),t._v(" "),a("span",{staticClass:"tips"},[t._v("已开启保护机制")])]),t._v(" "),a("div",{staticClass:"content"},[a("h3",{staticClass:"phone-item"},[a("span",[t._v(t._s(t.baseDetail.customerName))]),t._v(" "),a("span",[t._v(t._s(2==t.baseDetail.gender?"女士":"男"))]),t._v(" "),a("span",[t._v(t._s(t._f("formatPhone")(t.baseDetail.customerCellphone)))])]),t._v(" "),t._l(t.baseDetail.spareCellphones,(function(e,n){return a("h3",{key:n,staticClass:"phone-item"},[a("span",[t._v(t._s(e.customerName))]),a("span",[t._v(t._s(2==e.gender?"女士":"先生"))]),a("span",[t._v(t._s(t._f("formatPhone")(e.customerCellphone)))])])}))],2),t._v(" "),a("div",{staticClass:"footer",attrs:{slot:"footer"},on:{click:function(e){t.toggleEditPhoneDialog=!0}},slot:"footer"},[t._v("\n      更新客户电话\n    ")])]),t._v(" "),a("el-dialog",{attrs:{title:"修改客户电话",visible:t.toggleEditPhoneDialog,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){t.toggleEditPhoneDialog=e}}},[t.toggleEditPhoneDialog?a("edit-phone",{attrs:{options:t.baseDetail},on:{close:t.closeEditPhoneDialog}}):t._e()],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"i-head"},[a("h2",{staticClass:"title"},[t._v("报备记录")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"sub"},[t._v("\n            最近7天带看"),a("span",[t._v("2")]),t._v("次，总带看"),a("span",[t._v("12")]),t._v("次\n          ")])}],i=a("bcef"),r=a.n(i),o=a("ea0a"),l=a("b9ac"),c=a("041d"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps"},t._l(t.options,(function(e,n){return a("div",{key:n,staticClass:"step",class:["success"==e.type?"success":"danger"==e.type?"danger":""],style:{width:Math.floor(100/t.options.length)+"%"}},[a("div",{staticClass:"icon"},[a("svg-icon",{attrs:{"icon-class":e.icon}})],1),t._v(" "),a("div",{staticClass:"text"},[t._v(t._s(e.label))])])})),0)},d=[],p={props:{options:{type:Array,default:function(){return[]}}}},m=p,f=(a("6563"),a("2877")),v=Object(f["a"])(m,u,d,!1,null,null,null),h=v.exports,b=a("c80f"),g=a("dc43"),_=a("f6b0"),y=a("db49"),w={components:{MessageCell:o["default"],RecordItem:l["default"],RightTools:c["a"],FmSteps:h,KeepCustomer:b["default"],EditPhone:g["default"]},data:function(){return{toggleViewPhoneDialog:!1,toggleEditPhoneDialog:!1,rightToolsBarData:[{icon:"phone",label:"电话"},{icon:"follow-up",label:"跟进"},{icon:"report",label:"报备"},{icon:"invalid",label:"无效"},{icon:"transfer",label:"转移"},{icon:"delete2",label:"删除"}],customerRate:3,avatar:r.a,activeName:"first",showKeepDialog:!1,baseDetail:{},customerTag:["求购-新房","求购-二手房","求租"],stepsData:[{label:"带看三次",type:"info",icon:"chakan"},{label:"已交意向定金",type:"info",icon:"hands"},{label:"已交定金",type:"info",icon:"dingjin"},{label:"已签约",type:"info",icon:"qianyue"},{label:"已过户",type:"info",icon:"guohu"},{label:"无效/外成交",type:"info",icon:"reject"}],infoItems1:[{label:"客户编号",value:"8008208820"},{label:"创建时间",value:"34天前"},{label:"客户来源",value:"线上网络-经纪人微店"},{label:"最近维护",value:"2天前"},{label:"录入人",value:"注册客户/张三丰"},{label:"维护人",value:"张三丰"}],infoItems2:[{label:"物业类型",value:"住宅、商住、别墅"},{label:"预算总价",value:"500-1000万"},{label:"面积要求",value:"500平米"},{label:"意向户型",value:"五室三厅"},{label:"楼层需求",value:"10-20楼"},{label:"购房目的",value:"投资"},{label:"装修需求",value:"精装修"},{label:"朝向要求",value:"无要求"},{label:"意向区域",value:"高新/中和 神仙水"},{label:"意向楼盘",value:"新房/万科公园五号、金茂府 无国界"}],reportData:[{num:"1234556",phone:"1388222222",project:"无国界",staff:"张仨疯",date:"2019-09-18",store:"无国界",status:"待审报备"},{num:"1234556",phone:"1388222222",project:"无国界",staff:"张仨疯",date:"2019-09-18",store:"无国界",status:"待审报备"}]}},computed:{customerId:function(){return this.$route.params.id}},created:function(){this.getCustomerDetail()},methods:{closeEditPhoneDialog:function(){this.toggleEditPhoneDialog=!1,this.toggleViewPhoneDialog=!1,this.getCustomerDetail()},toolClick:function(t){"电话"==t&&(this.toggleViewPhoneDialog=!0)},getCustomerDetail:function(){var t=this;Object(_["c"])({id:this.customerId}).then((function(e){e&&(t.baseDetail=Object.assign({},e,{grade:Number(e.customerLevel)-1}))}))},customerDemands:function(t){var e=[];if(t)return y["a"].config.customerDemands.forEach((function(a){t.split(",").forEach((function(t){a.value==t&&e.push(a.label)}))})),e}}},C=w,k=(a("af18"),a("fa24"),Object(f["a"])(C,n,s,!1,null,"02139c3b",null));e["default"]=k.exports},"75b4":function(t,e,a){"use strict";var n=a("ceb0"),s=a.n(n);s.a},"75c0":function(t,e,a){"use strict";var n=a("fc17"),s=a.n(n);s.a},"75cd":function(t,e,a){"use strict";var n=a("0667"),s=a.n(n);s.a},7636:function(t,e,a){"use strict";var n=a("9438"),s=a.n(n);s.a},"774c":function(t,e,a){},"774e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:t.visible,"before-close":t.close,title:"选择报备带看",width:"800px"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticClass:"cj-house dialog-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"filtrator"},[a("el-input",{staticClass:"input",attrs:{size:"small",placeholder:"搜索客户姓名或电话",icon:"el-icon-search"},model:{value:t.queryData.keyword,callback:function(e){t.$set(t.queryData,"keyword",e)},expression:"queryData.keyword"}},[a("el-button",{attrs:{slot:"append"},on:{click:function(e){return t.search(1)}},slot:"append"},[t._v("搜 索")])],1)],1),t._v(" "),a("el-table",{staticClass:"table",attrs:{data:t.tableData,size:"mini",border:"","header-cell-style":{background:"#eee"}}},[a("el-table-column",{attrs:{label:"选择",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.customerId},on:{change:function(a){return t.radioChange(e.row)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"客户",prop:"customerName",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.customerName)+"\n            "+t._s(t._f("formatPhone2")(e.row.customerCellPhone))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"报备项目",prop:"estateName"}}),t._v(" "),a("el-table-column",{attrs:{label:"带看时间",prop:"visitDate"}}),t._v(" "),a("el-table-column",{attrs:{label:"报备人",prop:"userName"}}),t._v(" "),a("el-table-column",{attrs:{label:"陪看人员",prop:"entourageVisitorList"},scopedSlots:t._u([{key:"default",fn:function(e){return a("tempate",{},[t._v("\n            "+t._s(e.row.entourageVisitorList.toString()||"-")+"\n          ")])}}])})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.queryData.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.queryData.pageNum,total:t.totalNum},on:{"update:currentPage":function(e){return t.$set(t.queryData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryData,"pageNum",e)},"current-change":t.search}})],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submit}},[t._v("确 定")])],1)])])},s=[],i=a("a34a"),r=a.n(i),o=a("b775"),l=function(t){return Object(o["a"])({url:"/api/v1/fm/request/visit/estate/taked/list",method:"get",data:t})};function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:["visible","estateId"],data:function(){return{totalNum:0,queryData:{pageSize:5,pageNum:1,keyword:"",estateId:""},tableData:[],selected:"",result:{}}},watch:{visible:function(t){t&&this.search(1)},estateId:function(t){this.queryData.estateId=t}},methods:{radioChange:function(t){this.result=t},submit:function(){this.$emit("on-change",this.result),this.$emit("update:visible",!1)},close:function(){this.$emit("update:visible",!1)},search:function(t){var e=this;return u(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.queryData.pageNum=t,a.next=3,l(e.queryData);case 3:n=a.sent,n&&(e.tableData=n.list,e.totalNum=n.total);case 5:case"end":return a.stop()}}),a)})))()}}},p=d,m=(a("8634"),a("5ab7"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"1c48ab1e",null);e["default"]=f.exports},"779e":function(t,e,a){t.exports=a.p+"img/reject.e00a2cf2.png"},"77c7":function(t,e,a){},7823:function(t,e,a){},7879:function(t,e,a){"use strict";var n=a("4538"),s=a.n(n);s.a},"787f":function(t,e,a){},"78b9":function(t,e,a){},"78c7":function(t,e,a){},7928:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spare-parts"},[a("div",{staticClass:"l"},t._l(t.tabList,(function(e,n){return a("div",{key:n,staticClass:"cell",class:{active:t.activeIndex===n},on:{click:function(e){t.activeIndex=n}}},[t._v("\n      "+t._s(e)+"\n    ")])})),0),t._v(" "),a("div",{staticClass:"r"},[0===t.activeIndex?a("div",{staticClass:"flex-col"},[a("div",{staticClass:"flex1"},[a("div",{staticClass:"grid2"},[a("p",[a("span",{staticClass:"color9"},[t._v("协议编号:")]),t._v(" "),a("span",[t._v(t._s(t.detail.agreementCode))])]),t._v(" "),a("p",[a("span",{staticClass:"color9"},[t._v("协议到期:")]),t._v(" "),a("span",[t._v(t._s(t.detail.agreementExpiredDate))])]),t._v(" "),a("p",[a("span",{staticClass:"color9"},[t._v("上传日期:")]),t._v(" "),a("span",[t._v(t._s(t.detail.inDate))])]),t._v(" "),a("p",[a("span",{staticClass:"color9"},[t._v("上传人:")]),t._v(" "),a("span",[t._v(t._s(t.detail.inUserName))])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"grid3 mt20"},t._l(t.detail.files,(function(e,n){return a("div",{key:n},[a("el-image",{staticStyle:{width:"100px",height:"90px"},attrs:{src:e,fit:"cover","preview-src-list":t.detail.files}})],1)})),0)]),t._v(" "),a("div",{staticClass:"flex-end h4"},[t.detail.auditStatus?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload"},on:{click:function(e){t.showUpAgreement=!0}}},[t._v("\n          重新编辑\n        ")]):a("p",{staticClass:"orange"},[a("i",{staticClass:"el-icon-warning mr10"}),t._v("审核中，暂时不支持操作\n        ")])],1)]):t._e(),t._v(" "),1===t.activeIndex?a("upload-img",{key:t.dataList[t.activeIndex-1],attrs:{id:t.id,data:t.dataList[t.activeIndex-1],image:t.fcz},on:{refresh:t.getFiles}}):t._e(),t._v(" "),2===t.activeIndex?a("upload-i-d-card",{attrs:{id:t.id,data:t.dataList[t.activeIndex-1]},on:{refresh:t.getFiles}}):t._e(),t._v(" "),3===t.activeIndex?a("upload-img",{key:t.dataList[t.activeIndex-1],attrs:{id:t.id,data:t.dataList[t.activeIndex-1]},on:{refresh:t.getFiles}}):t._e(),t._v(" "),4===t.activeIndex?a("upload-img",{key:t.dataList[t.activeIndex-1],attrs:{id:t.id,data:t.dataList[t.activeIndex-1]},on:{refresh:t.getFiles}}):t._e()],1),t._v(" "),a("window2",{attrs:{width:"420"},model:{value:t.showUpAgreement,callback:function(e){t.showUpAgreement=e},expression:"showUpAgreement"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      上传委托协议\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("upload-agreement",{attrs:{id:t.id},on:{close:function(e){t.showUpAgreement=!1},refresh:t.getDetail}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showUpAgreement=!1}}},[t._v("\n        取消\n      ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("\n        提交\n      ")])],1)])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"color9"},[t._v("协议附件:")])])}],i=a("a34a"),r=a.n(i),o=a("e92f"),l=a("1d4d"),c=a("7efb"),u=a("b964"),d=a("d713"),p=a.n(d),m=a("1fa6");function f(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function v(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){f(i,n,s,r,o,"next",t)}function o(t){f(i,n,s,r,o,"throw",t)}r(void 0)}))}}var h={props:{id:{type:[Number,String],required:!0}},components:{Window2:u["a"],UploadAgreement:o["default"],UploadImg:l["default"],UploadIDCard:c["default"]},data:function(){return{fcz:p.a,tabList:["书面委托协议","房产证/不动产证","业主身份证","房屋核验报告","契税票"],activeIndex:0,showUpAgreement:!1,dataList:[],detail:{}}},created:function(){this.getFiles(),this.getDetail()},methods:{getFiles:function(){var t=this;return v(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["d"])(t.id);case 2:a=e.sent,n=[],s=a.find((function(t){return 2==t.fileType})),n.push(s),s=a.find((function(t){return 3==t.fileType})),n.push(s),s=a.find((function(t){return 4==t.fileType})),n.push(s),s=a.find((function(t){return 5==t.fileType})),n.push(s),t.dataList=n;case 13:case"end":return e.stop()}}),e)})))()},getDetail:function(){var t=this;return v(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["c"])(t.id);case 2:a=e.sent,t.detail=a;case 4:case"end":return e.stop()}}),e)})))()}}},b=h,g=(a("39d4"),a("2877")),_=Object(g["a"])(b,n,s,!1,null,"85cd5f4a",null);e["default"]=_.exports},"792f":function(t,e,a){},7998:function(t,e,a){"use strict";a.d(e,"j",(function(){return s})),a.d(e,"s",(function(){return i})),a.d(e,"m",(function(){return r})),a.d(e,"l",(function(){return o})),a.d(e,"f",(function(){return l})),a.d(e,"n",(function(){return c})),a.d(e,"h",(function(){return u})),a.d(e,"p",(function(){return d})),a.d(e,"o",(function(){return p})),a.d(e,"b",(function(){return m})),a.d(e,"k",(function(){return f})),a.d(e,"q",(function(){return v})),a.d(e,"c",(function(){return h})),a.d(e,"e",(function(){return b})),a.d(e,"a",(function(){return g})),a.d(e,"g",(function(){return _})),a.d(e,"d",(function(){return y})),a.d(e,"i",(function(){return w})),a.d(e,"r",(function(){return C}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/community/focus",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/community/submitAudit",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/api/v1/fm/community/getCommunityDetail",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/community/buliding/list/".concat(t),method:"get"})}function l(t){return Object(n["a"])({url:"/api/v1/fm/community/deleteCommunity",method:"post",data:t})}function c(t,e){return Object(n["a"])({url:"/api/v1/fm/community/layout/list/".concat(t,"/").concat(e),method:"get"})}function u(t){return Object(n["a"])({url:"/api/v1/fm/community/editCommumity",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/api/v1/fm/community/getCommunityPage",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/api/v1/fm/community/getCommunityNameList",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/api/v1/fm/community/auditCommunity",method:"post",data:t})}var f=function(t){return Object(n["a"])({url:"/api/v1/fm/community/buliding/list/".concat(t.communityId),method:"get"})},v=function(t){return Object(n["a"])({url:"/api/v1/fm/community/house/list/".concat(t.communityId),method:"get",data:t})},h=function(t){return Object(n["a"])({url:"/api/v1/fm/community/house/save/".concat(t.communityId),data:t})},b=function(t){return Object(n["a"])({url:"/api/v1/fm/community/house/delete/".concat(t.communityId,"/").concat(t.floorId),data:t})},g=function(t){return Object(n["a"])({url:"/api/v1/fm/community/buliding/save/".concat(t.communityId),data:t})},_=function(t){return Object(n["a"])({url:"/api/v1/fm/community/buliding/update/".concat(t.communityId,"/").concat(t.buildingId),data:t})},y=function(t){return Object(n["a"])({url:"/api/v1/fm/community/buliding/delete/".concat(t.communityId,"/").concat(t.id),data:t})},w=function(t){return Object(n["a"])({url:"/api/v1/fm/community/house/floor/edit/".concat(t.communityId,"/").concat(t.floorId),data:t})},C=function(t){return Object(n["a"])({url:"/api/v1/fm/community/house/house/".concat(t.communityId,"/").concat(t.id),method:"get"})}},"79d7":function(t,e,a){var n={"./views/404/index.vue":"dc75","./views/adminConfig/citySite/index.vue":"8346","./views/adminConfig/menu/index.vue":"9c2e","./views/business/achievement/children/performance.vue":"bf0e","./views/business/achievement/children/performanceReceivable.vue":"dee5","./views/business/achievement/children/performanceSummary.vue":"521c","./views/business/achievement/index.vue":"10fe","./views/business/commission/children/commission.vue":"429d","./views/business/commission/children/components/commissionDetail.vue":"5479","./views/business/commission/children/provision.vue":"a5bd","./views/business/commission/index.vue":"b4f0","./views/business/newHouse/children/components/chooseCustomer.vue":"3ae0","./views/business/newHouse/children/components/chooseEstate.vue":"6870","./views/business/newHouse/children/components/chooseReportRecords.vue":"774e","./views/business/newHouse/children/components/collectionLog.vue":"d9a2","./views/business/newHouse/children/detail.vue":"b250","./views/business/newHouse/children/editDeal.vue":"6771","./views/business/newHouse/components/collection.vue":"da55","./views/business/newHouse/components/examine.vue":"318a","./views/business/newHouse/index.vue":"56b9","./views/coc/company/manage.vue":"2117","./views/coc/config/areas.vue":"172d","./views/coc/config/building.vue":"57f5","./views/coc/config/role.vue":"dc23","./views/coc/home/index.vue":"7bbf","./views/customer/children/components/EditPhone.vue":"dc43","./views/customer/children/components/KeepCustomer.vue":"c80f","./views/customer/children/components/MessageCell.vue":"ea0a","./views/customer/children/components/RecordItem.vue":"b9ac","./views/customer/children/components/components/CheckboxGroup.vue":"4bce","./views/customer/children/components/components/FormPane.vue":"2baa","./views/customer/children/detail.vue":"75b2","./views/customer/clue.vue":"4a5a","./views/customer/components/EnterCustomer.vue":"f62d","./views/customer/components/FollowUp.vue":"3fe5","./views/customer/components/tabPane.vue":"0303","./views/customer/index.vue":"aedf","./views/dictionary/components/areas.vue":"58cd","./views/dictionary/components/bank.vue":"5b1b","./views/dictionary/components/building.vue":"3e90","./views/dictionary/components/components/commissionGroup.vue":"982b","./views/dictionary/components/costTypes.vue":"23f3","./views/dictionary/components/houseSource.vue":"28ee","./views/dictionary/components/language.vue":"33e8","./views/dictionary/components/performance.vue":"bc8e","./views/dictionary/components/performanceAllocationRules.vue":"1761","./views/dictionary/components/sites.vue":"7b02","./views/dictionary/index.vue":"1be9","./views/employee/components/edit.vue":"997d","./views/employee/components/editGroup.vue":"ee5f","./views/employee/index.vue":"5303","./views/enrollment/components/components/changeImage.vue":"b011","./views/enrollment/components/components/changePhone.vue":"ede9","./views/enrollment/components/electronicFile.vue":"656c","./views/enrollment/components/employeeHandbook.vue":"63ea","./views/enrollment/components/enrollmentComplete.vue":"c8cf","./views/enrollment/components/info.vue":"aa22","./views/enrollment/components/userDoc.vue":"005d","./views/enrollment/components/userImage.vue":"4ec4","./views/enrollment/components/wageCard.vue":"e2d2","./views/enrollment/index.vue":"f365","./views/house/children/communityDetail.vue":"2deb","./views/house/children/communityEdit.vue":"48f7","./views/house/children/communitySquare.vue":"88e7","./views/house/children/communityWait.vue":"6e1b","./views/house/children/components/LogCell.vue":"5ccb","./views/house/children/components/MessageCell.vue":"b339","./views/house/children/components/addressForm.vue":"8524","./views/house/children/components/applyBorrow.vue":"e405","./views/house/children/components/audit.vue":"289c","./views/house/children/components/changeRole.vue":"326c","./views/house/children/components/communityPhotos.vue":"5a0e","./views/house/children/components/communityTypeSwiper.vue":"4e3f","./views/house/children/components/enterCommunity.vue":"2a3e","./views/house/children/components/exploration.vue":"334c","./views/house/children/components/followUp.vue":"bdae","./views/house/children/components/houseTypeSwiper.vue":"c11f","./views/house/children/components/houseView.vue":"6c7e","./views/house/children/components/infoForm.vue":"c14d","./views/house/children/components/invalid.vue":"8baa","./views/house/children/components/lookKey.vue":"ae22","./views/house/children/components/manageKey.vue":"8490","./views/house/children/components/newHouseReport.vue":"72c3","./views/house/children/components/news.vue":"bba0","./views/house/children/components/operator.vue":"912e","./views/house/children/components/particular.vue":"8e53","./views/house/children/components/plan.vue":"6c40","./views/house/children/components/rewardInfo.vue":"6399","./views/house/children/components/role.vue":"a7f3","./views/house/children/components/sealOff.vue":"c700","./views/house/children/components/sealOn.vue":"3e48","./views/house/children/components/spareParts.vue":"7928","./views/house/children/components/submitKey.vue":"0ab7","./views/house/children/components/uploadAgreement.vue":"e92f","./views/house/children/components/uploadIDCard.vue":"7efb","./views/house/children/components/uploadImg.vue":"1d4d","./views/house/children/detail.vue":"a7c4","./views/house/children/edit.vue":"58a6","./views/house/children/editCommunity.vue":"3e9f","./views/house/children/newHouseDetail.vue":"890a","./views/house/community.vue":"716f","./views/house/components/allDeal.vue":"8caf","./views/house/components/pendingDeal.vue":"d3dd","./views/house/components/setReport.vue":"2202","./views/house/deal.vue":"61de","./views/house/newHouse.vue":"7dd3","./views/layout/components/breadcrumb/index.vue":"23e7","./views/layout/components/header/components/line.vue":"dc96","./views/layout/components/header/index.vue":"73a1","./views/layout/components/nav.vue":"3a02","./views/layout/components/tagsView/index.vue":"28d5","./views/layout/home.vue":"6733","./views/layout/subView.vue":"b089","./views/login/index.vue":"9ed6","./views/organograma/components/edit.vue":"0730","./views/organograma/index.vue":"f1a8","./views/roleManage/index.vue":"a3a0f","./views/roleSetting/index.vue":"0534","./views/station/components/menu.vue":"216e","./views/station/index.vue":"f26e","./views/storeCost/children/components/editCost.vue":"4184","./views/storeCost/children/expenditure.vue":"d220","./views/storeCost/children/statistics.vue":"b388","./views/storeCost/index.vue":"ba2f","./views/userInfo/index.vue":"079a","./views/work/enterprise/children/components/editCost.vue":"0bd1","./views/work/enterprise/children/expenditure.vue":"10b9","./views/work/enterprise/children/statistics.vue":"9aa5","./views/work/enterprise/children/subordinate.vue":"733a","./views/work/enterprise/components/menu.vue":"01a1","./views/work/enterprise/components/partner.vue":"43e8","./views/work/enterprise/station.vue":"e796","./views/work/enterprise/store.vue":"e24e","./views/work/home/components/check.vue":"001a","./views/work/home/components/community.vue":"7233","./views/work/home/components/house.vue":"315e","./views/work/home/components/overview.vue":"1cbe","./views/work/home/components/performance.vue":"066c","./views/work/home/components/realTimeData/charts/cjts.vue":"3edf","./views/work/home/components/realTimeData/charts/cjtsm.vue":"4268","./views/work/home/components/realTimeData/charts/esf.vue":"2046","./views/work/home/components/realTimeData/charts/esfm.vue":"e196","./views/work/home/components/realTimeData/charts/spf.vue":"2039","./views/work/home/components/realTimeData/charts/spfm.vue":"488e","./views/work/home/components/realTimeData/index.vue":"d6f0","./views/work/home/components/search.vue":"3509","./views/work/home/components/searchHouse.vue":"3fff","./views/work/home/components/strokeVolume.vue":"3314","./views/work/home/dataBoard.vue":"9bac","./views/work/home/index.vue":"360a","./views/work/home/strokeVolume.vue":"a337c"};function s(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id="79d7"},"79e9":function(t,e,a){},"7b02":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.addSite}},[t._v("添加站点")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sites,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序",sortable:"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"站点名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{class:{red:e.row.disabled}},[t._v("\n            "+t._s(e.row.disabled?"禁用":"启用")+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inUserStr",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inDateStr",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.editSite(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.deleteSite(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{"close-on-click-modal":!1,title:"创建/编辑站点",visible:t.siteFlag},on:{"update:visible":function(e){t.siteFlag=e}}},[a("el-form",{ref:"siteForm",attrs:{model:t.siteForm,"label-width":"150px","label-position":"top"}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"站点名称",prop:"name",rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{attrs:{type:"name",autocomplete:"off"},model:{value:t.siteForm.name,callback:function(e){t.$set(t.siteForm,"name",e)},expression:"siteForm.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"站点排序",prop:"sort",rules:[{required:!0,message:"必须为数字"}]}},[a("el-input",{attrs:{type:"sort",autocomplete:"off"},model:{value:t.siteForm.sort,callback:function(e){t.$set(t.siteForm,"sort",t._n(e))},expression:"siteForm.sort"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"站点状态",prop:"disabled",rules:[{required:!0,message:"不能为空"}]}},[a("el-radio-group",{model:{value:t.siteForm.disabled,callback:function(e){t.$set(t.siteForm,"disabled",e)},expression:"siteForm.disabled"}},[a("el-radio-button",{attrs:{label:!1}},[t._v("启用")]),t._v(" "),a("el-radio-button",{attrs:{label:!0}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"房易宝站点",prop:"companyCode",rules:[{required:!0,message:"不能为空"}]}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.siteForm.companyCode,callback:function(e){t.$set(t.siteForm,"companyCode",e)},expression:"siteForm.companyCode"}},t._l(t.siteList,(function(t){return a("el-option",{key:t.companyCode,attrs:{label:t.name,value:t.companyCode}})})),1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"save"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("acb0"),l=a("e31e");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={disabled:!1,name:"",companyCode:"",sort:0},p={data:function(){return{siteFlag:!1,siteForm:JSON.parse(JSON.stringify(d)),siteList:[],sites:[]}},created:function(){this.getSites()},mounted:function(){this.fybSites()},methods:{getSites:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["v"])();case 2:a=e.sent,t.sites=a;case 4:case"end":return e.stop()}}),e)})))()},addSite:function(){var t=this;this.siteForm=JSON.parse(JSON.stringify(d)),this.siteFlag=!0,this.$nextTick((function(){t.$refs.siteForm.clearValidate(),t.siteForm=JSON.parse(JSON.stringify(d))}))},editSite:function(t,e){this.siteForm=e,this.siteFlag=!0},deleteSite:function(t,e){var a=this;return u(r.a.mark((function t(){var n,s;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={id:e.id},t.next=3,Object(o["h"])(n);case 3:s=t.sent,s&&(a.$store.dispatch("settings/getUserInfo"),a.getSites());case 5:case"end":return t.stop()}}),t)})))()},save:function(){var t=this;this.$refs.siteForm.validate(function(){var e=u(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return n=t.siteForm,e.next=4,Object(o["m"])(n);case 4:s=e.sent,s&&(t.$store.dispatch("settings/getUserInfo"),t.getSites()),t.siteFlag=!1,e.next=10;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fybSites:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])();case 2:a=e.sent,t.siteList=a;case 4:case"end":return e.stop()}}),e)})))()}}},m=p,f=(a("728f"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"185bd2ef",null);e["default"]=v.exports},"7b8c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0NCRjcyRTQwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0NGN0QwNTgwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDQ0JGNzJFMjBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0JGNzJFMzBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PklI5ckAAAIdSURBVHja7JpNKERRFMffMJhJkmLhIwumpGx8lFhZYIMVUzY0YULZK0m+FjbKEjU7CoMsJdlIURZCoSSFkAVpkI8x/q85U9PEmHvnfc10T/16p947953/u/edd999z+Tz+aRw5na7/9pVBiZBNUiWtLFPsA/6wXboTrvd/m8DCZwnLgJboEZDsbIlgSqwDkp5GjBznngApIMLutpPDLGVYJz8QbDHEJsBJkABxTZrIThTHj3kj4FlxviUIP8AbDLGpwEXaARZ4IElmGdIO4CVenVJ0t7kcz7TrdTBGswq2AS6yZ8DrzoI9oB58p2sGlgF1wEb+TOSfjZN20JQq6bgXtrugGMdBR+CXfJ71BKcR4Ui+ArraYER1gRy1ajSTjr+DVyCcs5EbSE+bzvn4IOKVxcYUVpwoCJaf5vlcNqUQu04IhXMOqSNajlqTjxawYZBhNaDBZbpLY9g+Tn4aBDBHrUnHjFvQnC8m9kAOVhAcQQX/w7cxIPgWdAWwXHvIDvagmmEIW1lWO0wx0MP94FFevUMZ1esL/tGFXzPsWoiqrQQLARrfw8PgQaQyBl/BtqBN1YEd4L8KOLlhQJ5Dfw6VgS7ouzhU3AbS0N6lBBFSwgWgoVgIVgNwYEHfrKB8rfQ9kuNx9IJKJH8H8O/wYvOYlMpl0BuigseBvIPHxVgzUC97KPcFB/SK5L/y/9RtPNZhcxLubSA1UiDfgQYADD/V+kNKOR4AAAAAElFTkSuQmCC"},"7bbf":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"head"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"avatar"},[a("el-image",{attrs:{fit:"cover",src:t.userInfo.avatarPath}},[a("img",{attrs:{slot:"error",src:t.avatar},slot:"error"})])],1),t._v(" "),a("div",{staticClass:"base"},[a("div",{staticClass:"welcome"},[a("p",[t._v("Hi, "+t._s(t.userInfo.realName)+" 出发！为梦想而战")])]),t._v(" "),a("div",{staticClass:"info"},[a("p",[t._v(t._s(t.userInfo.companyName))]),t._v(" "),a("p",[t.userInfo.departmentFullName?a("span",[t._v("\n              "+t._s(t.userInfo.departmentFullName)+"\n            ")]):t._e(),t._v(" "),t.userInfo.storeName?a("span",[t._v(" - "+t._s(t.userInfo.storeName))]):t._e(),t._v(" "),t.userInfo.storeGroupName?a("span",[t._v("\n              - "+t._s(t.userInfo.storeGroupName)+"\n            ")]):t._e(),t._v(" "),t.userInfo.positionName?a("span",[t._v("\n              "+t._s(t.userInfo.positionName)+"\n            ")]):t._e()])])])]),t._v(" "),a("div",{staticClass:"height"},[a("img",{staticClass:"height",attrs:{src:t.hdBg}})])])])},s=[],i=a("1195"),r=a.n(i),o=a("9a2d"),l=a.n(o),c={data:function(){return{hdBg:l.a,avatar:r.a}},computed:{userInfo:function(){return this.$store.state.settings.userInfo}}},u=c,d=(a("627a"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,"59bc4603",null);e["default"]=p.exports},"7cee":function(t,e,a){"use strict";var n=a("3ed8"),s=a.n(n);s.a},"7dd3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"conditions"},[a("div",{staticClass:"t"},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"输入楼盘名称","prefix-icon":"el-icon-search"},model:{value:t.configData.estateName,callback:function(e){t.$set(t.configData,"estateName",e)},expression:"configData.estateName"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.search(1)}}},[t._v("\n        搜索楼盘\n      ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.glgslp,expression:"glgslp"}],attrs:{size:"small",type:"primary"},on:{click:function(e){return t.toFYB({},3)}}},[t._v("\n        创建楼盘\n      ")])],1),t._v(" "),a("div",{staticClass:"fm-filtrator2"},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"content border-radio-wrap"},[a("el-radio-group",{staticClass:"house-range-radio",attrs:{size:"mini"},on:{change:t.search},model:{value:t.configData.scope,callback:function(e){t.$set(t.configData,"scope",e)},expression:"configData.scope"}},t._l(t.config.scope,(function(e){return a("el-radio",{key:e.value,attrs:{label:e.value,border:""}},[t._v("\n              "+t._s(e.label)+"\n            ")])})),1)],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(1),t._v(" "),a("div",{staticClass:"content"},[a("p",[a("span",{staticClass:"area-cell",class:{blue:-1==t.areaActive},on:{click:function(e){return t.chooseArea(-1)}}},[t._v("\n              全部\n            ")]),t._v(" "),t._l(t.screen.areas,(function(e,n){return a("span",{key:n,staticClass:"area-cell",class:{blue:n==t.areaActive},on:{click:function(a){return t.chooseArea(n,e)}}},[t._v("\n              "+t._s(e.name)+"\n            ")])}))],2),t._v(" "),-1!=t.areaActive?a("el-checkbox-group",{ref:"areaCascader",model:{value:t.configData.areaIds,callback:function(e){t.$set(t.configData,"areaIds",e)},expression:"configData.areaIds"}},[a("el-checkbox",{attrs:{label:""},on:{change:function(e){return t.handleAreaChange(e,"ISALL")}}},[t._v("\n              全部\n            ")]),t._v(" "),t._l(t.areaList,(function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id},on:{change:t.handleAreaChange}},[t._v("\n              "+t._s(e.name)+"\n            ")])}))],2):t._e()],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(2),t._v(" "),a("div",{staticClass:"content"},[a("el-checkbox-group",{on:{change:function(e){return t.handlePriceChange(e,3e4,"averagePriceRange")}},model:{value:t.backUpData.price,callback:function(e){t.$set(t.backUpData,"price",e)},expression:"backUpData.price"}},t._l(t.config.averagePriceRange,(function(e){return a("el-checkbox",{key:e,attrs:{label:""+e}},[t._v("\n              "+t._s(e)+"\n            ")])})),1),t._v(" "),a("input-range",{attrs:{unit:"万"},on:{inputRangeBtn:t.priceInputChange}})],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(3),t._v(" "),a("div",{staticClass:"content"},[a("el-checkbox-group",{on:{change:function(e){return t.handlePriceChange(e,200,"areaRange")}},model:{value:t.backUpData.size,callback:function(e){t.$set(t.backUpData,"size",e)},expression:"backUpData.size"}},t._l(t.config.areaRange,(function(e){return a("el-checkbox",{key:e,attrs:{label:""+e}},[t._v("\n              "+t._s(e)+"\n            ")])})),1),t._v(" "),a("input-range",{attrs:{unit:"㎡"},on:{inputRangeBtn:t.sizeInputChange}})],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(4),t._v(" "),a("div",{staticClass:"content"},[a("el-checkbox-group",{on:{change:t.search},model:{value:t.configData.houseType,callback:function(e){t.$set(t.configData,"houseType",e)},expression:"configData.houseType"}},t._l(t.config.houseType,(function(e){return a("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v("\n              "+t._s(e.label)+"\n            ")])})),1)],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(5),t._v(" "),a("div",{staticClass:"content"},[a("el-checkbox-group",{on:{change:function(e){return t.handlePriceChange(e,9,"commissionRange")}},model:{value:t.backUpData.price,callback:function(e){t.$set(t.backUpData,"price",e)},expression:"backUpData.price"}},t._l(t.config.commissionRange,(function(e){return a("el-checkbox",{key:e,attrs:{label:""+e}},[t._v("\n              "+t._s(e)+"\n            ")])})),1)],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(6),t._v(" "),a("div",{staticClass:"content"},[a("el-select",{staticClass:"cascader",attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"类型"},on:{change:function(e){return t.handleStatusChange(e,"propertyType")}},model:{value:t.configData.propertyType,callback:function(e){t.$set(t.configData,"propertyType",e)},expression:"configData.propertyType"}},t._l(t.screen.propertyType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-select",{staticClass:"cascader",attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"状态"},on:{change:function(e){return t.handleStatusChange(e,"saleStatusList")}},model:{value:t.configData.saleStatusList,callback:function(e){t.$set(t.configData,"saleStatusList",e)},expression:"configData.saleStatusList"}},t._l(t.config.saleStatusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-select",{staticClass:"cascader",attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"开盘"},on:{change:function(e){return t.handleStatusChange(e,"openDays")}},model:{value:t.configData.openDays,callback:function(e){t.$set(t.configData,"openDays",e)},expression:"configData.openDays"}},t._l(t.config.openDays,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])])]),t._v(" "),a("div",{staticClass:"record"},[a("div",{staticClass:"fm-table-tips"},[a("div",{staticClass:"result"},[a("p",{staticClass:"tips"},[t._v("\n          共找到 "),a("span",{staticClass:"strong"},[t._v(t._s(t.totalNum))]),t._v("\n          条记录\n        ")]),t._v(" "),a("p",{staticClass:"clear",on:{click:t.clearQuery}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"clear"}}),t._v(" "),a("span",{staticClass:"text"},[t._v("清空条件")])],1)])]),t._v(" "),a("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{"show-header":!1,data:t.tableData},on:{"row-click":t.jump}},[a("el-table-column",{attrs:{align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("el-image",{staticClass:"img",attrs:{fit:"cover",src:e.row.estateLogo}},[a("img",{attrs:{slot:"error",src:t.houesPlaceholderImg},slot:"error"})])}}])}),t._v(" "),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"summary"},[a("h3",[t._v(t._s(e.row.estateName))]),t._v(" "),a("p",{staticClass:"h-info"},[a("svg-icon",{attrs:{"icon-class":"index"}}),t._v(" "),a("span",[t._v(t._s(e.row.propertyType.toString()))]),t._v(" |\n            "),a("span",[t._v(t._s(e.row.areaName))]),t._v(" |\n            "),a("span",[t._v("\n              "+t._s(e.row.houseAreaFrom)+"-"+t._s(e.row.houseAreaTo)+"平米\n            ")]),t._v(" "),e.row.sellingNum&&0!=e.row.sellingNum?a("span",[t._v("| 在售"+t._s(e.row.sellingNum)+"套\n            ")]):t._e()],1),t._v(" "),a("p",{staticClass:"s-info"},[[e.row.commission?a("span",[a("svg-icon",{attrs:{"icon-class":"chakan"}}),t._v(" "),a("span",[t._v("\n                  佣金：\n                  "),a("span",{staticClass:"red"},[t._v(t._s(e.row.commission))])])],1):t._e(),t._v(" "),e.row.requestCommissionerList&&e.row.requestCommissionerList.length?a("span",{on:{click:function(a){return a.stopPropagation(),t.showReport(e.row.requestCommissionerList)}}},[a("span",[t._v("报备专员：")]),t._v(" "),t._l(e.row.requestCommissionerList,(function(n,s){return a("span",{key:s},[a("span",{staticClass:"blue pointer"},[t._v(t._s(n.realName))]),t._v(" "),s+1!==e.row.requestCommissionerList.length?a("span",{staticClass:"color9"},[t._v("、")]):t._e()])}))],2):t._e()],t._v(" "),e.row.distribution?t._e():[t._v("暂无支持分销")]],2),t._v(" "),a("p",{staticClass:"fm-table-tags"},[e.row.saleStatus?a("span",{class:[t.saleStatus[e.row.saleStatus].color]},[t._v(t._s(t.saleStatus[e.row.saleStatus].label))]):t._e(),t._v(" "),a("span",{staticClass:"blue-bg blue"},[t._v(t._s(e.row.propertyType.join(",")))]),t._v(" "),t._l(e.row.labels,(function(e,n){return a("span",{key:n,class:{emp:"带看奖"==e||"成交奖"==e}},[t._v(t._s(e)+"\n            ")])}))],2)])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"right",width:"550px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"operator",staticStyle:{width:"550px"}},[e.row.unitPriceList.length?a("div",t._l(e.row.unitPriceList,(function(e,n){return a("p",{key:n,staticClass:"price"},[t._v("\n              "+t._s(e.priceDesc?e.priceDesc:e.priceFrom+"-")+t._s(e.priceTo)+"元/平米\n            ")])})),0):t._e(),t._v(" "),e.row.totalPriceList.length?a("div",t._l(e.row.totalPriceList,(function(e,n){return a("p",{key:n,staticClass:"price"},[t._v("\n              "+t._s(e.priceDesc?e.priceDesc:e.priceFrom+"-")+t._s(e.priceTo)+"元/套起\n            ")])})),0):t._e(),t._v(" "),e.row.unitPriceList.length||e.row.totalPriceList.length?t._e():a("p",{staticClass:"price"},[t._v("\n            "+t._s(e.row.averagePrice||"价格待定")+"\n          ")]),t._v(" "),e.row.averagePrice?a("p",{staticClass:"p-tips"},[t._v("均价约(元/平)")]):t._e(),t._v(" "),a("p",{staticClass:"like"},[a("svg-icon",{staticClass:"love",attrs:{"icon-class":e.row.isFocus?"love2":"love"},on:{click:function(a){return a.stopPropagation(),t.likeHouse(e.row)}}})],1),t._v(" "),a("div",[e.row.distribution?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.glgslp,expression:"glgslp"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.setReport(e.row)}}},[a("span",[t._v("设置报备专员")]),t._v(" "),a("svg-icon",{attrs:{"icon-class":"qianyue"}})],1):t._e(),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.glgslp,expression:"glgslp"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.toFYB(e.row,1)}}},[a("span",[t._v("楼盘管理后台")]),t._v(" "),a("svg-icon",{attrs:{"icon-class":"qianyue"}})],1),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.glgslp,expression:"glgslp"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.toFYB(e.row,2)}}},[a("span",[t._v("分销设置")]),t._v(" "),a("svg-icon",{attrs:{"icon-class":"qianyue"}})],1),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.glgslp,expression:"glgslp"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.toPhoto(e.row)}}},[a("span",[t._v("动态相册管理")]),t._v(" "),a("svg-icon",{attrs:{"icon-class":"qianyue"}})],1)],1)])}}])})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.configData.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.configData.pageNum,total:t.totalNum},on:{"update:currentPage":function(e){return t.$set(t.configData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.configData,"pageNum",e)},"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("new-house-report",{attrs:{estateId:t.estateId,estateName:t.estateName,show:t.toggleReportDialog},on:{close:function(e){t.toggleReportDialog=!1}}}),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{width:"380px","close-on-click-modal":!1,title:"报备专员",center:"",visible:t.reportDialog},on:{"update:visible":function(e){t.reportDialog=e}}},[a("div",[t._l(t.showReporterList,(function(e,n){return a("div",{key:n,staticClass:"report-man"},[a("p",{staticClass:"fs20"},[t._v("\n          "+t._s(e.realName)+"\n          "),a("span",{staticClass:"blue"},[t._v(t._s(t._f("formatPhone")(e.cellphone)))])])])})),t._v(" "),a("p",{staticClass:"color9 x1",staticStyle:{"padding-top":"10px"}},[t._v("\n        有任何报备、带看疑问，均可电话咨询\n      ")])],2)]),t._v(" "),a("set-report",{attrs:{estateId:t.currentItem.estateId,estateName:t.currentItem.estateName,show:t.setReportDialog},on:{close:function(e){t.setReportDialog=!1},refresh:function(e){return t.search(t.configData.pageNum)}}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("范围")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("区域")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("均价")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("面积")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("户型")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("佣金")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("筛选")])])}],i=a("a34a"),r=a.n(i),o=a("3915"),l=a("c1ed"),c=a.n(l),u=a("f803"),d=a("e31e"),p=a("aaf7"),m=a("ed08"),f=a("72c3"),v=a("2202"),h=a("db49"),b=a("b383"),g=a.n(b);function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){w(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function w(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function C(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function k(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){C(i,n,s,r,o,"next",t)}function o(t){C(i,n,s,r,o,"throw",t)}r(void 0)}))}}var x={components:{NewHouseReport:f["default"],InputRange:o["a"],setReport:v["default"]},props:{tab:{type:String,default:"新房"}},data:function(){return{toggleReportDialog:!1,houesPlaceholderImg:c.a,config:h["a"].config,saleStatus:{1:{color:"orange-bg orange",label:"待售"},2:{color:"blue-bg blue",label:"即将开盘"},3:{color:"green-bg green",label:"在售"},4:{color:"red-bg red",label:"下期待开"},5:{color:"gray-bg gray",label:"已售罄"}},screen:{areas:[],propertyType:[{value:"",label:"全部"},{value:1,label:"住宅"},{value:2,label:"公寓"},{value:3,label:"别墅"},{value:4,label:"写字楼"},{value:5,label:"商铺"}]},totalNum:0,backUpData:{price:[],inputPrice:[],size:[],inputSize:[],floorNum:[],selectedAreaIds:[]},configData:{regionId:null,areaIds:[],estateName:"",scope:"",averagePriceRange:[],areaRange:[],houseType:[],propertyType:[],saleStatusList:[],openDays:[],commissionRange:[],pageNum:1,pageSize:10},obj:{areaIds:[],areaRange:[{max:0,min:0}],averagePriceRange:[{max:0,min:0}],commissionRange:[{max:0,min:0}],estateName:"string",houseType:["1"],isFocus:!1,openDays:[0],pageNum:0,pageSize:0,propertyType:["1"],regionId:0,regionName:"string",saleStatusList:["1"],scope:"string",siteId:0},estateId:null,estateName:null,tableData:[],areaActive:-1,areaList:[],reportDialog:!1,setReportDialog:!1,currentItem:{}}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){var t=this;return k(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getAreas();case 2:t.configData.estateName=t.$route.query.search,t.handleQuery(),t.search();case 5:case"end":return e.stop()}}),e)})))()},methods:{handleQuery:function(){var t=this.$route.query,e=t.value,a=t.type;if(e&&a)switch(a){case"keyword":this.configData.estateName=e;break;case"area":this.configData.regionId=e,this.areaActive=this.screen.areas.findIndex((function(t){return t.id==e})),this.areaList=this.screen.areas[this.areaActive].children,this.configData.areaIds=[""];break;case"price":this.backUpData.price.push(e),this.configData.commissionRange=Object(m["l"])(this.backUpData.price,3e4);break}},showReport:function(t){this.showReporterList=t,this.reportDialog=!0},setReport:function(t){this.currentItem=t,this.setReportDialog=!0},report:function(t){this.toggleReportDialog=!0,this.estateId=t.estateId,this.estateName=t.estateName},chooseArea:function(t,e){this.areaActive=t,-1!==t&&(this.areaList=e.children,this.configData.areaIds=[""],this.configData.regionId=e.id),this.search()},handleAreaChange:function(t,e){"ISALL"===e?t&&(this.configData.areaIds=[""]):this.configData.areaIds=this.configData.areaIds.map((function(t){if(""!==t)return t})),this.search()},handleCurrentChange:function(t){this.search(t)},likeHouse:function(t){var e="新房"==this.tab?"4":"1",a=!t.isFocus,n={id:t.estateId,focusFlag:a,focusType:e};Object(u["q"])(n).then((function(e){e&&(t.isFocus=a)}))},handleClickAll:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"全部",a=t.indexOf(e);return-1!=a&&a!=t.length-1&&t.splice(a,1),t.length>1&&t[t.length-1]==e&&(t=[e]),t},handleStatusChange:function(t,e){this.configData[e]=this.handleClickAll(t,""),this.search()},sizeInputChange:function(t){this.configData.areaRange=Object(m["l"])(this.backUpData.size),this.configData.areaRange.push({min:t[0],max:t[1]}),this.search()},priceInputChange:function(t){this.configData.averagePriceRange=Object(m["l"])(this.backUpData.price),this.configData.averagePriceRange.push({min:t[0],max:t[1]}),this.search()},handlePriceChange:function(t,e,a){this.configData[a]=Object(m["l"])(t,e),this.search()},clearQuery:function(){for(var t in this.configData)this.configData[t]=[];for(var e in this.backUpData)this.backUpData[e]=[];this.configData.estateName="",this.configData.pageNum=0,this.configData.pageSize=10},jump:function(t){this.$navigateTo({query:{id:t.estateId,title:"房源详情-".concat(t.estateName)},path:"/work/newHouse/detail/".concat(t.estateId)})},getAreas:function(){var t=this;return k(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(d["b"])(a);case 3:n=e.sent,n&&(t.screen.areas=n);case 5:case"end":return e.stop()}}),e)})))()},search:function(t){var e=this;return k(r.a.mark((function a(){var n,s,i,o;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=JSON.parse(JSON.stringify(e.configData)),n.pageNum=1,"number"==typeof t&&(n.pageNum=t,e.configData.pageNum=t),a.t0=r.a.keys(n);case 4:if((a.t1=a.t0()).done){a.next=11;break}if(s=a.t1.value,Array.isArray(n[s])){a.next=8;break}return a.abrupt("continue",4);case 8:for(i=0;i<n[s].length;i++)""!=n[s][i]&&null!=n[s][i]&&"全部"!=n[s][i]||n[s].splice(i,1);a.next=4;break;case 11:return n.siteId=e.site.id,a.next=14,Object(u["g"])(n);case 14:o=a.sent,o&&(e.tableData=o.list,e.totalNum=o.total);case 16:case"end":return a.stop()}}),a)})))()},toFYB:function(t,e){return k(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(p["d"])();case 2:n=a.sent,s="",a.t0=e,a.next=1===a.t0?7:2===a.t0?9:3===a.t0?11:13;break;case 7:return s="/estate/dictionary/baseInfo",a.abrupt("break",13);case 9:return s="/estate/distribution/channel",a.abrupt("break",13);case 11:return s="/workbench/estate",a.abrupt("break",13);case 13:n&&(i=y(y({},n),{},{toPage:s}),t.estateId&&(i=y(y({},i),{},{estateId:t.estateId})),"pcn.fangmao.com"==location.hostname?window.open("https://vip.fangyibao.cn/#/login?".concat(g.a.stringify(i))):window.open("http://47.99.186.69/fyb/#/login?".concat(g.a.stringify(i))));case 14:case"end":return a.stop()}}),a)})))()},toPhoto:function(t){var e=this;return k(r.a.mark((function a(){var n,s,i,o,l;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={estateId:null,estateLogo:"",estateName:"",inDate:"",inUser:"",shelvesStatus:null,visibleRange:null},s=e.$forObj(t,n,!1),a.next=4,Object(p["d"])();case 4:i=a.sent,o="/workbench/estate",i&&(l=y(y({},i),{},{toPage:o}),t.estateId&&(l=y(y({},l),{},{estateId:t.estateId})),l=y(y({},l),{},{toPhoto:JSON.stringify(s)}),"pcn.fangmao.com"==location.hostname?window.open("https://vip.fangyibao.cn/#/login?".concat(g.a.stringify(l))):window.open("http://47.99.186.69/fyb/#/login?".concat(g.a.stringify(l))));case 7:case"end":return a.stop()}}),a)})))()}}},D=x,I=(a("6935"),a("2877")),S=Object(I["a"])(D,n,s,!1,null,"0ec10c2c",null);e["default"]=S.exports},"7e18":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"swiper"},[a("div",{staticClass:"swiper-header"},[a("el-image",{staticClass:"img",attrs:{fit:"cover",src:t.currentImgSrc},on:{click:t.previewPic}},[a("img",{staticClass:"error-img",attrs:{slot:"error",src:t.communityError},slot:"error"})]),t._v(" "),a("p",{staticClass:"flex-between"},[a("span",{staticClass:"ellipsis"},[t._v("\n        "+t._s(t.photos[t.activeIndex]&&t.photos[t.activeIndex].description)+"\n      ")]),t._v(" "),a("span",{staticClass:"ta-right",staticStyle:{width:"50px"}},[t._v("\n        "+t._s(t.activeIndex+1)+"/"+t._s(t.photos.length)+"\n      ")])])],1),t._v(" "),a("div",{staticClass:"swiper-main"},[a("swiper",{ref:"mySwiper",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.swiperOption}},t._l(t.photos,(function(e,n){return a("swiper-slide",{key:n},[a("el-image",{staticClass:"img",attrs:{fit:"cover",src:e.fileUrl||e.filePath},on:{click:function(e){e.stopPropagation(),t.activeIndex=n}}},[a("img",{attrs:{slot:"error",src:t.communityError},slot:"error"})])],1)})),1),t._v(" "),t.photos.length?t._e():a("span",{staticClass:"fm-empty"},[t._v("暂无数据")]),t._v(" "),a("div",{staticClass:"btn",staticStyle:{left:"0"},on:{click:function(e){return e.stopPropagation(),t.slidePrev(e)}}},[a("svg-icon",{attrs:{"icon-class":"left"}})],1),t._v(" "),a("div",{staticClass:"btn",staticStyle:{left:"260px"},on:{click:function(e){return e.stopPropagation(),t.slideNext(e)}}},[a("svg-icon",{attrs:{"icon-class":"right"}})],1)],1)])},s=[],i=(a("dfa4"),a("7212")),r=a("6d5c"),o=a.n(r),l={props:{photos:{type:Array,default:function(){return[]}}},components:{swiper:i["swiper"],swiperSlide:i["swiperSlide"]},data:function(){return{communityError:o.a,swiperOption:{slidesPerView:3,spaceBetween:5},activeIndex:0}},computed:{swiper:function(){return this.$refs.mySwiper&&this.$refs.mySwiper.swiper},currentImgSrc:function(){var t="";return t=this.photos[this.activeIndex]?this.photos[this.activeIndex].fileUrl||this.photos[this.activeIndex].filePath:this.photos[0]||"",t}},methods:{slidePrev:function(){this.activeIndex>0&&(this.swiper.slidePrev(),this.activeIndex--)},slideNext:function(){this.activeIndex+1<this.photos.length&&(this.swiper.slideNext(),this.activeIndex++)},previewPic:function(){var t=this.photos.map((function(t){return t.fileUrl||t.filePath})),e={urlList:t,index:this.activeIndex};this.$root.$emit("showPreview",e)}}},c=l,u=(a("75b4"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"032d7a60",null);e["a"]=d.exports},"7e71":function(t,e,a){t.exports=a.p+"img/house.c9198974.jpg"},"7efb":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-col"},[a("div",{staticClass:"flex1 flex-around"},[a("div",[t.imgList[0]?a("el-image",{key:t.imgList[0],staticClass:"cell",attrs:{fit:"cover",src:t.imgList[0],"preview-src-list":t.imgList}}):a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",accept:"image/*",data:t.uploadData,"on-progress":function(){t.loading=!0},"on-success":t.uploadSuccess,"show-file-list":!1}},[a("el-image",{staticClass:"cell",attrs:{fit:"fill",src:t.sfz}})],1),t._v(" "),a("p",{staticClass:"h1 ta-center color9"},[t._v("\n        头像页\n      ")])],1),t._v(" "),a("div",[t.imgList[1]?a("el-image",{key:t.imgList[1],staticClass:"cell",attrs:{fit:"cover",src:t.imgList[1],"preview-src-list":[t.imgList[1],t.imgList[0]]}}):a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}],ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",accept:"image/*",data:t.uploadData,"on-progress":function(){t.loading2=!0},"on-success":t.uploadSuccess2,"show-file-list":!1}},[a("el-image",{staticClass:"cell",attrs:{fit:"fill",src:t.sfz2}})],1),t._v(" "),a("p",{staticClass:"h1 ta-center color9"},[t._v("\n        国徽页\n      ")])],1)]),t._v(" "),a("div",{staticClass:"flex-end h4 mt20"},[t.isUploaded?[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload"},on:{click:t.clearImg}},[t._v("\n        重新上传\n      ")]),t._v(" "),a("el-button",{staticClass:"ml10",attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:t.delImg}},[t._v("\n        删除图片\n      ")])]:t.imgList[0]&&t.imgList[1]&&!t.isUploaded?[a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("\n        取消\n      ")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.createFile(!1)}}},[t._v("\n        保存\n      ")])]:t._e()],2)])},s=[],i=a("a34a"),r=a.n(i),o=a("c4e8"),l=a.n(o),c=a("3633"),u=a.n(c),d=a("1fa6");function p(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){p(i,n,s,r,o,"next",t)}function o(t){p(i,n,s,r,o,"throw",t)}r(void 0)}))}}var f={props:{id:{type:[Number,String],required:!0},data:{type:Object,required:!0}},data:function(){return{sfz:l.a,sfz2:u.a,imgList:[],refresh:!0,isUploaded:!1,loading:!1,loading2:!1}},computed:{baseURL:function(){return window.baseURL},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},uploadData:function(){var t=this.token,e=this.userId;return{token:t,userId:e}}},created:function(){if(this.data&&this.data.files){var t=JSON.parse(JSON.stringify(this.data.files));this.imgList=t,t&&t.length&&t[0]&&t[1]&&(this.isUploaded=!0)}},methods:{uploadSuccess:function(t){this.loading=!1,this.refresh=!1;var e=t.data[0];this.imgList[0]=e.fileUrl,this.refresh=!0},clearImg:function(){this.imgList=[]},delImg:function(){this.clearImg(),this.createFile(!0)},uploadSuccess2:function(t){this.loading2=!1,this.refresh=!1;var e=t.data[0];this.imgList[1]=e.fileUrl,this.refresh=!0},createFile:function(t){var e=this;return m(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=[],t||(n=e.imgList),s={fileType:e.data.fileType,files:n},a.next=5,Object(d["b"])(e.id,s);case 5:i=a.sent,i&&(e.isUploaded=!0,e.$emit("refresh"));case 7:case"end":return a.stop()}}),a)})))()}}},v=f,h=(a("a48c"),a("2877")),b=Object(h["a"])(v,n,s,!1,null,"350f1f3a",null);e["default"]=b.exports},"7f56":function(t,e,a){},"7ff8":function(t,e,a){"use strict";var n=a("b810"),s=a.n(n);s.a},"813d":function(t,e,a){"use strict";var n=a("1852"),s=a.n(n);s.a},"82b2":function(t,e,a){},8342:function(t,e,a){"use strict";var n=a("b762"),s=a.n(n);s.a},8346:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dao-box"},[a("div",{staticClass:"main"},[a("div",{staticClass:"title"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.addSite}},[t._v("\n        添加站点\n      ")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sites,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序",sortable:"",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"站点名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{class:{red:e.row.disabled}},[t._v("\n              "+t._s(e.row.disabled?"禁用":"启用")+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inUserStr",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inDateStr",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.editSite(e.$index,e.row)}}},[t._v("\n              编辑\n            ")]),t._v(" "),a("el-button",{staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.deleteSite(e.$index,e.row)}}},[t._v("\n              删除\n            ")])]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{"close-on-click-modal":!1,title:"创建/编辑站点",visible:t.siteFlag},on:{"update:visible":function(e){t.siteFlag=e}}},[a("el-form",{ref:"siteForm",attrs:{model:t.siteForm,"label-width":"150px","label-position":"top"}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"站点名称",prop:"name",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.siteForm.name,callback:function(e){t.$set(t.siteForm,"name",e)},expression:"siteForm.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.siteForm.sort,callback:function(e){t.$set(t.siteForm,"sort",t._n(e))},expression:"siteForm.sort"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"站点管理员",prop:"siteManagerName",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"text",disabled:t.nameFlag,autocomplete:"off"},nativeOn:{click:function(e){e.stopPropagation(),t.nameFlag=!1}},model:{value:t.siteForm.siteManagerName,callback:function(e){t.$set(t.siteForm,"siteManagerName",e)},expression:"siteForm.siteManagerName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号",prop:"siteManagerCellphone",rules:[t.rules.tel]}},[a("el-input",{attrs:{type:"text",disabled:t.telFlag,autocomplete:"off"},nativeOn:{click:function(e){e.stopPropagation(),t.telFlag=!1}},model:{value:t.siteForm.siteManagerCellphone,callback:function(e){t.$set(t.siteForm,"siteManagerCellphone",e)},expression:"siteForm.siteManagerCellphone"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"站点状态",prop:"disabled",rules:[t.rules.required()]}},[a("el-radio-group",{model:{value:t.siteForm.disabled,callback:function(e){t.$set(t.siteForm,"disabled",e)},expression:"siteForm.disabled"}},[a("el-radio-button",{attrs:{label:!1}},[t._v("启用")]),t._v(" "),a("el-radio-button",{attrs:{label:!0}},[t._v("禁用")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"房易宝站点",prop:"companyCode",rules:[t.rules.required()]}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.siteForm.companyCode,callback:function(e){t.$set(t.siteForm,"companyCode",e)},expression:"siteForm.companyCode"}},t._l(t.siteList,(function(t){return a("el-option",{key:t.companyCode,attrs:{label:t.name,value:t.companyCode}})})),1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"save"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("acb0"),l=a("e31e"),c=a("db49");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={disabled:!1,name:"",companyCode:"",sort:null,siteManagerName:"",siteManagerCellphone:""},m={data:function(){return{siteFlag:!1,siteForm:JSON.parse(JSON.stringify(p)),siteList:[],sites:[],nameFlag:!0,telFlag:!0}},computed:{rules:function(){return c["a"].rules}},created:function(){this.getSites()},mounted:function(){this.fybSites()},methods:{getSites:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["v"])();case 2:a=e.sent,t.sites=a;case 4:case"end":return e.stop()}}),e)})))()},addSite:function(){var t=this;this.siteForm=JSON.parse(JSON.stringify(p)),this.nameFlag=!1,this.telFlag=!1,this.siteFlag=!0,this.$nextTick((function(){t.$refs.siteForm.clearValidate(),t.siteForm=JSON.parse(JSON.stringify(p))}))},editSite:function(t,e){this.siteForm=e,this.nameFlag=!0,this.telFlag=!0,this.siteFlag=!0},deleteSite:function(t,e){var a=this;return d(r.a.mark((function t(){var n,s;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={id:e.id},t.next=3,Object(o["h"])(n);case 3:s=t.sent,s&&(a.$store.dispatch("settings/getUserInfo"),a.getSites());case 5:case"end":return t.stop()}}),t)})))()},save:function(){var t=this;this.$refs.siteForm.validate(function(){var e=d(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return n=t.siteForm,e.next=4,Object(o["m"])(n);case 4:s=e.sent,s&&(t.$store.dispatch("settings/getUserInfo"),t.getSites()),t.siteFlag=!1,e.next=10;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fybSites:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])();case 2:a=e.sent,t.siteList=a;case 4:case"end":return e.stop()}}),e)})))()}}},f=m,v=(a("6841"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"6a38bc13",null);e["default"]=h.exports},8474:function(t,e,a){"use strict";var n=a("70ec"),s=a.n(n);s.a},8490:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"look-key"},[a("div",{staticClass:"l"},t._l(t.tabList,(function(e,n){return a("div",{key:n,staticClass:"cell",class:{active:t.active===n},on:{click:function(e){t.active=n}}},[t._v("\n      "+t._s(e)+"\n    ")])})),0),t._v(" "),t.active?a("div",{staticClass:"r2"},[a("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:t.keyInfo.borrowHistory,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"borrowUserInfo",label:"借用人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"borrowDate",label:"借用时间"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"归还时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.returnDate?a("p",[t._v("\n            "+t._s(e.row.returnDate)+"\n            "),e.row.borrowRemark?a("span",[t._v("\n              ("+t._s(e.row.borrowRemark)+")\n            ")]):t._e()]):a("p",{class:{red:1==e.row.moreThanLimitHour}},[t._v("\n            "+t._s(e.row.borrowRemark)+"\n          ")])]}}])})],1)],1):a("div",{staticClass:"r"},[a("div",{staticClass:"t bd3-b"},[a("p",{staticClass:"flex-between h5 bd3-b mt10"},[a("span",{staticClass:"color9"},[t._v("钥匙类型")]),t._v(" "),a("span",[t._v(t._s(t.keyInfo.keyTypeStr))])]),t._v(" "),a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("\n          "+t._s(1==t.keyType?"钥匙编号":"电子密码")+"\n        ")]),t._v(" "),a("span",[t._v(t._s(t.keyInfo.keyCode))])]),t._v(" "),a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("钥匙人")]),t._v(" "),a("span",[t._v(t._s(t.keyInfo.keyUserInfo))])]),t._v(" "),a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("当前状态")]),t._v(" "),1==t.keyInfo.useStatus?a("span",[t._v("在店")]):t._e(),t._v(" "),2==t.keyInfo.useStatus?a("span",{staticClass:"orange"},[t._v("锁定")]):t._e(),t._v(" "),3==t.keyInfo.useStatus?a("span",{staticClass:"red"},[t._v("他借")]):t._e()]),t._v(" "),a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("收钥日期")]),t._v(" "),a("span",[t._v(t._s(t.keyInfo.inDate))])]),t._v(" "),a("div",{staticClass:"bd3-b"},[a("p",{staticClass:"color9 h1 mt5"},[t._v("备注信息")]),t._v(" "),a("p",{staticClass:"mt5 mb5"},[t._v(t._s(t.keyInfo.remarkContent||" "))])]),t._v(" "),a("div",{staticClass:"mb10"},[a("p",{staticClass:"color9 h1 mt5 mb10"},[t._v("相关附件")]),t._v(" "),a("div",{staticClass:"grid"},t._l(t.keyInfo.files,(function(t,e){return a("el-image",{key:e,attrs:{fit:"cover",src:t}})})),1)])]),t._v(" "),a("div",{staticClass:"b flex-center"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showKey=!0}}},[t._v("\n        编辑钥匙\n      ")]),t._v(" "),1==t.keyInfo.useStatus?a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showBorrow=!0}}},[t._v("\n        业主借用\n      ")]):t._e(),t._v(" "),1==t.keyInfo.useStatus?a("el-button",{attrs:{size:"small",type:"danger"},on:{click:t.confirm}},[t._v("\n        退还业主\n      ")]):t._e(),t._v(" "),1==t.keyInfo.useStatus?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.showApplyBorrow=!0}}},[t._v("\n        申请借用\n      ")]):t._e(),t._v(" "),3==t.keyInfo.useStatus?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.confirm(2)}}},[t._v("\n        归还钥匙\n      ")]):t._e()],1)]),t._v(" "),a("window2",{attrs:{hasFooter:!0},model:{value:t.showBorrow,callback:function(e){t.showBorrow=e},expression:"showBorrow"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      业主借用钥匙\n    ")]),t._v(" "),a("div",{staticClass:"pd20 mb10",attrs:{slot:"main"},slot:"main"},[a("p",{staticClass:"flex-between h5 bd3-b mb10"},[a("span",{staticClass:"color9"},[t._v("钥匙信息")]),t._v(" "),a("span",[t._v("\n          "+t._s(t.keyInfo.keyTypeStr)+"\n          "),1==t.keyType?[t._v("\n            (编号"+t._s(t.keyInfo.keyCode)+")\n          ")]:t._e()],2)]),t._v(" "),a("div",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"借用钥匙理由"},model:{value:t.borrowReason,callback:function(e){t.borrowReason=e},expression:"borrowReason"}})],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showBorrow=!1}}},[t._v("\n        取消\n      ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n        提交\n      ")])],1)]),t._v(" "),a("window2",{model:{value:t.showApplyBorrow,callback:function(e){t.showApplyBorrow=e},expression:"showApplyBorrow"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      申请借用钥匙\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("apply-borrow",{attrs:{keyInfo:t.keyInfo},on:{refresh:t.refresh,close:function(e){t.showApplyBorrow=!1}}})],1)]),t._v(" "),a("window2",{model:{value:t.showKey,callback:function(e){t.showKey=e},expression:"showKey"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      编辑钥匙\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("submit-key",{attrs:{keyInfo:t.keyInfo,id:t.id},on:{refresh:t.refresh,close:function(e){t.showKey=!1}}})],1)])],1)},s=[],i=a("a34a"),r=a.n(i),o=a("9a2e"),l=a("b964"),c=a("e405"),u=a("0ab7");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={props:{id:{type:[Number,String],required:!0}},components:{Window2:l["a"],ApplyBorrow:c["default"],SubmitKey:u["default"]},data:function(){return{active:0,tabList:["钥匙信息","借用记录"],showBorrow:!1,borrowReason:"",showApplyBorrow:!1,showKey:!1,keyInfo:{}}},watch:{showBorrow:function(t){t&&(this.borrowReason="")}},computed:{keyType:function(){var t=this.keyInfo.keyType||2;return t}},created:function(){this.detailKey()},methods:{refresh:function(){this.detailKey()},detailKey:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.id);case 2:a=e.sent,t.keyInfo=a;case 4:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},save:function(){var t=this;return p(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.borrowReason,n=t.keyInfo,a){e.next=4;break}return t.$showError("借用钥匙理由不能为空"),e.abrupt("return");case 4:return s={borrowReason:a,isOwner:!0,keyId:n.id},e.next=7,Object(o["a"])(s);case 7:i=e.sent,i&&(t.showBorrow=!1,t.refresh(),t.$root.$emit("houseDetailRefresh"));case 9:case"end":return e.stop()}}),e)})))()},confirm:function(t){var e=this,a=o["e"],n="退还业主",s="el-button--danger",i="退还钥匙后，当前钥匙所有数据将删除?",l="退还";2===t&&(a=o["d"],n="归还钥匙",s="",i="您确定要归还钥匙?",l="确认"),this.$confirm(i,n,{confirmButtonClass:s,confirmButtonText:l,type:"warning"}).then(p(r.a.mark((function t(){var s,i;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={id:e.keyInfo.id},t.next=3,a(s);case 3:i=t.sent,i&&(e.$showSuccess("".concat(n,"成功")),e.close(),e.$root.$emit("houseDetailRefresh"));case 5:case"end":return t.stop()}}),t)})))).catch((function(){}))}}},f=m,v=(a("87c1"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"645925a6",null);e["default"]=h.exports},8524:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"pd20 mb20 mt20"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px","label-position":"top"}},[a("div",{staticClass:"grid bd3-b mb10"},[a("el-form-item",{attrs:{label:"房号",prop:"houseNoId",rules:[t.rules.required()]}},[a("el-cascader",{attrs:{clearable:"",options:t.houses,props:{value:"idStr",label:"name"}},model:{value:t.form.houseNoId,callback:function(e){t.$set(t.form,"houseNoId",e)},expression:"form.houseNoId"}})],1)],1)]),t._v(" "),a("div",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"变更理由"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1)],1),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("f803"),l=a("ba19"),c=a("db49");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{id:{type:[Number,String],required:!0},communityId:{type:[Number,String],required:!0},address:{type:Object,required:!0}},data:function(){return{rules:c["a"].rules,reason:"",form:{houseNoId:null},houses:[],houseId:null}},created:function(){this.initHouse(),this.getHouses()},methods:{initHouse:function(){var t=this.address,e=t.buildingId,a=t.unitId,n=t.floorId,s=t.houseNoId,i=t.houseId,r=[e];a&&r.push(a),r.push(n),r.push(s),this.houseId=i,this.form.houseNoId=r.map((function(t){return String(t)}))},close:function(){this.$emit("close")},getHouses:function(){var t=this;return d(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={type:1,id:t.houseId},e.next=3,Object(o["n"])(t.communityId,a);case 3:n=e.sent,t.houses=n;case 5:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return d(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.form.validate(function(){var e=d(r.a.mark((function e(a){var n,s,i,o,c,u;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=t.reason,s=t.form,i=s.houseNoId,o=i[i.length-1],c={houseNoId:o,reason:n},e.next=8,Object(l["b"])(t.id,c);case 8:u=e.sent,u&&(t.$showSuccess("变更地址成功"),t.close());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()}}},m=p,f=(a("1773"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"6181086a",null);e["default"]=v.exports},8563:function(t,e,a){"use strict";var n=a("920f"),s=a.n(n);s.a},"859c":function(t,e,a){},"859d":function(t,e,a){},"85e0":function(t,e,a){},"85e1":function(t,e,a){},8604:function(t,e,a){t.exports=a.p+"img/resolve.69a090d7.png"},8611:function(t,e,a){},8634:function(t,e,a){"use strict";var n=a("ed4b"),s=a.n(n);s.a},"867f":function(t,e,a){},8740:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qjg2NzVFNkUwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qjg2NzVFNkYwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCODY3NUU2QzBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCODY3NUU2RDBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvZODp0AAANiSURBVHja7JpriIxRGMffYdcum3shbco3pdS2LIq0iyVyK/MBRYqycltffFAIoSzKtfUFba4T+bCxyp2dRLknLRJLuUW7Zu1Ydsf/af5T2+x57ezOOWfeiad+vbPve3Zm/vM+5zn/c87ri0QijioCgYCTROSB8+AUWKe43hOcBLkgHzQr2qwHa0AxeNDRL+D3+5Xnuzj6YxS4AoaAkOJ6X3AZTAeNoEXRZhfYCjLZRlvoFixiKnncBrYo2hwGBSAIpoL4FJsP1oI6MBk897LgIjAA3GFKxkcGmAl+gzkU1SYbeSwF93Snn27B31sJU4Wkbxh0BdkubRp4zDTQ3bQLvgbegJFgsYvgCuADe13e4wSPm5ktnhb8Cyxjv9wDeijabAJvwSwSHxfAGTDQpQYkFRkGsqaKQ1EB+2p8fAFz+YPUurzHUpAFnqSDYImd7VyXYjTuL9frwex06MOeD513eCgYwUKTw5RMNsLsAo/AU68IltTbQDtpMsSAbGRBS4lg6Q77wHL+/QrcAp8U7smhRQx38DOkyg8GE8EwcBpMAiUu/tuo4DKKFbOxkuNri6G7K+P2PHCAFVx+uFU2i5YYi9WgiX74mEGxDjNGDMkEOrEVYLxNwaX83x2cBNiKx5yU+PgdrKX0FB7PcWZkMwKcOhbTkzebFtwb9OfrhykcUnNY0GpNp/QPcNfFNtoK+ez74KuNlJYJwuh0dVr/nLX8L1gRQY6D6cANHX041l8/sGB5MfqAfomYkUQEi5uS9afczvpXS7M+KaY/daR0Yyt759WIDZFaBL/msRwcpdmQu16paJvPKVx3wwJl1yLEsfggWMTzn3WkdDlZEndetUQjM5iFTnRnodqg4OF0WnmkhOcP6RAsOwXPwBjwHnwDF9t5v2xLqTwDDOJqy01wSZfTuk1iXjqR6ZyNCHbUXpoyHk0Wq7O1FQ9VVHEp5oVhoVmJVmUddzjEYaCX03b/p4KV+qNBsT72W8miOhuCxXzU8IOLUjDmjuWPXWNz8nCEx+2Oev/IVEj1L+PrszYF73ei+z4yBl4HhY65bZtYrSnk5EDu8Euw20qVY8gy6TQnutMnjzhcZZ9qMLic042vZUFeHpeotylY4p0TXa4Vl7OA7sfUgp74eXmw5TitZKef+/gjwADEC9lwXbxXCAAAAABJRU5ErkJggg=="},8749:function(t,e,a){},8792:function(t,e,a){"use strict";var n=a("78b9"),s=a.n(n);s.a},"879c":function(t,e,a){},"87c1":function(t,e,a){"use strict";var n=a("6fe6"),s=a.n(n);s.a},8801:function(t,e,a){"use strict";var n=a("3822"),s=a.n(n);s.a},8820:function(t,e,a){},"88e7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"square"},[a("div",{staticClass:"search"},[a("div",{staticClass:"t"},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"搜索小区名称、别名","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.configData.communityName,callback:function(e){t.$set(t.configData,"communityName",e)},expression:"configData.communityName"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("搜索小区")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.cjxq,expression:"cjxq"}],attrs:{size:"small",type:"primary"},on:{click:t.toCommunityEdit}},[t._v("\n        建盘申请\n      ")])],1),t._v(" "),a("div",{staticClass:"b"},[a("div",{staticClass:"l"},[t._v("筛选")]),t._v(" "),a("div",{staticClass:"r"},[a("el-select",{staticClass:"select-w",attrs:{clearable:"",size:"mini","collapse-tags":"",placeholder:"范围"},on:{change:t.search},model:{value:t.configData.scope,callback:function(e){t.$set(t.configData,"scope",e)},expression:"configData.scope"}},t._l(t.config.communityScopeList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e+1}})})),1),t._v(" "),a("el-cascader",{staticClass:"select-w ml20",attrs:{clearable:"",size:"mini",placeholder:"区域","collapse-tags":"","show-all-levels":!1,props:{value:"id",label:"name"},options:t.areaList},on:{change:t.search},model:{value:t.configData.areaIds,callback:function(e){t.$set(t.configData,"areaIds",e)},expression:"configData.areaIds"}}),t._v(" "),a("el-select",{staticClass:"select-w ml20",attrs:{clearable:"",multiple:"",size:"mini","collapse-tags":"",placeholder:"类型"},on:{change:t.search},model:{value:t.configData.buildingTypes,callback:function(e){t.$set(t.configData,"buildingTypes",e)},expression:"configData.buildingTypes"}},t._l(t.config.buildingTypeList,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)])]),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"title color-bg"},[a("p",{staticClass:"color9"},[t._v("\n        共找到\n        "),a("span",{staticClass:"orange",staticStyle:{margin:"0 2px"}},[t._v(" "+t._s(t.total)+" ")]),t._v("\n        条记录\n      ")]),t._v(" "),a("p",{staticClass:"color6 ml10 pointer",on:{click:t.clearQuery}},[a("svg-icon",{staticClass:"icon color3",attrs:{"icon-class":"clear"}}),t._v(" "),a("span",{staticClass:"text"},[t._v("清空条件")])],1)]),t._v(" "),t.tableData&&t.tableData.length?a("div",{staticClass:"content white-bg"},t._l(t.tableData,(function(e){return a("div",{key:e.id,staticClass:"cell",on:{click:function(a){return t.jump(e.id,e.communityName)}}},[a("div",{staticClass:"l flex"},[a("el-image",{staticClass:"img l-l",attrs:{fit:"cover",src:e.communityCoverImage}},[a("img",{attrs:{slot:"error",src:t.communityError},slot:"error"})]),t._v(" "),a("div",{staticClass:"l-r ml10 height"},[a("div",[a("p",[a("span",{staticClass:"fs18 color3 bold"},[t._v(t._s(e.communityName))]),t._v(" "),e.anotherName?a("span",{staticClass:"color6 ml10"},[t._v("\n                  别名："+t._s(e.anotherName)+"\n                ")]):t._e()])]),t._v(" "),a("div",{staticClass:"color6"},[a("div",{staticClass:"flex"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"community"}}),t._v(" "),a("p",{staticClass:"ml10"},[a("span",[t._v(t._s(e.areaName))]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(e.tradingAreaName))]),t._v(" "),e.buildingType&&e.buildingType.length?a("span",[a("span",{staticClass:"ml5"},[t._v("|")]),t._v(" "),a("span",{staticClass:"ml5"},t._l(e.buildingType,(function(e,n){return a("span",{key:n},[t._v("\n                        "+t._s(e)+"\n                      ")])})),0)]):t._e(),t._v(" "),e.buildingTime?a("span",[a("span",{staticClass:"ml5"},[t._v("|")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(e.buildingTime)+"年建")])]):t._e()])],1),t._v(" "),a("div",{staticClass:"flex mt10"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"look"}}),t._v(" "),a("p",{staticClass:"ml10 fs13"},[a("span",[t._v("最近7天带看")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(e.takeCustomerCount)+"次")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v("/")]),t._v(" "),a("span",{staticClass:"ml5"},[t._v(t._s(e.listingTime)+"挂牌")])])],1)])])],1),t._v(" "),a("div",{staticClass:"r flex-end"},[a("div",{staticClass:"height flex-end"},[a("div",{staticClass:"ta-right height",staticStyle:{width:"110px"}},[a("p",{staticClass:"color3"},[a("span",{staticClass:"fs20"},[t._v(t._s(e.sellHouseCount))]),t._v(" "),a("span",[t._v("套")])]),t._v(" "),a("p",{staticClass:"color9 fs13"},[t._v("\n                在售二手房\n              ")])]),t._v(" "),a("div",{staticClass:"ta-right height",staticStyle:{width:"110px"}},[a("p",{staticClass:"color3"},[a("span",{staticClass:"fs20"},[t._v(t._s(e.leaseHouseCount))]),t._v(" "),a("span",[t._v("套")])]),t._v(" "),a("p",{staticClass:"color9 fs13"},[t._v("\n                出租中房源\n              ")])])]),t._v(" "),a("div",{staticClass:"ta-right height flex-between-col",staticStyle:{width:"225px"}},[e.sellHouseAveragePrice?a("div",[a("p",{staticClass:"red bold"},[a("span",{staticClass:"fs20"},[t._v(t._s(e.sellHouseAveragePrice))]),t._v(" "),a("span",[t._v("元/㎡")])]),t._v(" "),a("p",{staticClass:"color9 fs13"},[e.month?[t._v("\n                  "+t._s(e.month)+"月份二手房\n                ")]:t._e(),t._v("\n                参考均价\n              ")],2)]):a("div",[a("p",{staticClass:"bold"},[t._v("\n                暂无均价\n              ")])]),t._v(" "),a("div",[e.isFocus?a("p",[a("svg-icon",{staticClass:"icon pointer color9",attrs:{"icon-class":"love2"},on:{click:function(a){return a.stopPropagation(),t.focus({focusFlag:!1,focusType:1,id:e.id})}}})],1):a("p",[a("svg-icon",{staticClass:"icon pointer color9",attrs:{"icon-class":"love"},on:{click:function(a){return a.stopPropagation(),t.focus({focusFlag:!0,focusType:1,id:e.id})}}})],1)])])])])})),0):a("div",{staticClass:"white-bg flex-center fs20",staticStyle:{height:"100px"}},[t._v("\n      暂无数据\n    ")])]),t._v(" "),a("div",{staticClass:"fm-pagination",staticStyle:{"padding-bottom":"30px"}},[a("el-pagination",{attrs:{"current-page":t.configData.pageNum,background:"","page-size":t.configData.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.configData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.configData,"pageNum",e)},"current-change":t.handleCurrentChange}})],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("7998"),c=a("acb0"),u=a("6d5c"),d=a.n(u);function p(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){p(i,n,s,r,o,"next",t)}function o(t){p(i,n,s,r,o,"throw",t)}r(void 0)}))}}var f={areaIds:[],buildingTypes:[],communityName:"",communityStatus:[],communityStatusType:"1",scope:"",siteId:"",pageNum:1,pageSize:10},v={data:function(){return{config:o["a"].config,rules:o["a"].rules,communityError:d.a,configData:JSON.parse(JSON.stringify(f)),areaList:[],total:0,tableData:[]}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){this.getAreas(),this.getCommunityPage()},methods:{search:function(){this.configData.pageNum=1,this.getCommunityPage()},clearQuery:function(){this.configData=JSON.parse(JSON.stringify(f)),this.search()},handleCurrentChange:function(t){this.configData.pageNum=t,this.getCommunityPage()},getCommunityPage:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.configData,a.siteId=t.site.id,e.next=4,Object(l["p"])(a);case 4:n=e.sent,t.total=n.total,t.tableData=n.list;case 7:case"end":return e.stop()}}),e)})))()},getAreas:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(c["c"])(a);case 3:n=e.sent,t.areaList=n;case 5:case"end":return e.stop()}}),e)})))()},focus:function(t){var e=this;return m(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t,a.next=3,Object(l["j"])(n);case 3:e.getCommunityPage();case 4:case"end":return a.stop()}}),a)})))()},jump:function(t,e){this.$getSelectionText()||this.$navigateTo({query:{id:t,title:"小区详情-".concat(e)},path:"/work/house/communityDetail/".concat(t)})},toCommunityEdit:function(){this.$navigateTo({path:"/work/house/communityEdit"})}}},h=v,b=(a("6f2c"),a("2877")),g=Object(b["a"])(h,n,s,!1,null,"5e584ad7",null);e["default"]=g.exports},"890a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"new-house-detail width1200"},[n("div",{staticClass:"summary"},[n("div",{staticClass:"summary-img"},[n("list-swiper",{attrs:{images:t.detail.images}})],1),t._v(" "),n("div",{staticClass:"summary-text y3"},[t.detail.isFocus?n("div",{staticClass:"like"},[n("svg-icon",{staticClass:"icon",attrs:{"icon-class":"love2"},on:{click:t.likeHouse}}),t._v(" "),n("p",[t._v("取消关注")])],1):n("div",{staticClass:"like"},[n("svg-icon",{staticClass:"icon",attrs:{"icon-class":"love"},on:{click:t.likeHouse}}),t._v(" "),n("p",[t._v("关注")])],1),t._v(" "),n("div",[n("div",{staticClass:"info-box"},[n("p",{staticClass:"bold fs26"},[t._v("\n            "+t._s(t.detail.estateName)+"\n          ")]),t._v(" "),n("p",{staticClass:"base-info color9"},[n("svg-icon",{attrs:{"icon-class":"map"}}),t._v("\n            "+t._s(t.detail.estateAddress)+"\n          ")],1),t._v(" "),n("p",{staticClass:"tags"},[t.detail.saleStatus?n("span",{class:[t.saleStatus[t.detail.saleStatus].color]},[t._v(t._s(t.saleStatus[t.detail.saleStatus].label))]):t._e(),t._v(" "),n("span",{staticClass:"blue-bg blue"},[t._v(t._s(t.detail.propertyTypes.join(",")))]),t._v(" "),t._l(t.characteristics,(function(e,a){return n("span",{directives:[{name:"show",rawName:"v-show",value:e,expression:"item"}],key:a},[t._v(t._s(e))])}))],2)]),t._v(" "),n("div",{staticClass:"sale-info"},[t.detail.unitPriceList.length?n("p",[n("span",[t._v("参考单价：")]),t._v(" "),t._l(t.detail.unitPriceList,(function(e,a){return n("span",{key:a,staticClass:"red"},[t._v("\n              "+t._s(e.priceDesc?e.priceDesc:e.priceFrom+"-")+t._s(e.priceTo)+"元/平米\n            ")])}))],2):t._e(),t._v(" "),t.detail.totalPriceList.length?n("p",[n("span",[t._v("参考总价：")]),t._v(" "),t._l(t.detail.totalPriceList,(function(e,a){return n("span",{key:a,staticClass:"red"},[t._v("\n              "+t._s(e.priceDesc?e.priceDesc:e.priceFrom+"-")+t._s(e.priceTo)+"元/套起\n            ")])}))],2):t._e(),t._v(" "),t.detail.totalPriceList.length||t.detail.unitPriceList.length?t._e():n("p",{staticClass:"red"},[t._v("\n            价格待定\n          ")]),t._v(" "),t.detail.openRecord.openDateDesc?n("p",[n("span",[t._v(t._s(1==t.detail.openRecord.openStatus?"预计开盘":"开盘日期")+"：")]),n("span",[t._v(t._s(t.detail.openRecord.openDateDesc||t.detail.openRecord.openDate))])]):t._e(),t._v(" "),t.detail.openRecord.propertyTypeName?n("p",[n("span",[t._v("物业类型：")]),n("span",[t._v(t._s(t.detail.openRecord.propertyTypeName))])]):t._e(),t._v(" "),t.detail.openRecord.areaTo?n("p",[n("span",[t._v("主推面积：")]),t._v(" "),n("span",[t._v("\n              "+t._s(t.detail.openRecord.areaFrom)+"-"+t._s(t.detail.openRecord.areaTo)+"㎡\n            ")])]):n("p",[n("span",[t._v("主推面积：")]),t._v(" "),n("span",[t._v("\n              "+t._s(t.detail.houseAreaFrom)+"-"+t._s(t.detail.houseAreaTo)+"\n              ㎡\n            ")])]),t._v(" "),t.detail.openRecord.decoration?n("p",[n("span",[t._v("装修情况：")]),n("span",[t._v(t._s(t.detail.openRecord.decoration))])]):t._e(),t._v(" "),t.detail.openRecord.preSalePermit?n("p",[n("span",[t._v("预售许可：")]),n("span",[t._v(t._s(t.detail.openRecord.preSalePermit))])]):t._e(),t._v(" "),t.detail.openRecord.preSaleRange?n("p",[n("span",[t._v("预售范围：")]),n("span",[t._v(t._s(t.detail.openRecord.preSaleRange))])]):t._e()])]),t._v(" "),n("div",{staticClass:"report-box y1"},[t.detail.distribution&&t.detail.requestCommissionerList.length?n("swiper",{ref:"reportSwiper",staticStyle:{height:"100%",width:"100%"},attrs:{options:t.swiperOption},nativeOn:{mouseover:function(e){t.toggleBtn=!0},mouseout:function(e){t.toggleBtn=!1}}},[t._l(t.detail.requestCommissionerList,(function(e,a){return n("swiper-slide",{key:a,staticClass:"report-box y1"},[n("div",{staticClass:"report-info x aic",staticStyle:{padding:"0 20px"}},[n("el-image",{staticStyle:{width:"85px",height:"85px","margin-right":"20px"},attrs:{fit:"cover",src:e.avatarPath}},[n("img",{staticClass:"error-img",attrs:{slot:"error",src:t.avatar},slot:"error"})]),t._v(" "),n("div",{staticClass:"y3 ",staticStyle:{height:"85px"}},[n("p",{staticClass:"x aic"},[n("span",{staticClass:"fs20 bold"},[t._v(t._s(e.realName))]),t._v(" "),n("span",{staticClass:"x1 aic fs12 color9",staticStyle:{width:"65px",height:"20px",background:"#f2f2f2","margin-left":"10px"}},[t._v("\n                    报备专员\n                  ")])]),t._v(" "),n("p",{staticClass:"fs12 color9"},[t._v("有任何报备、带看疑问，均可电话咨询")]),t._v(" "),n("p",{staticClass:"fs20 bold blue"},[t._v("\n                  "+t._s(t._f("formatPhone")(e.cellphone))+"\n                ")])])],1)])})),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleBtn,expression:"toggleBtn"}],staticClass:"swiper-button-prev",staticStyle:{filter:"grayscale(1)"},attrs:{slot:"button-prev"},on:{click:t.slidePrev},slot:"button-prev"}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleBtn,expression:"toggleBtn"}],staticClass:"swiper-button-next",staticStyle:{filter:"grayscale(1)"},attrs:{slot:"button-next"},on:{click:t.slideNext},slot:"button-next"})],2):t._e(),t._v(" "),t.detail.distribution&&!t.detail.requestCommissionerList.length?n("div",{staticClass:"report-info y3 aic",staticStyle:{background:"rgba(255, 251, 230, 1)",padding:"25px 0"}},[n("p",{staticClass:"orange"},[t._v("未设置报备专员，暂时无法报备")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){e.stopPropagation(),t.setReportDialog=!0}}},[n("span",[t._v("设置报备专员")]),t._v(" "),n("svg-icon",{attrs:{"icon-class":"qianyue"}})],1)],1):t._e(),t._v(" "),t.detail.distribution?t._e():n("div",{staticClass:"report-info x",staticStyle:{background:"#F4F8FE",padding:"15px 10px"}},[n("div",{staticStyle:{"margin-right":"20px"}},[n("svg-icon",{staticClass:"blue",staticStyle:{"font-size":"40px"},attrs:{"icon-class":"phone"}})],1),t._v(" "),n("div",{staticClass:"y3"},[n("p",{staticClass:"blue bold",staticStyle:{"font-size":"36px"}},[t._v("\n              "+t._s(t._f("formatPhone")(t.detail.marketPhone))+"\n            ")]),t._v(" "),n("p",{staticClass:"fs16 blue"},[t._v("欢迎致电售楼处，了解更多详情")])])])],1)])]),t._v(" "),n("div",{staticClass:"detail"},[n("scroll-box",{staticClass:"l-content",attrs:{navs:t.navs,navMarginBottom:0},on:{scrollout:function(e){t.toggleFixBtn=!1},scrollover:function(e){t.toggleFixBtn=!0}}},[n("div",{attrs:{slot:"main"},slot:"main"},[t.hasCommonRule?n("div",{staticClass:"rule"},[n("img",{staticClass:"xfxqbg",attrs:{src:t.xfxqbg}}),t._v(" "),n("img",{staticClass:"xfxqwz",attrs:{src:t.xfxqwz}}),t._v(" "),n("div",{staticClass:"rule-main"},[n("div",[n("div",[n("div",{staticClass:"x aic",staticStyle:{margin:"10px 0"}},[n("img",{staticClass:"rule-icon",attrs:{src:t.yjjl}}),t._v(" "),n("p",{staticClass:"fs16 bold"},[t._v("\n                    佣金奖励\n                  ")])]),t._v(" "),n("div",{staticStyle:{"padding-left":"46px"}},[t.commonRule.commissionList&&t.commonRule.commissionList.length?t._l(t.commonRule.commissionList,(function(e,a){return n("p",{key:a,staticClass:"red"},[t._v("\n                      "+t._s(t._f("toCircleNum")(a+1))+t._s(e.commissionDesc)+"\n                    ")])})):n("p",{staticClass:"color9"},[t._v("\n                    暂无佣金方案,具体请咨询项目对接人\n                  ")])],2)]),t._v(" "),n("div",[n("div",{staticClass:"x aic",staticStyle:{margin:"10px 0"}},[n("img",{staticClass:"rule-icon",attrs:{src:t.dkjl}}),t._v(" "),n("p",{staticClass:"fs16 bold"},[t._v("\n                    带看奖\n                  ")])]),t._v(" "),n("div",{staticStyle:{"padding-left":"46px"}},[t.commonRule.awardApply?n("p",{staticClass:"red"},[t._v("\n                    "+t._s(t.commonRule.awardApply.title)+"\n                    "),n("span",{staticClass:"link-btn",on:{click:function(e){return t.showRewardInfo(t.commonRule.awardApply)}}},[t._v("\n                      [查看详情]\n                    ")])]):n("p",{staticClass:"color9"},[t._v("暂无带看奖")])])])]),t._v(" "),n("div",[n("div",{staticClass:"x3 aic"},t._l(t.ruleMenu,(function(e,a){return n("div",{key:a,staticClass:"rule-menu x1 aic pointer",class:{active:a===t.ruleActive},on:{click:function(e){t.ruleActive=a}}},[t._v("\n                  "+t._s(e.name)+"\n                ")])})),0),t._v(" "),n("div",{staticClass:"color6"},[n("p",{domProps:{innerHTML:t._s(t.commonRule[t.ruleMenu[t.ruleActive].value])}})])])])]):t._e(),t._v(" "),t.hasHouseType?n("div",{staticClass:"house-type info-item"},[n("div",{staticClass:"title"},[n("h2",[t._v("楼盘户型")]),t._v(" "),n("el-radio-group",{attrs:{size:"mini"},model:{value:t.houseTypeIndex,callback:function(e){t.houseTypeIndex=e},expression:"houseTypeIndex"}},[t._l(t.houseTypeMenu,(function(e,a){return[e.list.length?n("el-radio-button",{key:a,attrs:{size:"mini",label:a}},[t._v(t._s(e.name)+"("+t._s(e.list.length)+")")]):t._e()]}))],2)],1),t._v(" "),t.urlList.length?n("house-type-swiper",{attrs:{urlList:t.urlList}}):t._e()],1):t._e(),t._v(" "),t.hasPlanData?n("div",{staticClass:"plan info-item"},[n("div",{staticClass:"title"},[n("h2",[t._v("楼栋/房源")]),t._v(" "),n("p",{staticClass:"tips"},[t._v("点击楼栋标签，显示相应楼栋数据")])]),t._v(" "),n("house-plan",{attrs:{data:t.planData},on:{clickBuidings:function(e){t.toggleParticularDialog=!0,t.budingsName=e}}})],1):t._e(),t._v(" "),n("div",{staticClass:"info-item"},[n("div",{staticClass:"title"},[n("h2",[t._v("楼盘详情")])]),t._v(" "),t.baseInfo?n("div",{staticClass:"detail-info"},[n("div",{staticClass:"info-cell"},[n("h3",[t._v("基本信息")]),t._v(" "),n("div",{staticClass:"wrap"},[n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("物业类型：")]),t._v(" "),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.baseInfo.propertyTypes.join("、"))+"\n                  ")])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("装修情况：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.decorationStandard))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("主推面积：")]),t._v(" "),t.baseInfo.houseAreaFrom?n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.baseInfo.houseAreaFrom)+"-"+t._s(t.baseInfo.houseAreaFrom)+"平米\n                  ")]):n("div",{staticClass:"value"})]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("项目地址：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.estateAddress))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("开发商：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.developerName))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("售楼处地址：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.officeAddress))])]),t._v(" "),n("div",{staticClass:"cell metro"},[n("div",{staticClass:"label"},[t._v("轨道交通：")]),t._v(" "),n("div",{staticClass:"value"},t._l(t.metroList,(function(e,s){return n("p",{key:s},[n("img",{attrs:{src:a("92ed")}}),t._v(" "),n("span",[t._v(t._s(e.address)+" "+t._s(e.name)+"直线距离"+t._s(e.distance)+"米")])])})),0)])])]),t._v(" "),n("div",{staticClass:"info-cell"},[n("h3",[t._v("规划信息")]),t._v(" "),n("div",{staticClass:"wrap"},[n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("绿化率：")]),t._v(" "),n("div",{staticClass:"value"},[t._v("\n                    "+t._s(t.baseInfo.greenRate?t.baseInfo.greenRate+"%":"")+"\n                  ")])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("容积率：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.volumeRate))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("总占地面积：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.floorArea))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("总建筑面积：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.buildArea))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("规划户数：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.totalResidentCount))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("楼层状况：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.floorCondition))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("建筑类型：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.buildingType))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("产权年限：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.propertyRightLimit))])])])]),t._v(" "),n("div",{staticClass:"info-cell"},[n("h3",[t._v("配套信息")]),t._v(" "),n("div",{staticClass:"wrap"},[n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("物业公司：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.propertyCompany))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("车位情况：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.parkingInfo))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("物业费：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.propertyPrice))])]),t._v(" "),n("div",{staticClass:"cell"},[n("div",{staticClass:"label"},[t._v("车位配比：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.baseInfo.parkingRate))])])])]),t._v(" "),n("div",{staticClass:"info-cell"},[n("h3",[t._v("项目介绍")]),t._v(" "),n("div",{staticClass:"wrap company-desc"},[t._v("\n                "+t._s(t.baseInfo.estateIntroduce)+"\n              ")])])]):t._e()]),t._v(" "),n("div",{staticClass:"info-item",staticStyle:{margin:"10px 0 20px"}},[t.detail.longitude?n("around-amap",{attrs:{center:[t.detail.longitude,t.detail.latitude],title:t.detail.estateName},on:{getAroundTraffic:t.getAroundTraffic}}):t._e()],1)])]),t._v(" "),n("div",{staticClass:"r-news",attrs:{id:"house-news"}},[n("h3",{staticClass:"title"},[t._v("最新动态")]),t._v(" "),n("house-news",{staticClass:"news-list",attrs:{estateId:t.id}})],1)],1),t._v(" "),t.detail.estateName?n("new-house-report",{attrs:{estateId:t.id,estateName:t.detail.estateName,show:t.toggleReportDialog},on:{close:function(e){t.toggleReportDialog=!1}}}):t._e(),t._v(" "),n("reward-info",{attrs:{show:t.toggleRewardInfoDialog,info:t.info},on:{close:function(e){t.toggleRewardInfoDialog=!1}}}),t._v(" "),n("el-dialog",{attrs:{visible:t.toggleParticularDialog,title:"房源详情",width:"1000px"},on:{"update:visible":function(e){t.toggleParticularDialog=e}}},[t.toggleParticularDialog?n("house-particular",{attrs:{estateId:t.id,name:t.budingsName}}):t._e()],1),t._v(" "),n("set-report",{attrs:{estateId:t.detail.estateId,estateName:t.detail.estateName,show:t.setReportDialog},on:{close:function(e){t.setReportDialog=!1},refresh:t.getEstateDetail}})],1)},s=[],i=a("a34a"),r=a.n(i),o=(a("dfa4"),a("7212")),l=a("2202"),c=a("72c3"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"swiper"},[a("div",{staticClass:"swiper-show"},[a("swiper",{ref:"showSwiper",staticClass:"swiper-no-swiping",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.showOption},nativeOn:{mouseover:function(e){t.toggleBtn=!0},mouseout:function(e){t.toggleBtn=!1}}},[t._l(t.urlList,(function(e,n){return a("swiper-slide",{key:n},[a("div",{staticClass:"img-wrap",staticStyle:{height:"400px"}},[a("el-image",{staticClass:"img",attrs:{fit:"cover",src:e.src},on:{click:function(e){return t.previewPic(n)}}},[a("img",{staticClass:"error-img",attrs:{slot:"error",src:t.$errorImg},slot:"error"})])],1)])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleBtn,expression:"toggleBtn"}],staticClass:"swiper-button-prev",staticStyle:{filter:"grayscale(1)"},attrs:{slot:"button-prev"},on:{click:function(e){return t.next(!1)}},slot:"button-prev"}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleBtn,expression:"toggleBtn"}],staticClass:"swiper-button-next",staticStyle:{filter:"grayscale(1)"},attrs:{slot:"button-next"},on:{click:function(e){return t.next(!0)}},slot:"button-next"})],2)],1),t._v(" "),a("div",{staticClass:"swiper-list"},[a("swiper",{ref:"mySwiper",staticStyle:{width:"100%",height:"100%",padding:"0 20px"},attrs:{options:t.swiperOption}},t._l(t.list,(function(e,n){return a("swiper-slide",{key:n,staticStyle:{position:"relative",cursor:"pointer"}},[a("div",{staticClass:"img",staticStyle:{height:"80px"}},[a("el-image",{attrs:{fit:"cover",src:e.imagePath[0]},on:{click:function(e){return e.stopPropagation(),t.changeShowIndex(n)}}})],1),t._v(" "),a("span",{staticClass:"swiper-tag",class:{active:t.showIndex===n},on:{click:function(e){return e.stopPropagation(),t.changeShowIndex(n)}}},[t._v(t._s(e.imageType)+"("+t._s(e.imageCount)+")")])])})),1),t._v(" "),a("div",{staticClass:"btn",staticStyle:{left:"0"},on:{click:function(e){return e.stopPropagation(),t.slidePrev(e)}}},[a("svg-icon",{attrs:{"icon-class":"left"}})],1),t._v(" "),a("div",{staticClass:"btn",staticStyle:{right:"0"},on:{click:function(e){return e.stopPropagation(),t.slideNext(e)}}},[a("svg-icon",{attrs:{"icon-class":"right"}})],1)],1)])},d=[],p=a("1195"),m=a.n(p);function f(t){return g(t)||b(t)||h(t)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"===typeof t)return _(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_(t,e):void 0}}function b(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function g(t){if(Array.isArray(t))return _(t)}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var y={props:["images"],components:{swiper:o["swiper"],swiperSlide:o["swiperSlide"]},data:function(){return{avatar:m.a,showOption:{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},swiperOption:{slidesPerView:5,spaceBetween:12},toggleBtn:!1,showIndex:0}},computed:{swiper:function(){return this.$refs.mySwiper.swiper},showSwiper:function(){return this.$refs.showSwiper.swiper},activeIndex:function(){return this.showSwiper.activeIndex},list:function(){return this.images||[]},urlList:function(){var t=[],e=this.list;return e.forEach((function(e,a){var n=[];e.imagePath.forEach((function(t){n.push({src:t,index:a})})),t=[].concat(f(t),n)})),t}},watch:{showIndex:function(t){this.swiper.slideTo(t,1e3,!0)}},methods:{slidePrev:function(){this.swiper.slidePrev()},slideNext:function(){this.swiper.slideNext()},next:function(t){var e=this.activeIndex,a=this.urlList;t?e++:e--,this.showIndex=a[e].index},changeShowIndex:function(t){this.showIndex=t;for(var e=this.list,a=0,n=0;n<t;n++)a+=e[n].imagePath.length;this.showSwiper.slideTo(a,1e3,!0)},previewPic:function(t){var e=this.urlList.map((function(t){return t.src})),a={urlList:e,index:t};this.$root.$emit("showPreview",a)}}},w=y,C=(a("5ef7"),a("2877")),k=Object(C["a"])(w,u,d,!1,null,"4b3c35b2",null),x=k.exports,D=a("c11f"),I=a("b396"),S=a("6399"),N=a("6c40"),A=a("8e53"),T=a("bba0"),O=a("a0a9"),P=a("aaf7"),j=a("f803"),L=a("2c17"),F=a.n(L),E=a("5b31"),R=a.n(E),$=a("a382"),M=a.n($),q=a("bb83"),z=a.n(q);function B(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function U(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){B(i,n,s,r,o,"next",t)}function o(t){B(i,n,s,r,o,"throw",t)}r(void 0)}))}}var V={components:{NewHouseReport:c["default"],HouseTypeSwiper:D["default"],AroundAmap:I["a"],RewardInfo:S["default"],HousePlan:N["default"],ListSwiper:x,HouseParticular:A["default"],HouseNews:T["default"],ScrollBox:O["a"],swiper:o["swiper"],swiperSlide:o["swiperSlide"],setReport:l["default"]},data:function(){return{avatar:m.a,xfxqbg:F.a,xfxqwz:R.a,yjjl:M.a,dkjl:z.a,saleStatus:{1:{color:"orange-bg orange",label:"待售"},2:{color:"blue-bg blue",label:"即将开盘"},3:{color:"green-bg green",label:"在售"},4:{color:"red-bg red",label:"下期待开"},5:{color:"gray-bg gray",label:"已售罄"}},navActiveIndex:0,toggleRewardInfoDialog:!1,toggleReportDialog:!1,toggleParticularDialog:!1,guestRuleActive:"报备规则",detail:{openRecord:{}},baseInfo:{},commonRule:{},id:-1,info:{},houseTypeMenu:[{name:"全部户型",list:[]},{name:"一居",list:[]},{name:"二居",list:[]},{name:"三居",list:[]},{name:"四居",list:[]}],newsOffsetTop:0,houseTypeIndex:0,budingsName:null,toggleFixBtn:!1,planData:{},ruleMenu:[{name:"报备规则",value:"visitRule"},{name:"带看规则",value:"applyRule"},{name:"结佣规则",value:"clearingRule"},{name:"售盘指导",value:"salesGuide"}],ruleActive:0,swiperOption:{slidesPerView:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},metroList:[],toggleBtn:!1,setReportDialog:!1}},computed:{navs:function(){var t=this.hasCommonRule,e=this.hasHouseType,a=this.hasPlanData,n=[],s=[{name:"分销规则",show:t},{name:"楼盘户型",show:e},{name:"楼栋房源",show:a},{name:"基本信息",show:!0},{name:"周边配套",show:!0}];return s.forEach((function(t){t.show&&n.push(t.name)})),n},hasCommonRule:function(){return this.detail.distribution},hasHouseType:function(){var t=!1,e=this.houseTypeMenu[0].list.length;return t=!!e,t},hasPlanData:function(){var t=!1;return t=!!this.planData.imagePath,t},characteristics:function(){var t=[],e=this.detail.characteristics;return e&&(t=e.split(",")),t},urlList:function(){return this.houseTypeMenu[this.houseTypeIndex].list},showCommonRule:function(){for(var t in this.commonRule)if(this.commonRule[t])return!0;return!1},swiper:function(){return this.$refs.reportSwiper.swiper}},created:function(){this.id=this.$route.query.id,this.getEstateDetail(),this.getEstateBaseInfo(),this.getCommonRule(),this.getHouseTypeList(),this.getEstateHousePlaneImage()},mounted:function(){this.calcNewsHeight(),this.watchNewsScroll()},activated:function(){this.calcNewsHeight(),this.watchNewsScroll()},deactivated:function(){document.querySelector(".sub-views").removeEventListener("scroll",this.subViewScorll)},methods:{getAroundTraffic:function(t){var e=t.list||[];this.metroList=e.filter((function(t){return"150500"==t.typecode}))},slidePrev:function(){this.swiper.slidePrev()},slideNext:function(){this.swiper.slideNext()},getEstateHousePlaneImage:function(){var t=this;return U(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(j["f"])({id:t.id});case 2:if(a=e.sent,a){e.next=6;break}return t.$showError("获取总平图数据失败"),e.abrupt("return");case 6:t.planData=a;case 7:case"end":return e.stop()}}),e)})))()},getHouseTypeList:function(){var t=this;return U(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,n={id:a},e.next=4,Object(P["e"])(n);case 4:s=e.sent,s.forEach((function(e){e.openRoom?t.houseTypeMenu[1].list.push(e):e.bedRoomQuantity<=4&&t.houseTypeMenu[e.bedRoomQuantity].list.push(e)})),t.houseTypeMenu[0].list=s;case 7:case"end":return e.stop()}}),e)})))()},getEstateDetail:function(){var t=this;return U(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,n={id:a},e.next=4,Object(P["c"])(n);case 4:s=e.sent,t.detail=s;case 6:case"end":return e.stop()}}),e)})))()},getEstateBaseInfo:function(){var t=this;return U(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,n={id:a},e.next=4,Object(P["b"])(n);case 4:s=e.sent,t.baseInfo=s;case 6:case"end":return e.stop()}}),e)})))()},getCommonRule:function(){var t=this;return U(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,n={id:a},e.next=4,Object(P["a"])(n);case 4:for(i in s=e.sent,t.commonRule=s,t.commonRule)"string"==typeof t.commonRule[i]&&(t.commonRule[i]=t.commonRule[i].replace(/(\r|\n)/g,"<br />"));s||t.navs.shift();case 8:case"end":return e.stop()}}),e)})))()},likeHouse:function(){var t=this,e=this.id,a="4",n=!this.detail.isFocus,s={id:e,focusFlag:n,focusType:a};Object(j["q"])(s).then((function(e){e&&(t.detail.isFocus=n)}))},showRewardInfo:function(t){this.info=t,this.toggleRewardInfoDialog=!0},calcNewsHeight:function(){var t=110,e=40,a=document.documentElement.clientHeight,n=document.querySelector("#house-news .news-list");n.style.height=a-t-e+"px"},watchNewsScroll:function(){var t=document.querySelector(".sub-views"),e=document.querySelector("#house-news");this.newsOffsetTop=e.offsetTop,t.addEventListener("scroll",this.subViewScorll)},subViewScorll:function(t){var e=document.querySelector("#house-news");e&&(t.currentTarget.scrollTop>=this.newsOffsetTop?(e.style.position="fixed",e.style.top="110px",e.style.left="910px"):e.style.position="static")}}},G=V,Y=(a("c9ee"),a("f839"),Object(C["a"])(G,n,s,!1,null,"1bd65fe6",null));e["default"]=Y.exports},"8a36":function(t,e,a){},"8a4e":function(t,e,a){},"8ac2":function(t,e,a){},"8ad7":function(t,e,a){},"8baa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"pd20 mb20 mt20 invalid-reason"},[t._m(0),t._v(" "),a("div",{staticClass:"grid mt20 pd20-b bd3-b mb10"},t._l(t.invalidReasonList,(function(e,n){return a("div",{key:n,staticClass:"flex-around-col",class:{active:n+11===t.reason},on:{click:function(e){t.reason=n+11}}},[a("img",{staticClass:"color-block",attrs:{src:e.iconPath}}),t._v(" "),a("p",{staticClass:"flex-center"},[t._v(t._s(e.name))])])})),0),t._v(" "),a("div",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入备注信息"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)]),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"color9"},[t._v("无效原因")])])}],i=a("a34a"),r=a.n(i),o=a("6ffd"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:{id:{type:[Number,String],required:!0}},data:function(){return{config:l["a"].config,remark:"",reason:null,iconPaths:[a("44bc"),a("69393"),a("ccbe"),a("e4ad"),a("54aa")]}},computed:{invalidReasonList:function(){var t=this;return this.config.invalidReasonList.map((function(e,a){var n={};return n.name=e,n.iconPath=t.iconPaths[a],n}))}},methods:{close:function(){this.$emit("close")},save:function(){var t=this;return u(r.a.mark((function e(){var a,n,s,i,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.reason,n=t.remark,s=t.id,a){e.next=4;break}return t.$showError("请选择理由"),e.abrupt("return");case 4:return i={reason:a,remark:n},e.next=7,Object(o["a"])(s,i);case 7:l=e.sent,l&&(t.$showSuccess("转无效成功"),t.$root.$emit("houseDetailRefresh"),t.close());case 9:case"end":return e.stop()}}),e)})))()}}},p=d,m=(a("64da"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"5f3c700c",null);e["default"]=f.exports},"8be9":function(t,e,a){"use strict";var n=a("f085"),s=a.n(n);s.a},"8c58":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notification"},[a("ul",{staticClass:"list"},t._l(t.msgTabs,(function(e,n){return a("li",{key:n,class:["item","type"+t.msgTypeIndexObj[e.name],e.name==t.noticeActiveType&&t.hasClickStyle?"active":""],style:t.rowStyle,on:{click:function(a){return t.msgTypeClick(e.name,n)}}},["APPROVAL"==e.name?a("el-badge",{attrs:{value:t.unreadMsgCount[e.name]||null}},[a("div",{staticClass:"icon"},[a("svg-icon",{attrs:{"icon-class":e.icon}})],1)]):a("el-badge",{attrs:{"is-dot":!!t.unreadMsgCount[e.name]}},[a("div",{staticClass:"icon",style:{backgroundColor:e.color}},[a("svg-icon",{attrs:{"icon-class":e.icon}})],1)]),t._v(" "),a("div",{staticClass:"summary"},[a("div",{staticClass:"title"},[a("h3",[t._v(t._s(e.label))]),t._v(" "),t.newMessages[t.msgTypeIndexObj[e.name]][0]?a("span",{staticClass:"time",style:"max-width:"+t.maxW+"px"},[t._v(t._s(t._f("converDate")(t.newMessages[t.msgTypeIndexObj[e.name]][0].publishTime)))]):t._e()]),t._v(" "),t.newMessages[t.msgTypeIndexObj[e.name]][0]?a("p",{staticClass:"desc"},[t._v("\n          "+t._s(t.newMessages[t.msgTypeIndexObj[e.name]][0].title)+"\n        ")]):t._e()])],1)})),0)])},s=[],i=a("a34a"),r=a.n(i),o=a("c443");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={props:{hasClickStyle:{type:Boolean,default:!0},rowStyle:{type:Object,default:function(){}},maxW:{type:Number,default:80}},data:function(){return{newMessages:[[{}],[{}],[{}]],msgTabs:[],msgTabs2:[{name:"NOTIFY",sort:2,icon:"bell",label:"服务通知",bgColor:"#67c23a"},{name:"APPROVAL",sort:1,icon:"role",label:"审批助手",bgColor:"#409eff"},{name:"FOLLOWED",sort:0,icon:"love3",label:"我关注的",bgColor:"#e6a23c"}],msgTypeIndexObj:{NOTIFY:0,APPROVAL:1,FOLLOWED:2},msgType:"NOTIFY",hasRead:[!0,!0,!0]}},computed:{unreadMsgCount:function(){return this.$store.state.settings.unreadMsgCount},noticeActiveType:function(){return this.$store.state.settings.noticeActiveType}},watch:{unreadMsgCount:function(t,e){JSON.stringify(t)!=JSON.stringify(e)&&(this.getReadStatusType(t),this.getMessages())}},created:function(){var t=this;return c(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getMessageCount();case 2:return t.getReadStatusType(t.unreadMsgCount),e.next=5,t.getMessages();case 5:t.noticeActiveType||t.$store.commit("settings/SET_NOTICE_ACTIVE_TYPE",t.msgTabs[0].name);case 6:case"end":return e.stop()}}),e)})))()},methods:{getMessageCount:function(){var t=this;return c(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])({readState:!1});case 2:return a=e.sent,a&&(n=a.NOTIFY,s=a.APPROVAL,i=a.FOLLOWED,t.$store.commit("settings/SET_UNREAD_MSG_COUNT",{NOTIFY:n,APPROVAL:s,FOLLOWED:i})),e.abrupt("return",Promise.resolve(a));case 5:case"end":return e.stop()}}),e)})))()},getReadStatusType:function(t){for(var e in this.hasRead=[!0,!0,!0],t)if(0!=t[e])switch(e){case"NOTIFY":this.hasRead[0]=!1;break;case"APPROVAL":this.hasRead[1]=!1;break;case"FOLLOWED":this.hasRead[2]=!1;break}},getMessages:function(){var t=this;return c(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={messageTypes:"NOTIFY,APPROVAL,FOLLOWED",hasRead:t.hasRead.toString(),limit:1},e.next=3,Object(o["d"])(a);case 3:if(n=e.sent,!n){e.next=11;break}return t.newMessages=n,s=t.$cloneObj(t.msgTabs2),n.forEach((function(e){if(e&&e[0]){var a=t.msgTypeIndexObj[e[0].messageType];s[a].sort=Date.parse(new Date(e[0].publishTime))}})),t.msgTabs=s.sort((function(t,e){return e.sort-t.sort})),t.$store.commit("settings/SET_NOTICE_ACTIVE_TYPE",t.noticeActiveType),e.abrupt("return",Promise.resolve(t.msgTabs));case 11:case"end":return e.stop()}}),e)})))()},msgTypeClick:function(t){this.$store.commit("settings/SET_NOTICE_DIALOG_STATUS",!0),this.$store.commit("settings/SET_NOTICE_ACTIVE_TYPE",t)}}},d=u,p=(a("1903"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"7c67aec0",null);e["a"]=m.exports},"8c70":function(t,e,a){"use strict";var n=a("0fac"),s=a.n(n);s.a},"8caf":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-deal-house"},[a("div",{staticClass:"conditions"},[a("div",{staticClass:"search-box flex"},[a("el-input",{staticClass:"input-group",attrs:{size:"small",placeholder:"输入关键词"},model:{value:t.queryData.keyword,callback:function(e){t.$set(t.queryData,"keyword",e)},expression:"queryData.keyword"}},[a("el-select",{staticClass:"select",attrs:{slot:"prepend"},slot:"prepend",model:{value:t.queryData.keyType,callback:function(e){t.$set(t.queryData,"keyType",e)},expression:"queryData.keyType"}},[a("el-option",{attrs:{label:"小区名称",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"房源编号",value:"1"}})],1)],1),t._v(" "),a("el-input",{staticClass:"input-group",attrs:{size:"small",placeholder:"输入关键词"},model:{value:t.queryData.roleKeyWord,callback:function(e){t.$set(t.queryData,"roleKeyWord",e)},expression:"queryData.roleKeyWord"}},[a("el-select",{staticClass:"select",attrs:{slot:"prepend"},slot:"prepend",model:{value:t.queryData.roleType,callback:function(e){t.$set(t.queryData,"roleType",e)},expression:"queryData.roleType"}},[a("el-option",{attrs:{label:"维护人",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"录入人",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"实勘人",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"委托人",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"钥匙人",value:"4"}})],1)],1),t._v(" "),a("el-date-picker",{staticClass:"width220",attrs:{size:"small",type:"daterange","range-separator":"-","start-placeholder":"挂牌日期","end-placeholder":"挂牌日期","value-format":"yyyy-MM-dd",format:"yyyy年MM月dd日","picker-options":t.$disabledFutureDate},model:{value:t.backUpData.date,callback:function(e){t.$set(t.backUpData,"date",e)},expression:"backUpData.date"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search(1)}}},[t._v("\n        搜索\n      ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.lrfy,expression:"lrfy"}],attrs:{size:"small",type:"primary"},on:{click:t.writeHouse}},[t._v("\n        录入房源(买卖)\n      ")])],1),t._v(" "),a("div",{staticClass:"fm-filtrator2 mt20"},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"content border-radio-wrap flex-between"},[a("el-radio-group",{staticClass:"house-range-radio",attrs:{size:"mini"},on:{change:t.search},model:{value:t.queryData.scope,callback:function(e){t.$set(t.queryData,"scope",e)},expression:"queryData.scope"}},t._l(t.config.scope,(function(e,n){return a("el-radio",{key:n,attrs:{label:e.value,border:""}},[t._v("\n              "+t._s(e.label)+"\n            ")])})),1),t._v(" "),a("div",{staticClass:"more blue",on:{click:function(e){t.toggleMoreFiltrator=!t.toggleMoreFiltrator}}},[a("span",[t._v("更多筛选")]),t._v(" "),a("svg-icon",{attrs:{"icon-class":t.toggleMoreFiltrator?"top":"bottom"}})],1)],1)]),t._v(" "),t.toggleMoreFiltrator?a("div",["买卖"==t.tab?a("div",{staticClass:"row"},[t._m(1),t._v(" "),a("div",{staticClass:"content"},[a("el-checkbox-group",{on:{change:function(e){return t.handlePriceChange(e,300)}},model:{value:t.backUpData.price,callback:function(e){t.$set(t.backUpData,"price",e)},expression:"backUpData.price"}},t._l(t.config.priceLimit,(function(e){return a("el-checkbox",{key:e,attrs:{label:""+e}},[t._v("\n                "+t._s(e)+"\n              ")])})),1),t._v(" "),a("input-range",{attrs:{unit:"万",refresh:t.clearedRange},on:{inputRangeBtn:t.priceInputChange}})],1)]):a("div",{staticClass:"row"},[t._m(2),t._v(" "),a("div",{staticClass:"content"},[a("el-checkbox-group",{on:{change:function(e){return t.handlePriceChange(e,5e3)}},model:{value:t.backUpData.price,callback:function(e){t.$set(t.backUpData,"price",e)},expression:"backUpData.price"}},t._l(t.config.leasePriceLimit,(function(e){return a("el-checkbox",{key:e,attrs:{label:""+e}},[t._v("\n                "+t._s(e)+"\n              ")])})),1),t._v(" "),a("input-range",{staticClass:"ml20",attrs:{unit:"元",refresh:t.clearedRange},on:{inputRangeBtn:t.priceInputChange}})],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(3),t._v(" "),a("div",{staticClass:"content"},[a("el-checkbox-group",{on:{change:t.search},model:{value:t.queryData.bedRoomQuantity,callback:function(e){t.$set(t.queryData,"bedRoomQuantity",e)},expression:"queryData.bedRoomQuantity"}},t._l(t.config.bedRoomQuantity,(function(e){return a("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v("\n                "+t._s(e.label)+"\n              ")])})),1)],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(4),t._v(" "),a("div",{staticClass:"content"},[a("el-checkbox-group",{on:{change:t.handleSizeChange},model:{value:t.backUpData.size,callback:function(e){t.$set(t.backUpData,"size",e)},expression:"backUpData.size"}},t._l(t.config.buildingAreaLimit,(function(e){return a("el-checkbox",{key:e,attrs:{label:""+e}},[t._v("\n                "+t._s(e)+"\n              ")])})),1),t._v(" "),a("input-range",{attrs:{unit:"㎡",refresh:t.clearedRange},on:{inputRangeBtn:t.sizeInputChange}})],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(5),t._v(" "),a("div",{staticClass:"content"},["买卖"==t.tab?a("el-checkbox-group",{on:{change:t.search},model:{value:t.queryData.houseLabel,callback:function(e){t.$set(t.queryData,"houseLabel",e)},expression:"queryData.houseLabel"}},t._l(t.config.houseLabel,(function(e){return a("el-checkbox",{key:e,attrs:{label:""+e}},[t._v("\n                "+t._s(e)+"\n              ")])})),1):a("el-checkbox-group",{on:{change:t.search},model:{value:t.queryData.houseLabel,callback:function(e){t.$set(t.queryData,"houseLabel",e)},expression:"queryData.houseLabel"}},t._l(t.config.houseLeaseLabel,(function(e){return a("el-checkbox",{key:e,attrs:{label:""+e}},[t._v("\n                "+t._s(e)+"\n              ")])})),1)],1)]),t._v(" "),a("div",{staticClass:"row"},[t._m(6),t._v(" "),a("div",{staticClass:"content"},["租赁"==t.tab?a("el-select",{staticClass:"cascader",attrs:{size:"mini",clearable:"",placeholder:"方式"},on:{change:t.search},model:{value:t.queryData.leaseType,callback:function(e){t.$set(t.queryData,"leaseType",e)},expression:"queryData.leaseType"}},t._l(t.screen.leaseType,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e(),t._v(" "),a("el-cascader",{staticClass:"cascader",attrs:{clearable:"",size:"mini",placeholder:"区域","collapse-tags":"","show-all-levels":!1,props:{value:"id",label:"name",multiple:!0},options:t.screen.areas},on:{change:t.handleAreaChange},model:{value:t.backUpData.selectedAreaIds,callback:function(e){t.$set(t.backUpData,"selectedAreaIds",e)},expression:"backUpData.selectedAreaIds"}}),t._v(" "),a("el-cascader",{staticClass:"cascader",attrs:{clearable:"",size:"mini",placeholder:"用途","collapse-tags":"","show-all-levels":!1,props:{value:"id",label:"name",multiple:!0},options:t.screen.buildingTypes},on:{change:t.handleBuildingTypeChange},model:{value:t.backUpData.selectedBuildingTypeIds,callback:function(e){t.$set(t.backUpData,"selectedBuildingTypeIds",e)},expression:"backUpData.selectedBuildingTypeIds"}}),t._v(" "),a("el-select",{staticClass:"cascader",attrs:{clearable:"",size:"mini",multiple:"","collapse-tags":"",placeholder:"装修"},on:{change:t.handleDecorationChange},model:{value:t.queryData.decorations,callback:function(e){t.$set(t.queryData,"decorations",e)},expression:"queryData.decorations"}},t._l(t.screen.decorations,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-select",{staticClass:"cascader",attrs:{clearable:"",size:"mini",multiple:"","collapse-tags":"",placeholder:"朝向"},on:{change:t.handleOrientationChange},model:{value:t.queryData.orientations,callback:function(e){t.$set(t.queryData,"orientations",e)},expression:"queryData.orientations"}},t._l(t.screen.orientations,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-select",{staticClass:"cascader",attrs:{clearable:"",size:"mini",multiple:"","collapse-tags":"",placeholder:"楼层"},on:{change:t.handleFloorNumChange},model:{value:t.backUpData.floorNum,callback:function(e){t.$set(t.backUpData,"floorNum",e)},expression:"backUpData.floorNum"}},t._l(t.screen.floorNumberLimit,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1),t._v(" "),a("el-select",{staticClass:"cascader",attrs:{clearable:"",size:"mini",multiple:"","collapse-tags":"",placeholder:"等级"},on:{change:t.handleLevelChange},model:{value:t.queryData.levels,callback:function(e){t.$set(t.queryData,"levels",e)},expression:"queryData.levels"}},t._l(t.screen.levels,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-select",{staticClass:"cascader",attrs:{clearable:"",size:"mini",multiple:"","collapse-tags":"",placeholder:"状态"},on:{change:t.handleStatusChange},model:{value:t.queryData.status,callback:function(e){t.$set(t.queryData,"status",e)},expression:"queryData.status"}},t._l(t.screen.status,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])]):t._e()])]),t._v(" "),a("div",{staticClass:"split-line"}),t._v(" "),a("div",{staticClass:"record"},[a("div",{staticClass:"fm-table-tips"},[a("div",{staticClass:"result"},[a("p",{staticClass:"tips"},[t._v("\n          共找到\n          "),a("span",{staticClass:"strong"},[t._v(t._s(t.totalNum))]),t._v("\n          条记录\n        ")]),t._v(" "),a("p",{staticClass:"clear",on:{click:t.clearQuery}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"clear"}}),t._v(" "),a("span",{staticClass:"text"},[t._v("清空条件")])],1)])]),t._v(" "),a("div",{staticClass:"c"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"row-click":t.jump,"sort-change":t.sortChange}},[a("el-table-column",{attrs:{align:"left",label:"房源",width:"330px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_house"},[a("div",{staticClass:"c_house_l"},[a("el-image",{staticClass:"img",attrs:{fit:"cover",src:e.row.houseImage}},[a("img",{attrs:{slot:"error",src:t.houesPlaceholderImg},slot:"error"})]),t._v(" "),e.row.isSeal?a("div",{staticClass:"tag lock flex-center"},[a("div",[a("svg-icon",{attrs:{"icon-class":"lock"}}),t._v(" "),a("p",[t._v("封盘")])],1)]):t.showInvalidTag(e.row.statusReason)?a("div",{staticClass:"tag type2"},[t._v("\n                "+t._s(t.showInvalidTag(e.row.statusReason))+"\n              ")]):t._e()],1),t._v(" "),a("div",{staticClass:"c_house_r"},[a("div",{staticClass:"c_house_r_t"},[a("p",{staticClass:"pointer"},[t._v("\n                  "+t._s(e.row.communityName)+"\n                ")])]),t._v(" "),a("div",{staticClass:"c_house_r_c"},[a("p",[t._v("\n                  房源编号\n                  "),a("span",{staticClass:"bill-num"},[t._v(t._s(e.row.houseCode))])])]),t._v(" "),a("div",{staticClass:"c_house_r_b"},t._l(e.row.houseLabels,(function(e){return a("span",{key:e,staticClass:"tag"},[t._v("\n                  "+t._s(e)+"\n                ")])})),0)])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"类型",prop:"sourceType",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(e.row.propertyTypeName))])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p",[t._v(t._s(e.row.sourceName))])]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"户型",prop:"bedRoomQuantity",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v("\n                "+t._s(t.isNull(e.row.bedRoomQuantity)?"-":e.row.bedRoomQuantity+"室")+t._s(t.isNull(e.row.livingRoomQuantity)?"-":e.row.livingRoomQuantity+"厅")+t._s(t.isNull(e.row.restRoomQuantity)?"-":e.row.restRoomQuantity+"卫")+"\n              ")])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"建面",prop:"buildingArea",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(e.row.buildingArea)+"㎡")])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),"买卖"==t.tab?a("el-table-column",{attrs:{align:"left",label:"销售总价/单价",sortable:"",prop:"listingPrice"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",{staticClass:"red"},[t._v("\n                "+t._s(t._f("toIntCeil")(e.row.listingPrice))),e.row.listingPrice?a("span",[t._v("万")]):a("span",[t._v("价格待定")])])]),t._v(" "),e.row.unitPrice?a("div",{staticClass:"c_re_c"},[a("p",[t._v(t._s(t._f("toIntCeil")(e.row.unitPrice))+"元/平米")])]):t._e(),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}],null,!1,2723495766)}):a("el-table-column",{attrs:{align:"left",label:"租金",prop:"leasePrice"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",{staticClass:"red strong"},[t._v(t._s(e.row.leasePrice)+"元/月")])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"楼层",prop:"floorLocationDesc",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v("\n                "+t._s(t.isNull(e.row.floorLocationDesc)?"--":e.row.floorLocationDesc)+"\n              ")])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p",[t._v("共"+t._s(e.row.totalFloorNumber)+"层")])]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"朝向",prop:"orientationName",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(t._f("isEmpty2")(e.row.orientationName)))])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"最近30天带看",prop:"takeCountPreThirty",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(e.row.takeCountPreThirty)+"次")])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"挂牌时间",prop:"listingTime",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(e.row.listingTime))])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"right",label:"维护人",prop:"maintainUserName",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",{staticClass:" ta-right"},[t._v(t._s(e.row.maintainUserName))])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b flex-end"},[a("svg-icon",{staticClass:"love",attrs:{"icon-class":e.row.isFocus?"love2":"love"},on:{click:function(a){return a.stopPropagation(),t.likeHouse(e.row)}}})],1)])}}])})],1)],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.queryData.pageSize,layout:"prev, pager, next","current-page":t.queryData.pageNum,"prev-text":"上一页","next-text":"下一页",total:t.totalNum},on:{"update:currentPage":function(e){return t.$set(t.queryData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryData,"pageNum",e)},"current-change":t.handleCurrentChange}})],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("范围")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("总价")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("租金")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("户型")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("面积")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("标签")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("p",[t._v("筛选")])])}],i=a("a34a"),r=a.n(i),o=a("3915"),l=a("c1ed"),c=a.n(l),u=a("f803"),d=a("acb0"),p=a("ed08"),m=a("61f7");function f(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function v(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){f(i,n,s,r,o,"next",t)}function o(t){f(i,n,s,r,o,"throw",t)}r(void 0)}))}}var h={shelvesStatus:1,roleKeyWord:"",roleType:"1",keyword:"",keyType:"2",scope:"",priceLimit:[],bedRoomQuantity:[],buildingAreaLimit:[],houseLabel:[],areaIds:[],buildingTypes:[],decorations:[],orientations:[],levels:[],status:[1],floorNumberLimit:[],leaseType:"",listingTimeStart:null,listingTimeEnd:null,pageNum:1,pageSize:10},b={price:[],inputPrice:[],size:[],inputSize:[],floorNum:[],selectedAreaIds:[],selectedBuildingTypeIds:[],date:[]},g={components:{InputRange:o["a"]},props:{tab:{type:String,default:"买卖"}},filters:{totalFloorType:function(t){return t}},data:function(){return{isNull:m["d"],toggleMoreFiltrator:!1,houesPlaceholderImg:c.a,tabs:["买卖","租赁","新房","小区"],activeIndex:"0",config:{scope:[{label:"全部房源",value:""},{label:"维护房源",value:"2"},{label:"角色房源",value:"3"},{label:"平台共享",value:"4"},{label:"我关注的",value:"1"}],bedRoomQuantity:[{label:"一室",value:1},{label:"二室",value:2},{label:"三室",value:3},{label:"四室",value:4},{label:"四室以上",value:5}],priceLimit:["40万以下","40-60万","60-80万","80-100万","100-150万","150-200万","200-300万","300万以上"],leasePriceLimit:["1000元以内","1000-1500元","1500-2000元","2000-2500元","2500-3000元","3000-5000元","5000元"],buildingAreaLimit:["50㎡以下","50-70㎡","70-90㎡","90-110㎡","110-130㎡","130-150㎡","150-200㎡","200㎡以上"],houseLabel:["新上","满五","满二","有钥匙","随时看房"],houseLeaseLabel:["托管","新上","拎包入住","随时看房","有钥匙"]},screen:{areas:[],buildingTypes:[],decorations:[{value:"",label:"全部"},{value:1,label:"毛坯"},{value:2,label:"简装"},{value:3,label:"普装"},{value:4,label:"精装"},{value:5,label:"豪装"}],leaseType:[{value:null,label:"全部"},{value:1,label:"整租"},{value:2,label:"合租"}],orientations:[{value:"",label:"全部"},{value:1,label:"东"},{value:2,label:"南"},{value:3,label:"西"},{value:4,label:"北"},{value:5,label:"东北"},{value:7,label:"东南"},{value:6,label:"西北"},{value:8,label:"西南"}],floorNumberLimit:["全部","6层以下","6层-12层","12层-18层","18层以上"],levels:[{value:"",label:"全部"},{value:1,label:"A级"},{value:2,label:"B级"},{value:3,label:"C级"}],status:[{value:"",label:"全部"},{value:1,label:"有效"},{value:2,label:"封盘"},{value:11,label:"暂缓"},{value:12,label:"内成交"},{value:13,label:"外成交"},{value:14,label:"信息有误"},{value:16,label:"预定"},{value:15,label:"其他"}]},totalNum:0,backUpData:JSON.parse(JSON.stringify(b)),queryData:JSON.parse(JSON.stringify(h)),clearedRange:0,tableData:[]}},computed:{site:function(){return this.$store.state.settings.site},authActions:function(){return this.$route.meta.authActions||[]}},created:function(){this.queryData.scope=this.$route.query.scope||"",this.queryData.keyword=this.$route.query.search||"",this.getAreas(),this.handleQuery(),this.search(),this.getBuildingTypes()},methods:{handleQuery:function(){var t=this.$route.query,e=t.value,a=t.type,n=t.label;if(e&&a)switch(a){case"keyword":this.queryData.keyword=e,this.queryData.keyType="2";break;case"scope":this.queryData.scope=e;break;case"totalPrice":this.backUpData.price.push(n),this.queryData.priceLimit=Object(p["l"])(this.backUpData.price,300);break;case"area2":this.backUpData.size=[n],this.queryData.buildingAreaLimit=Object(p["l"])(this.backUpData.size,200);break;case"houseType":this.queryData.bedRoomQuantity=[e]}},showInvalidTag:function(t){if(t&&(1==t||2==t))return!1;var e=this.screen.status.find((function(e){return e.value==t}));return!!e&&e.label},sortChange:function(t){var e=null;"ascending"==t.order&&(e="asc"),"descending"==t.order&&(e="desc");var a={sourceType:"1",bedRoomQuantity:"2",buildingArea:"3",listingPrice:"4",floorLocationDesc:"5",orientationName:"6",takeCountPreThirty:"7",listingTime:"8",maintainUserName:"9"};this.queryData.orderField=a[t.prop],this.queryData.orderType=e,this.search()},likeHouse:function(t){var e=this,a="买卖"==this.tab?"2":"3",n=!t.isFocus,s={id:t.id,focusFlag:n,focusType:a};Object(u["q"])(s).then((function(t){t&&(e.search(),e.$showSuccess("操作成功"))}))},getAreaIds:function(t){var e=[];function a(t){t.forEach((function(n,s){Array.isArray(n)?a(n):s==t.length-1&&e.push(n)}))}return a(t),e},handleBuildingTypeChange:function(t){this.queryData.buildingTypes=this.getAreaIds(t),this.search()},handleAreaChange:function(t){this.queryData.areaIds=this.getAreaIds(t),this.search()},handleCurrentChange:function(t){this.search(t)},handleClickAll:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"全部",a=t.indexOf(e);return-1!=a&&a!=t.length-1&&t.splice(a,1),t.length>1&&t[t.length-1]==e&&(t=[e]),t},sizeInputChange:function(t){this.queryData.buildingAreaLimit=Object(p["l"])(this.backUpData.size),this.queryData.buildingAreaLimit.push({min:t[0],max:t[1]}),this.search()},priceInputChange:function(t){this.queryData.priceLimit=Object(p["l"])(this.backUpData.price),this.queryData.priceLimit.push({min:t[0],max:t[1]}),this.search()},handleOrientationChange:function(t){this.queryData.orientations=this.handleClickAll(t),this.search()},handleLevelChange:function(t){this.queryData.levels=this.handleClickAll(t,""),this.search()},handleStatusChange:function(t){this.queryData.status=this.handleClickAll(t,""),this.search()},handleDecorationChange:function(t){this.queryData.decorations=this.handleClickAll(t),this.search()},handleFloorNumChange:function(t){this.backUpData.floorNum=this.handleClickAll(t),this.queryData.floorNumberLimit=Object(p["l"])(t,18),this.search()},handleSizeChange:function(t){this.queryData.buildingAreaLimit=Object(p["l"])(t,200),this.search()},handlePriceChange:function(t,e){this.queryData.priceLimit=Object(p["l"])(t,e),this.search()},clearQuery:function(){this.queryData=JSON.parse(JSON.stringify(h)),this.backUpData=JSON.parse(JSON.stringify(b)),this.clearedRange=Date.now(),this.date=[],this.search(1)},jump:function(t){this.$getSelectionText()||this.$navigateTo({query:{title:"房源详情-".concat(t.communityName)},path:"/work/house/detail/".concat(t.id)})},getAreas:function(){var t=this;return v(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={siteId:t.site.id},e.next=3,Object(d["c"])(a);case 3:n=e.sent,n&&(t.screen.areas=n);case 5:case"end":return e.stop()}}),e)})))()},getBuildingTypes:function(){var t=this;Object(d["n"])({dicttype:1}).then((function(e){e&&(t.screen.buildingTypes=e)}))},writeHouse:function(){this.$navigateTo({query:{tab:"".concat(this.tab)},path:"/work/house/edit/-1"})},search:function(t){var e=this;return v(r.a.mark((function a(){var n,s,i,o,l;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=JSON.parse(JSON.stringify(e.queryData)),n.pageNum=1,"number"==typeof t&&(n.pageNum=t,e.queryData.pageNum=t),a.t0=r.a.keys(n);case 4:if((a.t1=a.t0()).done){a.next=11;break}if(s=a.t1.value,Array.isArray(n[s])){a.next=8;break}return a.abrupt("continue",4);case 8:for(i=0;i<n[s].length;i++)""!=n[s][i]&&null!=n[s][i]&&"全部"!=n[s][i]||n[s].splice(i,1);a.next=4;break;case 11:return e.backUpData.date||(e.backUpData.date=[]),n.listingTimeStart=e.backUpData.date[0],n.listingTimeEnd=e.backUpData.date[1],n.siteId=e.site.id,o=function(){},o="买卖"==e.tab?u["m"]:u["k"],a.next=19,o(n);case 19:l=a.sent,l&&(e.tableData=l.list,e.totalNum=l.total);case 21:case"end":return a.stop()}}),a)})))()}}},_=g,y=(a("2bbb"),a("3af1"),a("2877")),w=Object(y["a"])(_,n,s,!1,null,"4320d7c9",null);e["default"]=w.exports},"8cc7":function(t,e,a){"use strict";var n=a("8cd0"),s=a.n(n);s.a},"8cd0":function(t,e,a){},"8d7d":function(t,e,a){"use strict";var n=a("fba6"),s=a.n(n);s.a},"8d9e":function(t,e,a){"use strict";var n=a("fdf3"),s=a.n(n);s.a},"8da4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTY5QkJBQTAwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTY5QkJBQTEwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNjRGRjdEQjBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNjRGRjdEQzBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtGXr14AAAFFSURBVHjaYvz//z8DIbB69WoYk7BiCPgHxDVA3M5AOqgE4hYgZiJSPSOICA0NJUoxEwNtAMhcdzL1utPQXQwsZOo7BcQX8Mj/BuJZZJqdB8RpQMyKR40BEJvR08PrgbiDRpFwCYhzCKipINfDNEs6gxWMenjUw6MeHvXwqIcJAD0oHhEeNgHi81BsPBI8rAa1E4TVR/PwqIdHPTxgvSVywVUg/oPEHvYevgjEGlD23ZHg4QHz6GihRUegDMUjwsP6QHwDivVHgoe1oeUGC5Q9modHPTzq4aFVD99igMxKwNjD3sNngNgQyr40Ulpal0bz8KiHRz086uFRD48QD3+kdbX0F4iZgTgQiBXxqAM1LmYwQEY4yOlRZRCIDAN61cNfgJifATIZTWhCGhQgHmS4qQuI3YZakv4BxJvJ1LsJqp8mACDAAAF6LiDoyDN6AAAAAElFTkSuQmCC"},"8de1":function(t,e,a){},"8e53":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container house-particular-dialog"},[a("div",{staticClass:"l-detail"},[a("h3",{staticClass:"title"},[t._v("\n      "+t._s(t.queryData.buildingNo)+"栋"+t._s(t.queryData.unitNo)+"单元"+t._s(t.houseNo)+"\n    ")]),t._v(" "),a("div",{staticClass:"content"},[a("p",[t._v("\n        物业类型："),a("span",[t._v(t._s(t.details.propertyType))])]),t._v(" "),a("p",[t._v("\n        户型："),a("span",[t._v(t._s(t.details.bedRoomQuantity)+"室"+t._s(t.details.livingRoomQuantity)+"厅"+t._s(t.details.restRoomQuantity)+"卫")])]),t._v(" "),a("p",[t._v("\n        建筑面积："),a("span",[t._v(t._s(t.details.buildingArea)+"㎡")])]),t._v(" "),t.details.originalPrice!=t.details.salesPrice?a("div",[a("p",[t._v("\n          优惠前总价："),a("span",[t._v("¥"+t._s(t.details.originalPrice))])]),t._v(" "),a("p",[t._v("\n          优惠前单价："),a("span",[t._v("¥"+t._s(t.details.originalUnitPrice))])]),t._v(" "),a("p",{staticClass:"emp"},[t._v("\n          优惠后总价："),a("span",[t._v("¥"+t._s(t.details.salesPrice))])]),t._v(" "),a("p",{staticClass:"emp"},[t._v("\n          优惠后单价："),a("span",[t._v("¥"+t._s(t.details.salesUnitPrice))])])]):a("div",[a("p",[t._v("\n          总价："),a("span",[t._v("¥"+t._s(t.details.originalPrice))])]),t._v(" "),a("p",[t._v("\n          单价："),a("span",[t._v("¥"+t._s(t.details.originalUnitPrice))])])]),t._v(" "),t.details.rental?a("p",[t._v("\n        签约租金："),a("span",[t._v("¥"+t._s(t.details.rental))])]):t._e(),t._v(" "),t.details.increaseRate?a("p",[t._v("\n        每年递增："),a("span",[t._v(t._s(t.details.increaseRate)+"%")])]):t._e(),t._v(" "),t.details.expireDate?a("p",[t._v("\n        租期："),a("span",[t._v(t._s(t.details.expireDate))])]):t._e(),t._v(" "),t.details.merchant?a("p",[t._v("\n        签约商家："),a("span",[t._v(t._s(t.details.merchant))])]):t._e(),t._v(" "),t.details.status?a("p",[t._v("\n        销售状态："),a("span",[t._v(t._s(t.details.status))])]):t._e()])]),t._v(" "),a("div",{staticClass:"r-plan"},[a("div",{staticClass:"filter"},[a("el-select",{on:{change:t.changeBuildingNo},model:{value:t.queryData.buildingNo,callback:function(e){t.$set(t.queryData,"buildingNo",e)},expression:"queryData.buildingNo"}},t._l(t.buidings,(function(t,e){return a("el-option",{key:e,attrs:{label:""+t.buildingNo,value:t.buildingNo}})})),1),t._v(" "),a("el-select",{on:{change:t.getEstateHouseList},model:{value:t.queryData.unitNo,callback:function(e){t.$set(t.queryData,"unitNo",e)},expression:"queryData.unitNo"}},t._l(t.units,(function(t,e){return a("el-option",{key:e,attrs:{label:(t||"无")+"单元",value:t}})})),1)],1),t._v(" "),a("el-checkbox-group",{staticClass:"status",on:{change:t.getEstateHouseList},model:{value:t.queryData.status,callback:function(e){t.$set(t.queryData,"status",e)},expression:"queryData.status"}},[a("el-checkbox",{staticClass:"tag ds",attrs:{size:"mini",label:"1",border:""}},[t._v("待售")]),t._v(" "),a("el-checkbox",{staticClass:"tag zs",attrs:{size:"mini",label:"2",border:""}},[t._v("在售")]),t._v(" "),a("el-checkbox",{staticClass:"tag rg",attrs:{size:"mini",label:"3",border:""}},[t._v("认购")]),t._v(" "),a("el-checkbox",{staticClass:"tag cj",attrs:{size:"mini",label:"4",border:""}},[t._v("成交")]),t._v(" "),a("el-checkbox",{staticClass:"tag dj",attrs:{size:"mini",label:"5",border:""}},[t._v("冻结")])],1),t._v(" "),a("ul",{staticClass:"plan"},t._l(t.houses,(function(e,n){return a("li",{key:n},[a("div",{staticClass:"floor"},[a("span",[t._v(t._s(e.floorNo))])]),t._v(" "),a("ol",{staticClass:"house-list"},t._l(e.houses,(function(e,n){return a("li",{key:n,ref:"house",refInFor:!0,class:[["ds","zs","rg","cj","dj"][e.status-1]],on:{click:function(a){return t.handleHouseChange(e.id,e.houseNo,a.target)}}},[t._v("\n            "+t._s(e.houseNo)+"\n          ")])})),0)])})),0)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("ed08"),l=a("f803");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:["estateId","name"],data:function(){return{queryData:{buildingNo:"1",unitNo:"1",estateId:null,status:["1","2","3","4","5"]},houseNo:null,houses:[],details:{},buidings:[],units:[]}},watch:{estateId:{immediate:!0,handler:function(t){this.queryData.estateId=t}}},created:function(){this.init()},methods:{init:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getEstateUnitList();case 2:t.queryData.buildingNo=String(t.name),t.changeBuildingNo(String(t.name));case 4:case"end":return e.stop()}}),e)})))()},handleHouseChange:function(t,e,a){var n=this;return u(r.a.mark((function s(){var i;return r.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n.houseNo=e,s.next=3,Object(l["j"])({id:t});case 3:i=s.sent,i&&(n.details=i,n.$nextTick((function(){if(a)n.handleHouseActive(a);else{var t=n.$refs.house;t.length&&n.handleHouseActive(t[0])}})));case 5:case"end":return s.stop()}}),s)})))()},handleHouseActive:function(t){var e=this.$refs.house;if(e.length){for(var a=0;a<e.length;a++)Object(o["t"])(e[a],"active");Object(o["a"])(t,"active")}},changeBuildingNo:function(t){this.units=this.buidings.find((function(e){return e.buildingNo==t})).unitNos,this.queryData.unitNo=this.units[0],this.getEstateHouseList()},getEstateUnitList:function(){var t=this;return new Promise(function(){var e=u(r.a.mark((function e(a){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(l["i"])({id:t.estateId}).then((function(e){e&&e.length&&(t.buidings=e,t.units=e[0].unitNos,t.queryData.buildingNo=t.buidings[0].buildingNo,t.queryData.unitNo=t.units[0]),a(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getEstateHouseList:function(){var t=this;Object(l["e"])(this.queryData).then((function(e){if(e){if(t.houses=e,!e.length)return;var a=t.houses[0].houses[0];t.handleHouseChange(a.id,a.houseNo)}}))}}},p=d,m=(a("2c9e"),a("f9b8"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"f4570b0a",null);e["default"]=f.exports},"8f18":function(t,e,a){},"8fc8":function(t,e,a){},"8ff6":function(t,e,a){},9047:function(t,e,a){"use strict";var n=a("274c"),s=a.n(n);s.a},9065:function(t,e,a){},"908a":function(t,e,a){"use strict";var n=a("47e3"),s=a.n(n);s.a},"90ab":function(t,e,a){"use strict";var n=a("0664"),s=a.n(n);s.a},"912e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"role-info"},[t._l(t.operatorList,(function(e,n){return[1===Number(e.autitStatus)?a("div",{key:n,staticClass:"info-cell"},[a("el-image",{staticClass:"cell_l",attrs:{src:e.userAvatarPath,fit:"cover"}},[a("img",{staticStyle:{height:"65px"},attrs:{slot:"error",src:t.avatar},slot:"error"})]),t._v(" "),a("div",{staticClass:"cell_r"},[a("p",[t._v(t._s(e.userName))]),t._v(" "),a("p",[t._v("电话："+t._s(t._f("formatPhone")(e.userPhone)))]),t._v(" "),a("p",[t._v("门店："+t._s(e.storeName))]),t._v(" "),a("p",[e.hasChangeRolePermission?a("span",{staticClass:"blue pointer fs12",on:{click:function(a){return t.changeRole(e.roleType,e.roleTypeName)}}},[t._v("\n            [变更]\n          ")]):t._e(),t._v(" "),a("span",[t._v(" ")])])]),t._v(" "),a("div",{staticClass:"cell_tag"},[t._v("\n        "+t._s(e.roleTypeName)+"\n      ")])],1):a("div",{key:n,on:{click:function(a){return t.clickOperator(e)}}},[1==e.roleType?a("div",{staticClass:"info-cell info-no flex"},[a("div",{staticClass:"cell_tag"},[t._v("\n          "+t._s(e.roleTypeName)+"\n        ")]),t._v(" "),!e.oneDay||e.hasUpdatePermission?a("div",{staticClass:"operate"},[a("svg-icon",{attrs:{"icon-class":"maintain"}}),t._v(" "),"0"===String(e.autitStatus)?a("p",{staticClass:"orange"},[t._v("\n            维护人审核中\n          ")]):a("p",[t._v("成为维护人")])],1):a("p",[t._v("24小时内仅供录入人和维护人操作")])]):t._e(),t._v(" "),2==e.roleType?a("div",{staticClass:"info-cell info-no flex"},[a("div",{staticClass:"cell_tag"},[t._v("\n          "+t._s(e.roleTypeName)+"\n        ")]),t._v(" "),!e.oneDay||e.hasUpdatePermission?a("div",{staticClass:"operate"},[a("svg-icon",{attrs:{"icon-class":"qianyue"}}),t._v(" "),"0"===String(e.autitStatus)?a("p",{staticClass:"orange"},[t._v("\n            委托协议审核中\n          ")]):a("p",[t._v("上传委托协议")])],1):a("p",[t._v("24小时内仅供录入人和维护人操作")])]):t._e(),t._v(" "),3==e.roleType?a("div",{staticClass:"info-cell info-no flex"},[a("div",{staticClass:"cell_tag"},[t._v("\n          "+t._s(e.roleTypeName)+"\n        ")]),t._v(" "),!e.oneDay||e.hasUpdatePermission?a("div",{staticClass:"operate"},[a("svg-icon",{attrs:{"icon-class":"camera"}}),t._v(" "),"0"===String(e.autitStatus)?a("p",{staticClass:"orange"},[t._v("\n            实勘审核中\n          ")]):a("p",[t._v("申请实勘")])],1):a("p",[t._v("24小时内仅供录入人和维护人操作")])]):t._e(),t._v(" "),4==e.roleType?a("div",{staticClass:"info-cell info-no flex"},[a("div",{staticClass:"cell_tag"},[t._v("\n          "+t._s(e.roleTypeName)+"\n        ")]),t._v(" "),!e.oneDay||e.hasUpdatePermission?a("div",{staticClass:"operate"},[a("svg-icon",{attrs:{"icon-class":"key"}}),t._v(" "),"0"===String(e.autitStatus)?a("p",{staticClass:"orange"},[t._v("\n            钥匙审核中\n          ")]):a("p",[t._v("提交钥匙")])],1):a("p",[t._v("24小时内仅供录入人和维护人操作")])]):t._e()])]})),t._v(" "),a("window2",{attrs:{width:"430"},model:{value:t.showChangeRole,callback:function(e){t.showChangeRole=e},expression:"showChangeRole"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      变更角色人\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("change-role",{attrs:{id:t.id,roleType:t.roleType,roleTypeName:t.roleTypeName},on:{close:function(e){t.showChangeRole=!1}}})],1)])],2)},s=[],i=a("a34a"),r=a.n(i),o=a("b964"),l=a("326c"),c=a("1195"),u=a.n(c),d=a("96bd");function p(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){p(i,n,s,r,o,"next",t)}function o(t){p(i,n,s,r,o,"throw",t)}r(void 0)}))}}var f={props:{id:{type:[Number,String],required:!0}},components:{Window2:o["a"],ChangeRole:l["default"]},data:function(){return{avatar:u.a,operatorList:[],roleTypeName:"",roleType:"",showChangeRole:!1}},computed:{userInfo:function(){return this.$store.state.settings.userInfo}},created:function(){this.$root.$off("getOperator"),this.$root.$on("getOperator",this.getOperator),this.getOperator()},methods:{getOperator:function(){var t=this;return m(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["a"])(t.id);case 2:a=e.sent,t.operatorList=a;case 4:case"end":return e.stop()}}),e)})))()},clickOperator:function(t){(3!=t.roleType||t.userId!=this.userInfo.userId)&&(t.oneDay&&!t.hasUpdatePermission||"0"===String(t.autitStatus))||this.$emit("clickOperator",{index:Number(t.roleType),create:t.create})},changeRole:function(t,e){this.roleTypeName=e,this.roleType=t,this.showChangeRole=!0}}},v=f,h=(a("e020"),a("2877")),b=Object(h["a"])(v,n,s,!1,null,"11695642",null);e["default"]=b.exports},9133:function(t,e,a){"use strict";var n=a("3c5d"),s=a.n(n);s.a},"91b6":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("b775");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t){return Object(n["a"])({url:"/api/v1/upload/file",method:"post",data:i({dataType:"formData"},t)})}},"920f":function(t,e,a){},"92d4":function(t,e,a){"use strict";var n=a("e484"),s=a.n(n);s.a},"92ed":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAgCAYAAAAMq2gFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDg4RjhBRTA5MUQ0MTFFQUI1N0RDMjc2MTE3M0E0RjAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDg4RjhBRTE5MUQ0MTFFQUI1N0RDMjc2MTE3M0E0RjAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEODhGOEFERTkxRDQxMUVBQjU3REMyNzYxMTczQTRGMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEODhGOEFERjkxRDQxMUVBQjU3REMyNzYxMTczQTRGMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmTjxHEAAAHqSURBVHja7JdLKERRGMfnXpMaynNMSqbslAVKoUYy2aDGUlgpymOwo2wllAUplJWFRyxt7JCVIhaS18xCMgsLm9F4hf+n7+p0um535h47//rN3HPume9/7z3f/c4ZLeYtcbHaQT+oBJkuZ3oCJ2ABrFOHm08sg26XOtGFBpgg6CGjTsUmsij2HhkNSCc+wC1/p6I04Aea0Bcmowqh4w40gTOHd1EHtkE2t8t1fHiEARMKTEgHYFpoe3RpwLnCuTkUG7rJ/KjSq5XRn+nfSJmRX2Fsv5XRGPApMPFxrB+5pQFl4BocOUh1uvgqkGVl5OIBwf+sS9XoBTykEC8GLu0a0fLr5cyhSY3YrGu0FSgCpbzUWNY6yrgwiHP7GAzbMJoFG+CT2ztgTTYSnaPCYENXNozMHldUOH4joxuhoxoUSD8I2TAKmSznLUI7ohvbIVYO2AcdoB5MgUkbRq1gnl/4GrDJF21oVcO+jpbyXemEStFK20B3lACNYBE8KzSgWEscO2FkXZx3qflgUIHJEMfqMzJYTu8MMKLAiCp37m/vEW34VkCxAqNCsAXSzYxGQTMfv3NV0JIkD9xzjFowJxvRZnxcMJ3hqpCsHrmyGOoFXd+PC+lNde2U6xTpgv+6OMlAKkdtQvYFvgQYAEKkV6AhY4cmAAAAAElFTkSuQmCC"},"942d":function(t,e,a){},9438:function(t,e,a){},9574:function(t,e,a){},9592:function(t,e,a){"use strict";var n=a("d6f7"),s=a.n(n);s.a},"95b7":function(t,e,a){"use strict";var n=a("b6ea"),s=a.n(n);s.a},9632:function(t,e,a){"use strict";var n=a("2db2"),s=a.n(n);s.a},9635:function(t,e,a){},9666:function(t,e,a){"use strict";var n=a("f556"),s=a.n(n);s.a},"96bd":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/house/operator/".concat(t),method:"get"})}function i(t,e){return Object(n["a"])({url:"/api/v1/fm/house/operator/".concat(t,"/change"),method:"post",data:e})}function r(t){return Object(n["a"])({url:"/api/v1/fm/house/operator/".concat(t,"/buttons/permissions"),method:"get"})}function o(t){return Object(n["a"])({url:"/api/v1/fm/house/operator/".concat(t,"/to/maintainer"),method:"post",data:{}})}},"970a":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return l}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/community/image/list/".concat(t),method:"get"})}function i(t,e){return Object(n["a"])({url:"/api/v1/fm/community/image/delete/".concat(t,"/").concat(e),method:"post",data:{}})}function r(t,e){return Object(n["a"])({url:"/api/v1/fm/community/image/save/".concat(t),method:"post",data:e})}function o(t,e,a){return Object(n["a"])({url:"/api/v1/fm/community/image/sort/".concat(t,"/").concat(e,"/").concat(a),method:"post",data:{}})}function l(t,e,a){return Object(n["a"])({url:"/api/v1/fm/community/image/update/".concat(t,"/").concat(e),method:"post",data:a})}},9754:function(t,e,a){"use strict";a.d(e,"b",(function(){return l})),a.d(e,"a",(function(){return c}));var n=a("cebe"),s=a.n(n),i=a("5f72"),r=s.a.create({baseURL:"https://dealdata.fangmao.com/fangmao",timeout:5e3});r.interceptors.response.use((function(t){var e=t.data;if(0===e.Code)return e.Data;i["Message"].warning("数据请求出错")}),(function(t){return i["Message"].warning("数据请求出错"),Promise.reject(t)}));var o=r;function l(t){return o({url:"/api/EstateOtherInfo/GetDealVolumeByHistory",method:"post",data:t})}function c(t){return o({url:"/api/EstateOtherInfo/GetDealVolumeByDate",method:"post",data:t})}},9808:function(t,e,a){},"982b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"commission-group-dialog",attrs:{"close-on-click-modal":!1,title:(t.formData.id?"编辑":"新增")+"提成组",visible:t.visible,width:"740px","before-close":t.close},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-position":"top"}},[a("el-row",{attrs:{gutter:40}},[a("h3",{staticClass:"form-cell-title"},[t._v("基本信息")]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提成组名称",prop:"multistageName",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.formData.multistageName,callback:function(e){t.$set(t.formData,"multistageName",e)},expression:"formData.multistageName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",rules:[t.rules.required()]}},[a("el-radio-group",{model:{value:t.formData.state,callback:function(e){t.$set(t.formData,"state",e)},expression:"formData.state"}},[a("el-radio-button",{attrs:{label:!0}},[t._v("启用")]),t._v(" "),a("el-radio-button",{attrs:{label:!1}},[t._v("禁用")])],1)],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("h3",{staticClass:"form-cell-title"},[t._v("提成规则")]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提成类型",rules:[t.rules.required()]}},[a("el-radio-group",{staticClass:"hollow-radio-group",model:{value:t.formData.commissionPlan,callback:function(e){t.$set(t.formData,"commissionPlan",e)},expression:"formData.commissionPlan"}},[a("el-radio-button",{attrs:{label:"FIXED"}},[t._v("固定提成")]),t._v(" "),a("el-radio-button",{attrs:{label:"MULTISTAGE"}},[t._v("多级提成")])],1)],1)],1),t._v(" "),"FIXED"==t.formData.commissionPlan?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提成比例",prop:"rate",rules:[t.rules.required(),t.rules.m0m100p2]}},[a("el-input",{staticClass:"w140",attrs:{type:"number",placeholder:"比例"},model:{value:t.formData.rate,callback:function(e){t.$set(t.formData,"rate",e)},expression:"formData.rate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1)],1):t._e(),t._v(" "),"MULTISTAGE"==t.formData.commissionPlan?a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"可提成层级及比例（最多支持5级提成）"}},[a("el-table",{attrs:{data:t.formData.ranks}},[a("el-table-column",{attrs:{label:"层级",width:"50px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.rankNo)+"级\n              ")]}}],null,!1,2043566669)}),t._v(" "),a("el-table-column",{attrs:{label:"说明",width:"250px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.description)+"\n              ")]}}],null,!1,886180347)}),t._v(" "),a("el-table-column",{attrs:{label:"提成比例"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex"},[a("el-input",{staticClass:"w140",attrs:{placeholder:"比例",type:"number"},model:{value:e.row.rate,callback:function(a){t.$set(e.row,"rate",a)},expression:"scope.row.rate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])]),t._v(" "),e.$index>0?a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(e){return t.removeRank(t.index)}}}):t._e()],1)]}}],null,!1,2695572753)})],1),t._v(" "),t.formData.ranks.length<t.maxRank?a("el-button",{staticClass:"mt20",attrs:{type:"info",icon:"el-icon-plus",size:"small"},on:{click:t.addRank}},[t._v("再添加一条")]):t._e()],1)],1):t._e()],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("h3",{staticClass:"form-cell-title"},[t._v("其他设置")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-switch",{attrs:{"active-color":"#409EFF","active-text":"享受公司总业绩提成"},model:{value:t.esleSwitchModel,callback:function(e){t.esleSwitchModel=e},expression:"esleSwitchModel"}})],1),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-radio-group",{on:{change:t.otherCommissionTypeChange},model:{value:t.formData.otherCommission.otherCommissionPlan,callback:function(e){t.$set(t.formData.otherCommission,"otherCommissionPlan",e)},expression:"formData.otherCommission.otherCommissionPlan"}},[a("el-radio",{attrs:{label:"TOTAL_ACHIEVEMENT",disabled:!t.esleSwitchModel}},[a("span",[t._v("总业绩")]),t._v(" "),a("el-input",{staticClass:"w180 ml20",attrs:{placeholder:"比例",type:"number",disabled:"TOTAL_ACHIEVEMENT"!=t.formData.otherCommission.otherCommissionPlan||!t.esleSwitchModel},model:{value:t.formData.otherCommission.rate,callback:function(e){t.$set(t.formData.otherCommission,"rate",e)},expression:"formData.otherCommission.rate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1),t._v(" "),a("el-radio",{staticClass:"mt10",attrs:{label:"TOTAL_ACHIEVEMENT_EXCLUDE_GAIN",disabled:!t.esleSwitchModel}},[a("span",[t._v("总业绩，不包含已提成部分")]),t._v(" "),a("el-input",{staticClass:"w180 ml20",attrs:{placeholder:"比例",type:"number",disabled:"TOTAL_ACHIEVEMENT_EXCLUDE_GAIN"!=t.formData.otherCommission.otherCommissionPlan||!t.esleSwitchModel},model:{value:t.formData.otherCommission.rate2,callback:function(e){t.$set(t.formData.otherCommission,"rate2",e)},expression:"formData.otherCommission.rate2"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1)],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")])],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("acb0");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d=function(){return{description:"本人",rankNo:1,rate:""}},p={commissionPlan:"FIXED",id:null,multistageName:"",rate:"",otherCommission:{otherCommissionPlan:"TOTAL_ACHIEVEMENT",rate:"",rate2:""},ranks:[d()],state:!0},m={props:{visible:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{esleSwitchModel:!1,rules:o["a"].rules,maxRank:5,formData:JSON.parse(JSON.stringify(p))}},watch:{visible:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.form.clearValidate()}))},options:{deep:!0,handler:function(t){if(t.id){var e=this.$cloneObj(t);e.ranks=e.ranks.map((function(t){return t.rate=100*t.rate,t})),e.otherCommission&&e.otherCommission.rate?(e.otherCommission.rate=100*e.otherCommission.rate,this.esleSwitchModel=!0,"TOTAL_ACHIEVEMENT"!=e.otherCommission.otherCommissionPlan?(e.otherCommission.rate2=e.otherCommission.rate,e.otherCommission.rate=""):e.otherCommission.rate2=""):e.otherCommission={otherCommissionPlan:"TOTAL_ACHIEVEMENT",rate:"",rate2:""},"FIXED"==e.commissionPlan&&(e.rate=e.ranks[0].rate),this.formData=e}}}},created:function(){this.getMultistagePlanMaxRank()},methods:{otherCommissionTypeChange:function(){this.formData.otherCommission.rate="",this.formData.otherCommission.rate2=""},getMultistagePlanMaxRank:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["u"])();case 2:a=e.sent,a&&(t.maxRank=a);case 4:case"end":return e.stop()}}),e)})))()},addRank:function(){this.formData.ranks.push(d()),this.resetRank()},removeRank:function(t){this.formData.ranks.splice(t,1),this.resetRank()},resetRank:function(){this.formData.ranks=this.formData.ranks.map((function(t,e){return t.description=0==e?"本人":"".concat(e,"级的下级，即推荐人为").concat(e,"级的员工"),t.rankNo=e+1,t}))},close:function(){var t=this;this.esleSwitchModel=!1,this.$emit("update:visible",!1),setTimeout((function(){t.formData=t.$cloneObj(p)}),300)},submit:function(){var t=this;this.$refs.form.validate(function(){var e=u(r.a.mark((function e(a){var n,s,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(n=t.$cloneObj(t.formData),"FIXED"!=n.commissionPlan){e.next=8;break}n.ranks=[n.ranks.shift()],n.ranks[0].rate=n.rate,e.next=16;break;case 8:if(s=!1,i=n.ranks.reduce((function(t,e){return Number(e.rate)||(s=!0),t+Number(e.rate)}),0),!s){e.next=13;break}return t.$showError("提成比例不能为0或空"),e.abrupt("return");case 13:if(!(i>100)){e.next=16;break}return t.$showError("提成比例不能大于100%"),e.abrupt("return");case 16:if(!t.esleSwitchModel){e.next=27;break}if("TOTAL_ACHIEVEMENT"!=n.otherCommission.otherCommissionPlan&&(n.otherCommission.rate=n.otherCommission.rate2),Number(n.otherCommission.rate)){e.next=21;break}return t.$showError("业绩提成比例不能为0或空"),e.abrupt("return");case 21:if(!(!Number(n.otherCommission.rate)>100)){e.next=24;break}return t.$showError("业绩提成比例不能大于100%"),e.abrupt("return");case 24:n.otherCommission.rate=n.otherCommission.rate/100,e.next=28;break;case 27:n.otherCommission=null;case 28:return n.ranks=n.ranks.map((function(t){return t.rate=t.rate/100,t})),e.next=31,Object(l["s"])(n);case 31:o=e.sent,o&&(t.$showSuccess("操作成功"),t.$emit("reRequest"),t.close());case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=m,v=(a("06e2"),a("1cd5"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"76f8a522",null);e["default"]=h.exports},"98a3":function(t,e,a){"use strict";var n=a("a7c3"),s=a.n(n);s.a},"997d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-group-form"},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"150px","label-position":"top"}},[a("el-form-item",{attrs:{label:"岗位状态",prop:"workingStatus",rules:[t.rules.required()]}},[a("el-radio-group",{model:{value:t.formData.workingStatus,callback:function(e){t.$set(t.formData,"workingStatus",e)},expression:"formData.workingStatus"}},[t._l(t.statusList,(function(e,n){return a("el-radio-button",{key:n,attrs:{label:e.id}},[t._v("\n          "+t._s(e.name)+"\n        ")])})),t._v(" "),t.showEXPERIENCE?a("el-radio-button",{attrs:{label:"EXPERIENCE"}},[t._v("\n          体验员工\n        ")]):t._e()],2)],1),t._v(" "),t.showEXPERIENCE?a("div",{staticClass:"tip"},[a("p",[t._v("• 待入职：员工需要登录P+系统，完成“办理入职”才能正式使用P+系统；")]),t._v(" "),a("p",[t._v("• 体验员工：体验员工有效期7天，7天后自动锁定账号;")])]):t._e(),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"员工姓名",prop:"name",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"name",placeholder:"请输入",autocomplete:"off"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}},[a("div",{staticStyle:{width:"50px"},attrs:{slot:"append"},slot:"append"},[a("el-select",{attrs:{placeholder:"性别"},model:{value:t.formData.gender,callback:function(e){t.$set(t.formData,"gender",e)},expression:"formData.gender"}},t._l(t.config.sexes,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)])],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"入职时间",prop:"entryDate",rules:[t.rules.required()]}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",align:"right",type:"date",placeholder:"选择日期"},model:{value:t.formData.entryDate,callback:function(e){t.$set(t.formData,"entryDate",e)},expression:"formData.entryDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"试用期",prop:"probation",rules:[t.rules.required()]}},[a("el-input",{attrs:{type:"number",placeholder:"请输入",autocomplete:"off"},model:{value:t.formData.probation,callback:function(e){t.$set(t.formData,"probation",e)},expression:"formData.probation"}},[a("div",{staticStyle:{width:"50px"},attrs:{slot:"append"},slot:"append"},[t._v("\n              个月\n            ")])])],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},["INCUMBENCY_FORMAL"==t.formData.workingStatus?a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"转正时间",prop:"formalDate",rules:[t.rules.required()]}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.formData.formalDate,callback:function(e){t.$set(t.formData,"formalDate",e)},expression:"formData.formalDate"}})],1)],1):t._e(),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所属部门",prop:"departmentIdStr",rules:[t.rules.required()]}},[a("el-cascader",{ref:"departmentTree",staticStyle:{width:"100%"},attrs:{placeholder:"请选择",props:{value:"uqId",label:"name",checkStrictly:!0,emitPath:!1},options:t.departmentTreeList},on:{change:t.changeDepartment},model:{value:t.formData.departmentIdStr,callback:function(e){t.$set(t.formData,"departmentIdStr",e)},expression:"formData.departmentIdStr"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[t.formData.departmentIdStr?a("el-form-item",{attrs:{label:"岗位名称",prop:"postId",rules:[t.rules.required()]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.postId,callback:function(e){t.$set(t.formData,"postId",e)},expression:"formData.postId"}},t._l(t.positions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):t._e()],1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否部门主管",prop:"administration",rules:[t.rules.required()]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.administration,callback:function(e){t.$set(t.formData,"administration",e)},expression:"formData.administration"}},t._l(t.config.bool,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"系统登录手机",prop:"cellphone",rules:[t.rules.required(),t.rules.tel]}},[a("el-input",{attrs:{type:"text",placeholder:"请输入",autocomplete:"off"},model:{value:t.formData.cellphone,callback:function(e){t.$set(t.formData,"cellphone",e)},expression:"formData.cellphone"}})],1)],1)],1),t._v(" "),"COMPANY"==t.currentNode.departmentType?a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"业务范围",prop:"businessScopeIds",rules:[t.rules.required()]}},[a("el-cascader",{staticClass:"w100",attrs:{props:{value:"id",label:"name",multiple:!0,emitPath:!1},options:t.businesses},model:{value:t.formData.businessScopeIds,callback:function(e){t.$set(t.formData,"businessScopeIds",e)},expression:"formData.businessScopeIds"}})],1)],1)],1):t._e(),t._v(" "),a("el-divider"),t._v(" "),a("el-form-item",{attrs:{label:"业绩提成方案",prop:"multistageRuleId",required:""}},[a("el-radio-group",{model:{value:t.formData.multistageRuleId,callback:function(e){t.$set(t.formData,"multistageRuleId",e)},expression:"formData.multistageRuleId"}},t._l(t.multistageRuleList,(function(e,n){return a("el-radio-button",{key:n,attrs:{label:e.k}},[t._v("\n          "+t._s(e.v)+"\n        ")])})),1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"指定推荐人"}},[a("autocomplete",{attrs:{options:t.inviterAutocompleteOptions,currentValue:t.formData.inviterId},on:{setValue:t.setValue}})],1)],1)],1),t._v(" "),a("div",{staticClass:"tip"},[a("p",[t._v("\n        •\n        每月1号生成上月员工关系网，用于多级提成计算，如果要变更当月员工，请在次月1号之前完成；\n      ")])])],1),t._v(" "),a("div",{staticClass:"submit x2  mt20"},[a("el-button",{staticClass:"width180",on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{staticClass:"width180",attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n      保存\n    ")])],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("c24f"),l=a("6e6f"),c=a("acb0"),u=a("db49"),d=a("c9b7");function p(t){return v(t)||f(t)||_(t)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function v(t){if(Array.isArray(t))return y(t)}function h(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function b(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){h(i,n,s,r,o,"next",t)}function o(t){h(i,n,s,r,o,"throw",t)}r(void 0)}))}}function g(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function _(t,e){if(t){if("string"===typeof t)return y(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var w={workingStatus:"PENDING",name:"",gender:1,entryDate:"",probation:null,postId:"",formalDate:"",departmentIdStr:"",businessScopeIds:[],cellphone:"",administration:null,multistageRuleId:0,inviterId:null},C={components:{autocomplete:d["a"]},props:{options:{type:Object,default:function(){}}},data:function(){return{isDisabledPhone:!1,departmentTreeList:[],config:u["a"].config,rules:u["a"].rules,formData:JSON.parse(JSON.stringify(w)),positions:[],statusList:[{id:"PENDING",name:"待入职"},{id:"INCUMBENCY_INTERNSHIP",name:"试用期"},{id:"INCUMBENCY_FORMAL",name:"正式员工"}],currentNode:{},inviterList:[],multistageRuleList:[],inviterAutocompleteOptions:{placeholder:"输入姓名搜索",name:"v",value:"k",func:o["b"]}}},watch:{options:{immediate:!0,handler:function(t){var e=this,a=!0;if(t.id){this.departmentTree(!0,t),this.formData=this.$cloneObj(t);var n=this.$cloneObj(t);if(n.entryDate&&n.entryDate.includes("日")&&(this.formData.entryDate=n.entryDate.replace(/(年|月)/g,"-"),this.formData.entryDate=this.formData.entryDate.replace("日","")),this.formData.multistageRuleId=this.formData.multistageRuleId||0,n.formalDate&&n.formalDate.includes("日")&&(this.formData.formalDate=n.formalDate.replace(/(年|月)/g,"-"),this.formData.formalDate=this.formData.formalDate.replace("日","")),n.userBusinessScopeList&&n.userBusinessScopeList.length){this.showBusiness=!0;var s,i=[],r=g(n.userBusinessScopeList);try{for(r.s();!(s=r.n()).done;){var o,l=s.value,c=g(l.businessScopeList);try{for(c.s();!(o=c.n()).done;){var u=o.value;i.push([u.businessScopeId])}}catch(m){c.e(m)}finally{c.f()}}}catch(m){r.e(m)}finally{r.f()}this.formData.businessScopeIds=i}var d=JSON.parse(JSON.stringify(w));for(var p in d.id="",d)d[p]=this.formData[p];this.formData=JSON.parse(JSON.stringify(d))}else a=!1,this.formData=this.$cloneObj(w);this.$nextTick((function(){e.departmentTree(a,t),e.$refs.form.clearValidate()}))}}},computed:{userInfo:function(){return this.$store.state.settings.userInfo},showEXPERIENCE:function(){var t=!1;return"/coc/hr/staff"==this.$route.path&&"COMPANY"==this.currentNode.departmentType&&(t=!0),t}},created:function(){this.initData(),this.getDictList(),this.multistagePlanSummaryList()},methods:{setValue:function(t){this.formData.inviterId=t},multistagePlanSummaryList:function(){var t=this;return b(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["l"])();case 2:a=e.sent,t.multistageRuleList=[{k:0,v:"不适用"}].concat(p(a));case 4:case"end":return e.stop()}}),e)})))()},getDepartmentTree:function(t){var e=this;if(t&&t.current)for(var a in t.current)t[a]=t.current[a];t&&t.children&&t.children.length&&t.children.forEach((function(t){e.getDepartmentTree(t)}))},initData:function(){"/home/userInfo"!=this.$route.path&&this.formData.employeeId&&(this.isDisabledPhone=!0)},changeDepartment:function(){var t=this;if(this.$refs.departmentTree){var e=this.$refs.departmentTree.getCheckedNodes(!0);e.length&&e[0]&&(this.currentNode=e[0]&&e[0].data||{},this.$nextTick((function(){t.getPosition()})))}},departmentTree:function(t,e){var a=this,n=JSON.parse(JSON.stringify(e.departmentTree));this.getDepartmentTree(n),this.departmentTreeList=n,t&&this.$nextTick((function(){a.changeDepartment()}))},getDictList:function(){var t=this;return b(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={dicttype:5},e.next=3,Object(c["n"])(a);case 3:n=e.sent,n&&(t.businesses=n);case 5:case"end":return e.stop()}}),e)})))()},getPosition:function(){var t=this;return b(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={nodeType:t.currentNode.departmentNodeType,id:t.currentNode.id},e.next=3,Object(l["g"])(a);case 3:n=e.sent,s=n.list,t.positions=s;case 6:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},submit:function(){var t=this;return b(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.form.validate(function(){var e=b(r.a.mark((function e(a){var n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return n=t.$cloneObj(t.formData),0==n.multistageRuleId&&delete n.multistageRuleId,e.next=5,Object(o["d"])(n);case 5:s=e.sent,s&&(t.formData.id?t.$showSuccess("编辑成功"):(i=t.formData.name,t.$confirm("员工创建成功，相关信息已通过短信发送给了“".concat(i,"”"),"创建成功",{confirmButtonText:"知道了",type:"success",center:!0,showCancelButton:!1})),t.close(),t.formData=t.$cloneObj(w),t.$nextTick((function(){t.$refs.form.resetFields()})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()}}},k=C,x=(a("d4ee"),a("2877")),D=Object(x["a"])(k,n,s,!1,null,null,null);e["default"]=D.exports},"99cb":function(t,e,a){"use strict";var n=a("e284"),s=a.n(n);s.a},"9a2d":function(t,e,a){t.exports=a.p+"img/sfahoo.f7d67110.png"},"9a2e":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return i})),a.d(e,"f",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"e",(function(){return c}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/house/key/create",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/house/key/detail/".concat(t),method:"get"})}function r(t){return Object(n["a"])({url:"/api/v1/fm/house/key/update",method:"put",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/house/key/borrowApply",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/api/v1/fm/house/key/returnKey",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/api/v1/fm/house/key/returnKey/owner",method:"post",data:t})}},"9aa5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cost-statistics"},[a("div",{staticClass:"head"},[a("div",{staticClass:"filtrator"},[a("el-date-picker",{attrs:{size:"small",type:"month","value-format":"yyyy-MM-01",format:"yyyy年MM月",placeholder:"选择月","picker-options":t.$disabledFutureDate},on:{change:t.search},model:{value:t.queryData.feeDate,callback:function(e){t.$set(t.queryData,"feeDate",e)},expression:"queryData.feeDate"}}),t._v(" "),a("el-select",{attrs:{size:"small",clearable:"",placeholder:"门店"},on:{change:t.search},model:{value:t.queryData.storeId,callback:function(e){t.$set(t.queryData,"storeId",e)},expression:"queryData.storeId"}},t._l(t.store,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("div",{staticClass:"operator"},[a("div",{on:{click:t.print}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"print"}}),t._v(" "),a("span",[t._v("打印")])],1),t._v(" "),a("div",{on:{click:t.exportPDF}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"export"}}),t._v(" "),a("span",[t._v("导出PDF")])],1),t._v(" "),a("div",{on:{click:t.refresh}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"refresh"}}),t._v(" "),a("span",[t._v("重新生成")])],1)])]),t._v(" "),a("div",{staticClass:"content"},[a("h2",{staticClass:"title"},[t._v("门店费用支出汇总表")]),t._v(" "),a("div",{staticClass:"base-info flex"},[a("p",[a("span",[t._v("门店：")]),t._v(t._s(t.statistics.storeName))]),t._v(" "),a("p",[a("span",[t._v("日期：")]),t._v(t._s(t.statistics.feeDate))])]),t._v(" "),a("el-table",{attrs:{size:"small",data:t.statistics.kindList,"row-key":"id",border:"","tree-props":{children:"items",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center","show-overflow-tooltip":"",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用类型/明细"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.feeKind||e.row.remark)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"feeDate",label:"支出时间",width:"120px"}}),t._v(" "),a("el-table-column",{staticClass:"ta-right",attrs:{prop:"amount",label:"费用金额",width:"400px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"fr"},[t._v(t._s(t._f("toThousands")(e.row.amount||e.row.totalAmount)))])]}}])})],1)],1),t._v(" "),t.showPrintDom?a("div",{staticClass:"content",attrs:{id:"cost-statistics"}},[a("h2",{staticClass:"title"},[t._v("门店费用支出汇总表")]),t._v(" "),a("div",{staticClass:"base-info flex"},[a("p",[a("span",[t._v("门店：")]),t._v(t._s(t.statistics.storeName))]),t._v(" "),a("p",[a("span",[t._v("日期：")]),t._v(t._s(t.statistics.feeDate))])]),t._v(" "),a("el-table",{attrs:{size:"small",data:t.statistics.kindList,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"items",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center","show-overflow-tooltip":"",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用类型/明细"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.feeKind||e.row.remark)+"\n        ")]}}],null,!1,1365273521)}),t._v(" "),a("el-table-column",{attrs:{prop:"feeDate",label:"支出时间",width:"120px"}}),t._v(" "),a("el-table-column",{staticClass:"ta-right",attrs:{prop:"amount",label:"费用金额",width:"400px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"fr"},[t._v(t._s(t._f("toThousands")(e.row.amount||e.row.totalAmount)))])]}}],null,!1,975838840)})],1)],1):t._e()])},s=[],i=a("a34a"),r=a.n(i),o=a("405f"),l=a("73f5"),c=a("ed08");a("fe63");function u(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=d(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function m(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function f(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){m(i,n,s,r,o,"next",t)}function o(t){m(i,n,s,r,o,"throw",t)}r(void 0)}))}}var v={data:function(){return{queryData:{siteId:null,feeDate:"",storeId:null},showPrintDom:!1,store:[],statistics:{kindList:[]}}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){var t=this;return f(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.initData(),e.next=3,t.getUserStore();case 3:t.search();case 4:case"end":return e.stop()}}),e)})))()},methods:{print:function(){var t=this;this.showPrintDom=!0,this.$nextTick((function(){new Print("#cost-statistics"),t.showPrintDom=!1}))},exportPDF:function(){var t=this;this.showPrintDom=!0,this.$nextTick((function(){t.getPDF("#cost-statistics","门店费用支出汇总表"),t.showPrintDom=!1}))},refresh:function(){var t=this;this.statistics.kindList=[],setTimeout((function(){t.search()}),300)},getSummary:function(){return["合计(共".concat(this.statistics.total,"条)"),"-",this.statistics.totalAmount]},handleTableData:function(t){var e=1,a=function t(a){var n,s=u(a);try{for(s.s();!(n=s.n()).done;){var i=n.value;i.id=e++,i.feeDate||(i.feeDate="-"),i.items&&i.items.length&&t(i.items)}}catch(r){s.e(r)}finally{s.f()}};return a(t),t},initData:function(){this.queryData.siteId=this.site.id,this.queryData.feeDate=Object(c["j"])().month.start},search:function(){var t=this;return f(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["f"])(t.queryData);case 2:if(a=e.sent,!a){e.next=9;break}if(t.statistics=a,a.kindList){e.next=7;break}return e.abrupt("return");case 7:t.statistics.kindList=t.handleTableData(a.kindList),t.statistics.kindList.push({feeKind:"合计(".concat(a.total,"条)"),totalAmount:a.totalAmount});case 9:case"end":return e.stop()}}),e)})))()},getUserStore:function(){var t=this;return f(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["j"])({siteId:t.site.id});case 2:a=e.sent,a&&(n=t.$store.state.settings.userInfo.storeId,t.store=a,a.some((function(t){return t.id==n}))?t.queryData.storeId=n:t.queryData.storeId=a[0].id);case 4:case"end":return e.stop()}}),e)})))()}}},h=v,b=(a("45b5"),a("44d1"),a("2877")),g=Object(b["a"])(h,n,s,!1,null,"77c4ce9e",null);e["default"]=g.exports},"9aed":function(t,e,a){},"9af3":function(t,e,a){"use strict";var n=a("0a58"),s=a.n(n);s.a},"9b7c":function(t,e,a){"use strict";var n=a("66b1"),s=a.n(n);s.a},"9bac":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Overview"),t._v(" "),a("div",{staticClass:"data-board"},[a("div",{staticClass:"mb15"},[a("realTimeData")],1),t._v(" "),a("div",{staticClass:"mb15"},[a("strokeVolume")],1),t._v(" "),a("div",{staticClass:"mb15"},[a("performance")],1)])],1)},s=[],i=a("1cbe"),r=a("d6f0"),o=a("3314"),l=a("066c"),c={components:{Overview:i["default"],realTimeData:r["default"],strokeVolume:o["default"],performance:l["default"]}},u=c,d=(a("1fea"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=p.exports},"9bf2":function(t,e,a){},"9c2e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu-manage"},[a("div",{staticClass:"title"},[a("div",{staticClass:"l fm-filtrator"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入名字、模块标识、菜单访问路径",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.queryData.keyword,callback:function(e){t.$set(t.queryData,"keyword",e)},expression:"queryData.keyword"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("el-select",{attrs:{clearable:"",size:"small",placeholder:"类型筛选"},on:{change:function(e){return t.search(1)}},model:{value:t.queryData.menuType,callback:function(e){t.$set(t.queryData,"menuType",e)},expression:"queryData.menuType"}},t._l(t.menuTypeList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1)],1),t._v(" "),a("div",{staticClass:"r"},[a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.addItem}},[t._v("\n        新 增\n      ")])],1)]),t._v(" "),a("el-table",{staticClass:"table",attrs:{border:"",data:t.menuList,size:"small"},on:{"selection-change":t.handleSelectionChange}},[t.batchFlag?a("el-table-column",{attrs:{type:"selection",width:"50px"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"menuName",label:"菜单名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"menuPage",label:"访问路径"}}),t._v(" "),a("el-table-column",{attrs:{prop:"componentPath",label:"模块标识"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pname",label:"上级菜单名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"menuType",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.menuTypes[e.row.menuType])+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.menuStatus[e.row.status]||"-")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"btn blue",on:{click:function(a){return t.editItem(e.row)}}},[t._v("编辑")]),t._v(" "),a("span",{staticClass:"btn red",on:{click:function(a){return t.deleteItem(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.queryData.pageSize,"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next","current-page":t.queryData.pageNum,total:t.totalNum},on:{"current-change":t.pageNumChange,"update:currentPage":function(e){return t.$set(t.queryData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryData,"pageNum",e)}}})],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.formTitle,visible:t.showEditDialog,width:"500px"},on:{"update:visible":function(e){t.showEditDialog=e},open:function(e){return t.getMenuTree()}}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"类型",prop:"menuType",rules:[t.formRules.required()]}},[a("el-select",{staticClass:"select",model:{value:t.formData.menuType,callback:function(e){t.$set(t.formData,"menuType",e)},expression:"formData.menuType"}},t._l(t.menuTypeList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"menuName",rules:[t.formRules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.menuName,callback:function(e){t.$set(t.formData,"menuName",e)},expression:"formData.menuName"}})],1),t._v(" "),1==t.formData.menuType?a("el-form-item",{attrs:{label:"权限",prop:"menuOwnership"}},[a("el-select",{staticClass:"select",model:{value:t.formData.menuOwnership,callback:function(e){t.$set(t.formData,"menuOwnership",e)},expression:"formData.menuOwnership"}},t._l(t.chooseList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1)],1):t._e(),t._v(" "),3!==t.formData.menuType?a("el-form-item",{attrs:{label:"访问路径",prop:"menuPage",rules:[t.formRules.required()]}},[a("el-input",{attrs:{placeholder:"请输入访问路径"},model:{value:t.formData.menuPage,callback:function(e){t.$set(t.formData,"menuPage",e)},expression:"formData.menuPage"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"模块标识",rules:[t.formRules.required()],prop:"componentPath"}},[a("el-input",{attrs:{placeholder:"菜单组件路径/按钮模块Key"},model:{value:t.formData.componentPath,callback:function(e){t.$set(t.formData,"componentPath",e)},expression:"formData.componentPath"}})],1),t._v(" "),3!==t.formData.menuType?a("el-form-item",{attrs:{label:"菜单图标",prop:"menuIcon"}},[a("el-input",{attrs:{placeholder:"请输入菜单图标名字"},model:{value:t.formData.menuIcon,callback:function(e){t.$set(t.formData,"menuIcon",e)},expression:"formData.menuIcon"}})],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"menu-tree scroll-mini",attrs:{label:"上级菜单",prop:"parentName"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:t.parentMenu,placeholder:"上级菜单",clearable:"",props:{label:"menuName",value:"id",checkStrictly:!0,emitPath:!1}},model:{value:t.formData.pid,callback:function(e){t.$set(t.formData,"pid",e)},expression:"formData.pid"}})],1),t._v(" "),2==t.formData.menuType?a("el-form-item",{staticClass:"menu-tree scroll-mini",attrs:{label:"权限继承菜单",prop:"inherit"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:t.parentMenu,placeholder:"选择要继承的权限数组",clearable:"",props:{label:"menuName",value:"id",checkStrictly:!0,emitPath:!1,multiple:!0}},model:{value:t.formData.inherit,callback:function(e){t.$set(t.formData,"inherit",e)},expression:"formData.inherit"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status",rules:[t.formRules.required()]}},[a("el-select",{staticClass:"select",model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},t._l(t.menuStatusList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"是否永久显示"}},[a("el-select",{staticClass:"select",model:{value:t.formData.common,callback:function(e){t.$set(t.formData,"common",e)},expression:"formData.common"}},[a("el-option",{attrs:{value:!1,label:"否"}}),t._v(" "),a("el-option",{attrs:{value:!0,label:"是"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{attrs:{placeholder:"数字越大 排序越靠前"},model:{value:t.formData.sort,callback:function(e){t.$set(t.formData,"sort",t._n(e))},expression:"formData.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"APIS",prop:"apis"}},[a("el-input",{attrs:{placeholder:"接口apis，可用逗号分隔"},model:{value:t.formData.apis,callback:function(e){t.$set(t.formData,"apis",e)},expression:"formData.apis"}})],1)],1),t._v(" "),a("template",{slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitForm}},[t._v("\n        提 交\n      ")])],1)],2)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("1f27"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={menuOwnership:null,id:"",menuName:"",menuPage:"",componentPath:"",parentName:" ",pid:null,inherit:[],menuType:1,status:null,sort:null,menuIcon:"",common:!1,apis:null},p={data:function(){return{formTitle:"",totalNum:0,queryData:{keyword:"",menuType:null,pageSize:10,pageNum:1},formData:JSON.parse(JSON.stringify(d)),formRules:l["a"].rules,showEditDialog:!1,menuList:[],parentMenu:[],selected:[],batchFlag:"",menuStatus:{1:"展开",2:"不展开",3:"隐藏"},menuTypes:{1:"类别",2:"菜单项",3:"权限"},menuStatusList:[{name:"展开",value:1},{name:"不展开",value:2},{name:"隐藏",value:3}],menuTypeList:[{name:"类别",value:1},{name:"菜单项",value:2},{name:"权限",value:3}],chooseList:[{name:"超级管理员",value:"ADMIN"},{name:"运营中心",value:"OPERATION"},{name:"公司",value:"COMPANY"}]}},computed:{site:function(){return this.$store.state.settings.site},showForm:function(){return 3!=this.formData.menuType&&4!=this.formData.menuType}},created:function(){this.search()},methods:{getMenuTree:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$nextTick((function(){t.$refs.form.clearValidate()})),e.next=3,Object(o["e"])();case 3:a=e.sent,a&&(t.parentMenu=a);case 5:case"end":return e.stop()}}),e)})))()},search:function(t){var e=this;return u(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.queryData.pageNum="number"!=typeof t?1:t,a.next=3,Object(o["d"])(e.queryData);case 3:n=a.sent,n&&(e.menuList=n.list.map((function(t){for(var e in t)t[e]||(t[e]="-");return t})),e.totalNum=n.total);case 5:case"end":return a.stop()}}),a)})))()},addItem:function(){this.formTitle="新增菜单/按钮/模块",this.showEditDialog=!0;var t=this.formData.pid;this.formData=this.$cloneObj(d),this.formData.pid=t},editItem:function(t){this.formTitle="编辑菜单/按钮/模块";var e=this.$cloneObj(t);for(var a in e)"-"==e[a]&&(e[a]=null);this.formData=e,this.showEditDialog=!0},handleSelectionChange:function(t){this.selected=t},submitForm:function(){var t=this;this.$refs.form.validate(function(){var e=u(r.a.mark((function e(a){var n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return delete t.formData.integrated,e.next=5,Object(o["c"])(t.formData);case 5:n=e.sent,n&&(t.showEditDialog=!1,t.$message({message:"提交成功",type:"success"}),t.search(t.queryData.pageNum));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},deleteItem:function(t){var e=this;this.$showConfirm(u(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["b"])({id:t.id});case 2:n=a.sent,n&&(e.$message({message:"删除成功",type:"success"}),1==e.menuList.length&&1!=e.queryData.pageNum&&e.queryData.pageNum--,e.search(e.queryData.pageNum));case 4:case"end":return a.stop()}}),a)}))))},pageNumChange:function(t){this.search(Number(t))}}},m=p,f=(a("8792"),a("9666"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,null,null);e["default"]=v.exports},"9cb1":function(t,e,a){},"9cc0":function(t,e,a){},"9cea":function(t,e,a){},"9d49":function(t,e,a){},"9ed6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login",style:"background-image: url("+t.loginbg+")"},[t.noChrome?a("div",{staticClass:"chrome"},[t._v("\n    为了良好的操作体验，请使用"),a("a",{staticStyle:{color:"blue"},attrs:{href:t.chromeHref}},[t._v("谷歌浏览器(点击直接下载)")]),t._v("（注：其他浏览器可能存在兼容性问题）\n  ")]):t._e(),t._v(" "),a("vue-particles",{staticClass:"bg-canvas",attrs:{color:"#f7b2b7",particleOpacity:.7,particlesNumber:40,shapeType:"circle",particleSize:4,linesColor:"#f7b2b7",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:3,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}}),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"fm-logo"},[a("img",{attrs:{src:t.fmLogo}})]),t._v(" "),a("div",[a("div",{staticClass:"content"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:t.fangmao}})]),t._v(" "),t.showQR?a("div",[a("p",{staticClass:"fs16 pointer mb20",on:{click:function(e){t.showQR=!1}}},[a("i",{staticStyle:{"font-family":"'simsun'"}},[t._v("<")]),t._v(" 返回登录\n          ")]),t._v(" "),a("div",{staticClass:"flex-center qr-box"},[a("qrcode-vue",{staticClass:"qrcode",attrs:{size:t.size,value:t.value,renderAs:"svg",level:"H"}}),t._v(" "),a("div",{staticClass:"img"},[a("img",{attrs:{src:t.fangmao}})])],1),t._v(" "),a("p",{staticClass:"fs12 color9 ta-center mt10"},[t._v(t._s(t.msg))])]):a("div",[a("div",{staticClass:"tabs"},t._l(t.tabs,(function(e,n){return a("span",{key:n,class:{active:n===t.tabIndex},on:{click:function(e){t.tabIndex=n}}},[t._v("\n              "+t._s(e)+"\n            ")])})),0),t._v(" "),a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,autocomplete:"on","label-position":"left"}},[a("el-form-item",{attrs:{prop:"tel",rules:[t.rules.required(),t.rules.tel]}},[a("el-input",{attrs:{placeholder:"请输入手机号",type:"text",maxlength:"11"},model:{value:t.loginForm.tel,callback:function(e){t.$set(t.loginForm,"tel",e)},expression:"loginForm.tel"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"vcode",rules:[t.rules.required(),t.rules.d6]}},[a("el-input",{attrs:{placeholder:"请输入短信验证码",type:"text",maxlength:"6"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.loginForm.vcode,callback:function(e){t.$set(t.loginForm,"vcode",e)},expression:"loginForm.vcode"}},[a("div",{staticClass:"verification",attrs:{slot:"suffix"},slot:"suffix"},[a("i"),t._v(" "),a("p",{on:{click:t.sms}},[t._v("\n                    "+t._s(t.vText)+"\n                  ")])])])],1)],1),t._v(" "),a("el-button",{staticClass:"btn",class:{disabled:t.disabledBtn},attrs:{loading:t.disabledBtn,disabled:t.disabledBtn},on:{click:t.login}},[t._v("\n            登录\n          ")]),t._v(" "),a("div",[a("el-button",{staticClass:"btn2",on:{click:function(e){t.showQR=!0}}},[t._v("\n              "+t._s(t.msg)+"\n            ")])],1)],1)])])])],1)},s=[],i=a("a34a"),r=a.n(i),o=a("d7b0"),l=a("7ded"),c=a("22fb"),u=a.n(c),d=a("ab55"),p=a.n(d),m=a("5940"),f=a.n(m),v=a("9fe9"),h=a("db49");function b(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function g(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){b(i,n,s,r,o,"next",t)}function o(t){b(i,n,s,r,o,"throw",t)}r(void 0)}))}}var _=60,y={components:{MyFooter:v["a"],QrcodeVue:o["a"]},data:function(){return{rules:h["a"].rules,loginbg:u.a,fangmao:p.a,fmLogo:f.a,vText:"发送验证码",timer:null,time:_,smsing:!1,disabledBtn:!1,loginForm:{tel:"",vcode:""},tabIndex:0,tabs:["快捷登陆"],msg:"下载P+移动客户端",showQR:!1,value:"http://pcn.fangmao.com/download/download.html",size:220}},computed:{noChrome:function(){var t=-1==navigator.userAgent.indexOf("Chrome");return t},chromeHref:function(){var t=/macintosh|mac os x/i.test(navigator.userAgent),e="https://fangyibao-res.oss-cn-hangzhou.aliyuncs.com/app_download/ChromeSetup.rar";return t&&(e="https://fangyibao-res.oss-cn-hangzhou.aliyuncs.com/app_download/googlechrome.dmg"),e}},methods:{sms:function(){var t=this;this.$refs.loginForm.validateField("tel",(function(e){var a=["目前只支持中国大陆的手机号码","不能为空"];if(-1!==a.indexOf(e))return!1;t.smsing||(t.smsing=!0,Object(l["f"])({cellphone:t.loginForm.tel}),t.timer=setInterval((function(){t.time--,t.vText="".concat(t.time,"s"),t.time<0&&(t.vText="发送验证码",t.disabledBtn=!1,clearInterval(t.timer),t.time=_,t.smsing=!1)}),1e3))}))},login:function(){var t=this;return g(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(-1===window.location.host.indexOf("localhost")){e.next=12;break}return a="",a="666666",n="",n=117,t.$store.commit("user/SET_TOKEN",a),t.$store.commit("user/SET_USER_ID",n),e.next=9,t.$store.dispatch("settings/getUserInfo");case 9:t.$store.dispatch("settings/getUserMenu").then((function(e){t.$navigateTo({path:e[0].path})})),e.next=13;break;case 12:t.$refs.loginForm.validate(function(){var e=g(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=13;break}return t.disabledBtn=!0,e.next=4,t.$store.dispatch("user/login",t.loginForm);case 4:if(n=e.sent,!n){e.next=12;break}return e.next=8,t.$store.dispatch("settings/getUserInfo");case 8:s=e.sent,t.$store.dispatch("settings/getUserMenu").then((function(e){2!==s.workingStatus?t.$navigateTo(e[0].path):t.$navigateTo("/enrollment")})),e.next=13;break;case 12:t.disabledBtn=!1;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}}),e)})))()}}},w=y,C=(a("5e68"),a("2877")),k=Object(C["a"])(w,n,s,!1,null,"b3b5f3a8",null);e["default"]=k.exports},"9ee8":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/house/owner/".concat(t),method:"get"})}function i(t,e){return Object(n["a"])({url:"/api/v1/fm/house/owner/".concat(t),method:"put",data:e})}},"9ef7":function(t,e,a){},"9efa":function(t,e,a){},"9fe9":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[t._v(t._s(t.msg))])},s=[],i={data:function(){return{msg:"copyright © 2019 四川熊猫房猫科技有限公司"}}},r=i,o=(a("527f"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"830d7da8",null);e["a"]=l.exports},a093:function(t,e,a){},a0a9:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"scroll-box"},[a("div",{staticClass:"navs-warp",style:"height:"+t.height+"px;margin-bottom:"+t.navMarginBottom+"px;"},[a("div",{staticClass:"navs flex-between"},[a("div",{staticClass:"left-navs"},t._l(t.navs,(function(e,n){return a("div",{key:n,staticClass:"navs-cell",class:{active:n===t.active},style:"height:"+t.height+"px;",on:{click:function(e){return t.scrollTo(n)}}},[t._v("\n          "+t._s(e)+"\n        ")])})),0),t._v(" "),t._t("nav-right")],2)]),t._v(" "),a("div",{staticClass:"scroll-box-content"},[t._t("main")],2)])},s=[],i=a("ed08"),r={props:{navs:{type:Array,default:function(){return[]}},navMarginBottom:{type:Number,default:20}},data:function(){return{height:40,isScrollTo:!0,active:0}},mounted:function(){this.initEvents()},activated:function(){this.initEvents()},deactivated:function(){var t=document.querySelector(".sub-views");t&&t.removeEventListener("scroll",this.onScroll),window.removeEventListener("wheel",this.onWheel),this.isScrollTo=!1},methods:{initEvents:function(){var t=this;this.$nextTick((function(){var e=document.querySelector(".sub-views");e.addEventListener("scroll",t.onScroll),window.addEventListener("wheel",t.onWheel)}))},onWheel:function(){this.isScrollTo=!1},onScroll:function(){var t=this.height+this.navMarginBottom,e=document.querySelectorAll(".scroll-box-content>div>div"),a=document.querySelector(".sub-views"),n=[];e.forEach((function(t){n.push(t.offsetTop)}));for(var s=a.scrollTop,r=a.scrollHeight,o=document.body.clientHeight,l=0,c=0;c<n.length;c++)s>=n[c]-t&&(l=c);s>=r-o&&(l=this.navs.length-1),this.active=l;var u=document.querySelector(".scroll-box"),d=document.querySelector(".navs"),p=d.offsetWidth;s>=u.offsetTop?(Object(i["a"])(d,"fixed"),d.style.top="110px",d.style.left="170px",d.style.width=p+"px",this.$emit("scrollover")):(Object(i["t"])(d,"fixed"),this.$emit("scrollout"))},scrollTo:function(t){this.isScrollTo=!0;var e=this,a=this.height+this.navMarginBottom,n=document.querySelector(".sub-views"),s=document.querySelector(".scroll-box-content>div>div:nth-child(".concat(t+1,")")).offsetTop-a+2,i=n.scrollTop,r=20;function o(){i<s&&(s-i>=r?i+=r:i=s,n.scrollTop=i,e.isScrollTo&&requestAnimationFrame(o))}function l(){i>s&&(i-s>=r?i-=r:i=s,n.scrollTop=i,e.isScrollTo&&requestAnimationFrame(l))}i>s?l():o()}}},o=r,l=(a("a7c2"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"3e139120",null);e["a"]=c.exports},a166:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzRERjYxMEUwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzRERjYxMEYwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDNERGNjEwQzBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDNERGNjEwRDBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkuXCZcAAAN4SURBVHja7JlfSNNRFMfvZBiC0IoesscSbZaVkik9VSPpqSjYg0pQFj1kEFQUVBBBwYL1UiREWBBRD4Osp/ChkhArrUCWmqaSBdmD/TFkgoTre9j30m/RZHPb/f20Xfhw99vuPcevP+69557jikajKtkWCoVUmm0ZOA/qwV1wDozP1Zjf7095Tp4y09zgMBhk72E/wN5t6O8wIngb6AHXwBIwBI6yX8rv5fet813wKnAfPAZlYAKcAGvAFfby/JO/P+H4lfNNcCG4AMJgN5gBN4EXXAbTHDfN59X8fYbj33J+odMFu0Ad1+kZUABegE3gABhLMG+Mv9dwfAHnD9Cey4mCN4JO7rxFFCE78WbwOkkb3RzfwPkraE/sVjpFsIhrAS/5hqbARVAC7oFoivaiFFlCO1O0200/y+0SnA+Og37QSDutoBycBZNp/l2TtLOOdvPop59+800L7gBBsBj0AR/YA4YzvMcM0a6Pfjz0+8y04CrLZzlWIlk+PiP0o1u1XWv4F9dYJ4+WogwLFXu3aL+G/mzdtHxcY3J07OeRdDKdNWbZI07R3j7aFz/b7Rb8gWtMwsJeBguX+HnnHG3u4vwA7fUxPBU/I045h9vBBtAEvoJi8BA8YtiYTCvj+Aec/4321oOnToy0ZH01M1Rs5vMOXgyC3GH/1TwMMXs4XtsptdhxdCw9zjdTyTfv5tn5Hhy0+JT+EL8/xnHtnNeUzj3ZrttSmGtb1t4oL/83wCsKl/46vx+17AXh+X4fbuVNSUdgFRReYYmovBy3IBIAyhJjyx24i991caPSMbNaSIJ1+2i5PUn/ybB/44JtbznBOcE5wTnB/5XgOmWuauCmP1sEP2cfYNBfm2WxtfQT4HOHacFbVKxqMMFoqU3FqgbFGRZaTLtt9PODfn2mBeuqgVdlp2pQyJCzV81evTC+hnXVQJJqUjVYpGJVA0nNNKjUqwYyfi/nn2aqR+xW0c8Xp+zSctWTqkE9/wmSfLujYsm3qiRtVHP8bc7/rP5UL9448ViSqoFUG/6uGsgbalGJM5q6eqEzk/pmVarmVr0wfg7rO265iq8avFPxVQNdvRhU8dWLtSoz1YuEZ1u22jCzGJJxvMpdNmh5Y42WNS6ZySMqg8k6OyMtKXRL5lHyVN8tIqXPSmbSCaGlzkSWsI+oLGYmZ2u/BRgAqaXb6InwlO4AAAAASUVORK5CYII="},a175:function(t,e,a){"use strict";var n=a("4b77"),s=a.n(n);s.a},a1b3:function(t,e,a){},a250:function(t,e,a){},a337:function(t,e,a){},a337c:function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stroke-volumne"},[a("div",{staticClass:"user"},[a("el-tree",{ref:"tree",staticClass:"fm-custom-tree",attrs:{data:t.storegrouptree,"highlight-current":"","default-expand-all":"","expand-on-click-node":!1,"node-key":"nodeId",props:{value:"nodeId"}},on:{"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var n=e.data;return a("div",{staticClass:"custom-node"},["site"==n.type?a("div",{staticClass:"node"},[a("span",{staticClass:"store icon"},[t._v("站")]),a("span",[t._v(t._s(n.name))])]):t._e(),t._v(" "),"store"==n.type?a("div",{staticClass:"node"},[a("span",{staticClass:"store icon"},[t._v("店")]),a("span",[t._v(t._s(n.name))])]):t._e(),t._v(" "),"group"==n.type?a("div",{staticClass:"node"},[a("span",{staticClass:"group icon"},[t._v("组")]),a("span",[t._v(t._s(n.name))])]):t._e(),t._v(" "),"department"==n.type?a("div",{staticClass:"node"},[a("span",{staticClass:"department icon"},[t._v("部")]),a("span",[t._v(t._s(n.name))])]):t._e(),t._v(" "),n.type&&"user"!=n.type&&"departmentuser"!=n.type?t._e():a("div",{staticClass:"node"},[a("svg-icon",{staticClass:"svg-icon",attrs:{"icon-class":"user2"}}),t._v(" "),a("span",[t._v(t._s(n.name))])],1)])}}])})],1),t._v(" "),a("div",{staticClass:"statistics"},[a("div",{staticClass:"head"},[a("div",{staticClass:"filtrator"},[a("div",{staticClass:"tag"},[a("span",{on:{click:function(e){return t.clickDate(1)}}},[t._v("本周")]),t._v(" "),a("span",{on:{click:function(e){return t.clickDate(2)}}},[t._v("本月")]),t._v(" "),a("span",{on:{click:function(e){return t.clickDate(3)}}},[t._v("全年")])]),t._v(" "),a("el-date-picker",{attrs:{size:"mini","picker-options":t.$disabledFutureDate,type:"daterange","range-separator":"-","start-placeholder":"统计日期","end-placeholder":"统计日期","value-format":"yyyy-MM-dd"},model:{value:t.queryData.date,callback:function(e){t.$set(t.queryData,"date",e)},expression:"queryData.date"}})],1),t._v(" "),a("div",{staticClass:"operator"})]),t._v(" "),a("div",{staticClass:"table"},[t._l(t.statistics.labels,(function(e,n){return a("div",{key:n},[a("div",{staticClass:"cell gray-bg",style:"width: "+(n?"56px":"175px")+";height: 44px;"},[t._v("\n          "+t._s(e.label)+"\n        ")]),t._v(" "),t._l(e.values,(function(e,s){return a("div",{key:s},[a("div",{staticClass:"cell",class:{noborder:n===t.statistics.labels.length-1},staticStyle:{background:"#fffeef"}},[t._v("\n            "+t._s(n?"":e.label)+"\n          ")]),t._v(" "),t._l(e.values,(function(e,s){return a("div",{key:s,staticClass:"cell color9",class:{blue:n===t.statistics.labels.length-1}},[t._v("\n            "+t._s(0==e?"":e)+"\n          ")])}))],2)}))],2)})),t._v(" "),a("div",{staticClass:"value-box"},t._l(t.statistics.values,(function(e,n){return a("div",{key:n},[a("div",{staticClass:"cell gray-bg",style:"width: 56px;height: 44px;"},[t._v("\n            "+t._s(e.label)+"\n          ")]),t._v(" "),t._l(e.values,(function(e,s){return a("div",{key:s},[a("div",{staticClass:"cell",class:{noborder:n!==t.statistics.values.length-1},staticStyle:{background:"#fffeef"}}),t._v(" "),t._l(e.values,(function(e,n){return a("div",{key:n,staticClass:"cell blue"},[t._v("\n              "+t._s(0==e?"":e)+"\n            ")])}))],2)}))],2)})),0)],2)])])},i=[],r=a("a34a"),o=a.n(r),l=a("2b6d"),c=a("48fb");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var m={data:function(){return{queryData:{date:[],dateType:null},storegrouptree:[],statistics:{}}},computed:{storeGroupTreeNodeId:function(){return this.$store.state.settings.userInfo.storeGroupTreeNodeId},tree:function(){return this.$refs.tree}},watch:(n={},p(n,"queryData.date",(function(t){t&&this.getStatistics()})),p(n,"storeGroupTreeNodeId",(function(t){t&&(this.queryData.nodeId=t,this.getStatistics())})),n),created:function(){this.init()},methods:{init:function(){this.getStoregrouptree();var t=this.$time().subtract("days",6).format("YYYY-MM-DD"),e=this.$time().format("YYYY-MM-DD");this.queryData.date=[t,e],this.storeGroupTreeNodeId&&(this.queryData.nodeId=this.storeGroupTreeNodeId,this.getStatistics())},clickDate:function(t){if(1==t){var e=this.$time().startOf("week").format("YYYY-MM-DD"),a=this.$time().format("YYYY-MM-DD");this.queryData.date=[e,a]}if(2==t){var n=this.$time().startOf("month").format("YYYY-MM-DD"),s=this.$time().format("YYYY-MM-DD");this.queryData.date=[n,s]}if(3==t){var i=this.$time().startOf("year").format("YYYY-MM-DD"),r=this.$time().format("YYYY-MM-DD");this.queryData.date=[i,r]}this.getStatistics()},nodeClick:function(t){this.queryData.nodeId=t.nodeId,this.getStatistics()},getStoregrouptree:function(){var t=this;return d(o.a.mark((function e(){var a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["v"])();case 2:a=e.sent,t.storegrouptree=a,t.$nextTick((function(){t.$refs.tree.setCurrentKey(t.storeGroupTreeNodeId)}));case 5:case"end":return e.stop()}}),e)})))()},getStatistics:function(){var t=this;return d(o.a.mark((function e(){var a,n,s;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.queryData.date,t.queryData.startDate=a[0],t.queryData.endDate=a[1],n=JSON.parse(JSON.stringify(t.queryData)),delete n.date,e.next=7,Object(c["b"])(n);case 7:s=e.sent,t.statistics=s||{};case 9:case"end":return e.stop()}}),e)})))()}}},f=m,v=(a("c41e"),a("2877")),h=Object(v["a"])(f,s,i,!1,null,"d3729ea4",null);e["default"]=h.exports},a37e:function(t,e,a){"use strict";var n=a("5f33"),s=a.n(n);s.a},a382:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAABICAYAAACuukaYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTkyRTk5QTk4REI5MTFFQUI1N0RDMjc2MTE3M0E0RjAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTkyRTk5QUE4REI5MTFFQUI1N0RDMjc2MTE3M0E0RjAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5OTJFOTlBNzhEQjkxMUVBQjU3REMyNzYxMTczQTRGMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5OTJFOTlBODhEQjkxMUVBQjU3REMyNzYxMTczQTRGMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt8AKxMAAAUISURBVHja7Jt7bBRFHMenvXot9MAK8TyLmoYKhUQSIUpIMRoLPhIjgRixYEKUKIlojCQq/rFKQk4TNT6DSnyBsQpqjFqIEBsIWB8RKX/YoAaC2pKWhkobe0cf17vD7y/zq53b7tbbvV1or/NLvpmb29nfzmfeO3NXIMapLdjZfguC7VAR9PSR2vK3ndxf6HcG48uWFfjk+hVoJXQNtBkFMWlMgcNeA/yLY63FFJ2HZ0z1ye8G6DNmMNDU+5zcXOBjE38HwfXQVfzVX9Bdofr6P/O9xj+HjkKrOf4B1CEmiqHmt5MmYh/fDfUJbdq0XQjzdDqLygURraZWQDOgGHQY2mnIET7/wAF9MYKvoJtsknxJiw5DzufZ+qT81UC10CKoHOriwnwTvhrHAvinCO7+v9kNWoMMf5GFv8UItkDXjpLsKfh6/oKBI5NzEPyWZfI09AAyvG2UWt5My9As/S1Bwv1O8/zfS0q8WZRANS7ZbzDF+6EXeC2dtHjmuwC8zQI6gKDOATTZ424yXAjYS6D1+ByBHsXnK6A1Dv2ETPEW5HyjIQe6WdD3FvAfRWWfVWv6LWWJq1o39WnofhooTdcWugLnkfd2aCN0EfQNP8iJnTDFq7iPCh7MbubBTbXp0HtK/BnoQQvf9LJTCT8PG3Lj4UfT9XOu+jhq9zmEZdAvVAvQ69A/0K7QPLEvyz5ONX7KVPPHocXIbCenCSI4yKOzait5SbvLwvVDuH+r8pwZPKJHlDQHDFmwjmv8W+hX6DJoNpfgAag1WyeGHK23mL6mJr47Kv1SmgSCe6AeU7pXeQvJbI+YoGci2GeCFjb3ZgVOTWc9z4/wLypIqO3jDn09K0bO0dT/DsPpjQxPhfmkKU05N3vVXkbaN4YWRVGZvyPUhUzpmriVumrqJQjnQae59O+lOMB/cjGtLeDmHLK4/CH341bOsN38/AMvgkp54bLBAlhwRS0yhOMKypzHUQBU+2EA57RZEB0eyKy2nFJ87Qy0zsZFHXc7gg/apKFKWgroZs9XbjxgLYeuduE3zP15mg/L7Fbe3elxeN9ZaO9QYRXYQF+HoB66PA9fzF6CnghYQE/lAS+Sp2+k1VCH1b56LfexfLbHrPbc5qiRycXFYloo5OlTU+m0GEwmRVc8LtLnhhde06dMEZOCQc8pexOJeFcspkJUFY324kJWEQ6LW+fP96XY329oED19w/uQ1XPnisqI9z3sVHd3+yeNjbNtISeSaXANrsE1uAbX4Bpcg2vw8WJWa/WEGvm9rU2c6PDnFxyJZOZZw96mJlFY6H1d4KWo0vyVFXjGXlsab1ID6fR5qYXBVApZSvnh2rzvcMiqeOnEsymPWzm9B28aAW7Is647hDxRyTejTc5VYGwY9bQ0Kg8Y6GCAjpbuhNYOXSsLB8XS+67MKRdfb20RvT3D/bx6RUSUzyp17a+lOSZ+3nNa/YpOcdYp0IcAPWA3uKm1f0xIUSFUqNeKJwdE1cKynMAbtp3MiBN0Lj4Hzo4YH3qNkWd2eh7X4Bpcg2twDa7BNbgG1+AaXINrcA2uwTW4BtfgGlyDe2eu/1ua6E+LlqOxnB6eHMz8c0HnyT5RUhpw7e/vtn5fwDvVSHfHgKjbdMzTWji4o93rij3jRVOnvzgNjrMWvcfuQsABdbxGHi8tGSfQ9AP+tfvlX8HcgzP8d4D/Q8jfu146RoHpd+wfC3lGZtvU/xVgADPARQ2I/Q9NAAAAAElFTkSuQmCC"},a3a0f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dao-box"},[a("div",{staticClass:"main"},[a("div",{staticClass:"title x3 aic"},[a("div",{staticClass:"x"},[a("el-input",{staticClass:"search-input",attrs:{"prefix-icon":"el-icon-search",placeholder:"角色名称",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.query.keyWord,callback:function(e){t.$set(t.query,"keyWord",e)},expression:"query.keyWord"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("\n          搜索\n        ")])],1),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.tj,expression:"tj"}],attrs:{type:"primary",size:"small",plain:""},on:{click:t.addItem}},[t._v("\n        添加角色\n      ")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"角色名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"description",label:"角色描述"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inUserName",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inDate",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.modifiable?[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.editItem(e.row)}}},[t._v("\n              编辑\n            ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.toSetting(e.row)}}},[t._v("\n              权限设置\n            ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.sc,expression:"sc"}],staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.deleteItem(e.row)}}},[t._v("\n              删除\n            ")])]:void 0}}],null,!0)})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.query.pageSize,"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next","current-page":t.query.pageNum,total:t.total},on:{"current-change":t.pageNumChange,"update:currentPage":function(e){return t.$set(t.query,"pageNum",e)},"update:current-page":function(e){return t.$set(t.query,"pageNum",e)}}})],1)],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.formTitle,visible:t.showDialog,width:"500px"},on:{"update:visible":function(e){t.showDialog=e}}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"角色描述",prop:"des"}},[a("el-input",{attrs:{type:"textarea",maxlength:"100",rows:5,size:"small",placeholder:"角色描述"},model:{value:t.formData.des,callback:function(e){t.$set(t.formData,"des",e)},expression:"formData.des"}})],1)],1),t._v(" "),a("div",{staticClass:"save x2"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("cc5e"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={name:"",des:""},p={data:function(){return{showDialog:!1,formData:JSON.parse(JSON.stringify(d)),list:[],total:0,query:{keyWord:"",pageSize:10,pageNum:1}}},computed:{rules:function(){return l["a"].rules}},created:function(){this.getRole()},methods:{pageNumChange:function(t){this.query.pageNum=t,this.getRole()},getRole:function(){var t=this;return u(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.query);case 2:a=e.sent,n=a.list,s=a.total,t.list=n,t.total=s;case 6:case"end":return e.stop()}}),e)})))()},search:function(){this.query.pageNum=1,this.getRole()},addItem:function(){var t=this;this.formData=JSON.parse(JSON.stringify(d)),this.formTitle="添加角色",this.showDialog=!0,this.$nextTick((function(){t.$refs.form.clearValidate()}))},editItem:function(t){var e={id:t.id,name:t.name,des:t.description};this.formData=e,this.formTitle="编辑角色",this.showDialog=!0},deleteItem:function(t){var e=this;this.$showConfirm(u(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["a"])({id:t.id});case 2:n=a.sent,n&&(e.$message({message:"删除成功",type:"success"}),e.search());case 4:case"end":return a.stop()}}),a)}))))},save:function(){var t=this;this.$refs.form.validate(function(){var e=u(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return n=t.formData,e.next=4,Object(o["b"])(n);case 4:s=e.sent,s&&(t.showDialog=!1,t.search()),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},toSetting:function(t){var e=this.$route.path;this.$navigateTo({query:{name:t.name},path:"".concat(e,"Setting/").concat(t.id)})}}},m=p,f=(a("c1a3"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"d71b64e6",null);e["default"]=v.exports},a435:function(t,e,a){},a48c:function(t,e,a){"use strict";var n=a("261f"),s=a.n(n);s.a},a4b0:function(t,e,a){},a5bd:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"provision"},[a("div",{staticClass:"content"},[a("h2",{staticClass:"title"},[t._v("计提明细表")]),t._v(" "),a("div",{staticClass:"base-info flex"}),t._v(" "),a("el-table",{attrs:{size:"small",data:t.tableData,border:"","tree-props":{children:"items",hasChildren:"hasChildren"},"span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{label:"年/月份",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.period)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"实收业绩",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.practicalAchievement)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"计提科目",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.accrualName)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"计提比例",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.rate)+" ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"计提金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2"},[t._v("\n          "+t._s(e.row.commissionAmount)+"\n        ")])}}])})],1),t._v(" "),a("div",{staticClass:"total x aic"},t._l(t.totalList,(function(e,n){return a("div",{key:n,staticClass:"flex1 x1 aic bold"},[t._v("\n        "+t._s(e.k)+":\n        "+t._s(e.v)+"\n      ")])})),0),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{"current-page":t.query.pageIndex,background:"","page-size":t.query.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.query,"pageIndex",e)},"update:current-page":function(e){return t.$set(t.query,"pageIndex",e)},"current-change":t.handleCurrentChange}})],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("2b6d");function l(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){l(i,n,s,r,o,"next",t)}function o(t){l(i,n,s,r,o,"throw",t)}r(void 0)}))}}var u={data:function(){return{tableData:[],query:{pageIndex:1,pageSize:20},total:0,totalList:[]}},created:function(){this.accrualDetailPage()},methods:{accrualDetailPage:function(){var t=this;return c(r.a.mark((function e(){var a,n,s,i,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])(t.query);case 2:a=e.sent,a&&(t.totalList=a.totalList,n=a.page||{},t.tableData=n.list||[],t.total=n.total||0,s="",i=1,l={},t.tableData.forEach((function(t){l[t.period]?l[t.period]++:l[t.period]=1,s==t.period?(i++,t.num=i,t.cellLength=l[t.period]):(s=t.period,i=1,t.num=i)})),t.tableData.forEach((function(t){t.cellLength=l[t.period]})));case 4:case"end":return e.stop()}}),e)})))()},objectSpanMethod:function(t){var e=t.row,a=(t.column,t.rowIndex,t.columnIndex);if(0===a||1===a)return 1==e.num?{rowspan:e.cellLength,colspan:1}:{rowspan:0,colspan:0}},handleCurrentChange:function(t){this.query.pageIndex=t,this.accrualDetailPage()}}},d=u,p=(a("6921"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"ce4743bc",null);e["default"]=m.exports},a728:function(t,e,a){"use strict";var n=a("6fd4"),s=a.n(n);s.a},a7c2:function(t,e,a){"use strict";var n=a("b4dc"),s=a.n(n);s.a},a7c3:function(t,e,a){},a7c4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"house-detail width1200"},[a("div",{staticClass:"title flex"},[a("span",{staticClass:"l"},[t._v(t._s(t.detail.baseInfo.communityName))]),t._v(" "),a("span",{staticClass:"c"},[t._v(t._s(t._f("isEmpty")(t.filterTool("propertyType"))))]),t._v(" "),a("span",{staticClass:"r"},[t._v("房源编号："+t._s(t.detail.baseInfo.houseCode))]),t._v(" "),a("div",{staticClass:"tags flex"},[0==t.detail.shelvesStatus?a("span",{staticClass:"tag gray-bg2"},[t._v("草稿")]):t._e(),t._v(" "),1==t.detail.shelvesStatus?a("span",{staticClass:"tag blue-bg2"},[t._v("\n        待审核\n      ")]):t._e(),t._v(" "),3==t.detail.shelvesStatus?a("span",{staticClass:"tag red-bg2"},[t._v("驳回")]):t._e()]),t._v(" "),a("div",{staticClass:"flex1"},[a("el-button-group",{staticClass:"fr"},[t.detail.inUserId!=t.userInfo.userId||0!=t.detail.shelvesStatus&&3!=t.detail.shelvesStatus?t._e():a("el-button",{staticStyle:{width:"80px"},attrs:{size:"mini"},on:{click:function(e){return e.stopPropagation(),t.submitCheck()}}},[a("span",{staticClass:"blue"},[t._v("提交审核")])]),t._v(" "),1==t.detail.shelvesStatus?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.sjsh,expression:"sjsh"}],attrs:{size:"mini"},on:{click:function(e){e.stopPropagation(),t.toggleCheckDialog=!0}}},[a("span",{staticClass:"blue"},[t._v("审核")])]):t._e()],1)],1)]),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"content"},[a("div",{staticClass:"info"},[a("div",{staticClass:"l"},[a("swiper",{attrs:{photos:t.survey2.itemList}}),t._v(" "),t.detail.baseInfo.isSeal?a("div",{staticClass:"tag lock flex-center"},[a("div",[a("svg-icon",{attrs:{"icon-class":"lock"}}),t._v(" "),a("p",[t._v("封盘")]),t._v(" "),a("p",{staticClass:"tips"},[t._v(t._s(t.detail.baseInfo.sealLockTime))])],1)]):t.showInvalidTag(t.detail.baseInfo.statusReason)?a("div",{staticClass:"tag type2"},[t._v("\n            "+t._s(t.showInvalidTag(t.detail.baseInfo.statusReason))+"\n          ")]):t._e()],1),t._v(" "),a("div",{staticClass:"r"},[a("div",{staticClass:"r_t flex-between"},[t.detail.listingPrice?a("p",[a("span",[t._v(t._s(t._f("toIntCeil")(t.detail.listingPrice)))]),t._v("\n              万元\n              "),a("span",[t._v("单价")]),t._v("\n              "+t._s(t._f("toIntCeil")(t.detail.unitPrice))+"\n              "),a("span",[t._v("元/平米")]),t._v(" "),t.detail.minimumPrice?[a("span",[t._v("，底价")]),t._v("\n                "+t._s(t.detail.minimumPrice)+"万元\n              ")]:t._e()],2):a("p",[a("span",[t._v("价格待定")])]),t._v(" "),2==t.detail.shelvesStatus?a("div",[t.detail.isFocus?a("div",{staticClass:"like"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"love2"},on:{click:t.likeHouse}}),t._v(" "),a("p",[t._v("取消关注")])],1):a("div",{staticClass:"like"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"love"},on:{click:t.likeHouse}}),t._v(" "),a("p",[t._v("关注")])],1)]):t._e()]),t._v(" "),a("div",{staticClass:"r_c"},[a("div",[a("p",[t._v("户型")]),t._v(" "),a("p",[t._v("\n                "+t._s(t.detail.houseTypeStr)+"\n              ")])]),t._v(" "),a("div",[a("p",[t._v("面积")]),t._v(" "),a("p",[t._v(t._s(t._f("toFix2")(t.detail.baseInfo.buildingArea))+"平米")])]),t._v(" "),a("div",[a("p",[t._v("朝向")]),t._v(" "),a("p",[t._v(t._s(t._f("isEmpty")(t.filterTool("orientation"))))])]),t._v(" "),a("div",[a("p",[t._v("装修")]),t._v(" "),a("p",[t._v(t._s(t._f("isEmpty")(t.filterTool("decoration"))))])]),t._v(" "),a("div",[a("p",[t._v("楼层")]),t._v(" "),a("p",[t._v("\n                "+t._s(t.detail.propertyInfo.floorLocationDesc)+"\n                "),t.detail.propertyInfo.floorLocationDesc?[t._v("\n                  /\n                ")]:t._e(),t._v("\n                "+t._s(t.detail.baseInfo.totalFloorNumber)+"\n              ")],2)])]),t._v(" "),a("div",{staticClass:"r_b"},[a("div",[a("p",[t._v("\n                挂牌时间："),a("span",[t._v(t._s(t.detail.listingTimeStr))])])]),t._v(" "),a("div",[a("p",[t._v("备件信息："+t._s(t._f("isEmpty")(t.detail.entrust.desc)))])]),t._v(" "),a("div",[a("p",[t._v("房屋来源："+t._s(t._f("isEmpty")(t.houseSource)))])]),t._v(" "),a("div",[a("p",[t._v("房源等级："+t._s(t._f("isEmpty")(t.filterTool("houseLevel"))))])]),t._v(" "),a("div",[a("p",[t._v("录入人："+t._s(t._f("isEmpty")(t.detail.inUser)))])]),t._v(" "),a("div",[a("p",[t._v("维护人："+t._s(t._f("isEmpty")(t.detail.maintainUser)))])])])])]),t._v(" "),a("scroll-box",{staticClass:"detail-item",attrs:{navs:t.navs,navMarginBottom:10}},[a("div",{attrs:{slot:"main"},slot:"main"},[a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-title"},[a("div",{staticClass:"l"},[a("p",[t._v("维护信息")])]),t._v(" "),a("div",{staticClass:"r"},[t.hasPermissions(10)?a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:t.goMaintainPage}},[a("svg-icon",{attrs:{"icon-class":"edit"}}),t._v(" "),a("span",[t._v("维护房源")])],1):t._e()],1)]),t._v(" "),a("div",{staticClass:"tab-main"},[a("div",{staticClass:"re"},[a("div",{staticClass:"re_t"},[a("p",[t._v("\n                    看房信息\n                  ")]),t._v(" "),a("p",{staticClass:"re_t_p"},[t._v("\n                    最近\n                    "),a("span",[t._v("30")]),t._v("\n                    天"),a("span",[t._v(t._s(t.detail.take.takeCountOf30day))]),t._v("次带看（总带看"),a("span",[t._v(t._s(t.detail.take.takeCount))]),t._v("次），"),a("span",[t._v(t._s(t.detail.take.userFocusCount))]),t._v("位经纪人关注\n                  ")])]),t._v(" "),a("div",{staticClass:"re_wh"},[a("p",{staticClass:"bold"},[t._v("\n                    钥匙情况:\n                    "),t.detail.keyInfo&&t.detail.keyInfo.id?[a("span",{staticClass:"blue pointer",on:{click:t.manageKey}},[t._v("\n                        "+t._s(t.detail.keyInfo.storeName||"无店铺名称")+"\n                      ")]),t._v(" "),a("span",{staticStyle:{margin:"0"}},[t._v("(")]),t._v(" "),a("span",{class:{orange:2==t.detail.keyInfo.keyStatus,red:3==t.detail.keyInfo.keyStatus},staticStyle:{margin:"0"}},[t._v("\n                        "+t._s(t._f("isEmpty")(t.detail.keyInfo.keyStatusName))+"\n                      ")]),t._v(" "),a("span",{staticStyle:{margin:"0"}},[t._v(")")])]:[a("span",[t._v("暂无钥匙")]),t._v(" "),t.detail.houseId?a("span",{staticClass:"link-btn",on:{click:function(e){t.showKey=!0}}},[a("svg-icon",{attrs:{"icon-class":"key"}}),t._v("\n                        提交钥匙\n                      ")],1):t._e()]],2),t._v(" "),a("p",{staticClass:"bold"},[t._v("\n                    近期可看房时间：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.baseInfo.recentHouseViewTime))+"\n                    ")])]),t._v(" "),a("p",[t._v("\n                    常规看房时间：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.baseInfo.routineHouseViewShortTime))+"\n                    ")])]),t._v(" "),a("p",[t._v("\n                    房屋空置情况：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.baseInfo.houseStatus))+"\n                    ")])])])]),t._v(" "),a("div",{staticClass:"re"},[a("div",{staticClass:"re_t"},[a("p",[t._v("\n                    价格信息\n                  ")])]),t._v(" "),a("div",{staticClass:"re_wh"},[1==t.typeIndex||3==t.typeIndex?a("p",{staticClass:"bold"},[t._v("\n                    房屋年限：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.filterTool("houseAge",1)))+"\n                    ")])]):t._e(),t._v(" "),1==t.typeIndex||3==t.typeIndex?a("p",{staticClass:"bold"},[t._v("\n                    是否唯一：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("toBool")(t._f("isEmpty")(t.detail.propertyInfo.isOnly)))+"\n                    ")])]):t._e(),t._v(" "),a("p",{staticClass:"bold"},[t._v("\n                    付款要求：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.payRequire))+"\n                    ")])]),t._v(" "),a("p",[t._v("\n                    原购价格：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.purchasePrice))),t.detail.purchasePrice?a("i",[t._v("万元")]):t._e()])]),t._v(" "),a("p",[t._v("\n                    过户指导价：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.guidePrice))),t.detail.guidePrice?a("i",[t._v("元/平米")]):t._e()])]),t._v(" "),a("p",[t._v("\n                    是否提供原始税票：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("toBool")(t._f("isEmpty")(t.detail.hasOriginalInvoice)))+"\n                    ")])])])]),t._v(" "),a("div",{staticClass:"re"},[a("div",{staticClass:"re_t"},[a("p",[t._v("\n                    业主信息\n                  ")])]),t._v(" "),a("div",{staticClass:"re_wh"},[a("p",{staticClass:"bold"},[t._v("\n                    售房原因：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.sellReason))+"\n                    ")])]),t._v(" "),1==t.typeIndex||3==t.typeIndex?a("p",{staticClass:"bold"},[t._v("\n                    户口情况：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.propertyInfo.householdStatus))+"\n                    ")])]):t._e(),t._v(" "),a("p",{staticClass:"bold"},[t._v("\n                    抵押情况：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.mortgageStatus))+"\n                    ")]),t._v(" "),t.detail.mortgageStatus&&"无抵押"!=t.detail.mortgageStatus?a("span",[t._v("\n                      抵押金额"+t._s(t.detail.mortgagePrice)+"万元\n                    ")]):t._e()]),t._v(" "),a("p",[t._v("\n                    是否随时可签：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("toBool")(t._f("isEmpty")(t.detail.isSignAnytime)))+"\n                    ")])]),t._v(" "),a("p",[t._v("\n                    期望出售周期：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.expectSaleCycle))+"\n                    ")])]),t._v(" "),a("p",[t._v("\n                    联系人是否为业主：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("toBool")(t._f("isEmpty")(t.detail.contactIsOwner)))+"\n                    ")])]),t._v(" "),a("p",[t._v("\n                    产权是否共有：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("toBool")(t._f("isEmpty")(t.detail.isPropertyShared)))+"\n                    ")])]),t._v(" "),a("p",[t._v("\n                    婚姻状况：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.marryStatus))+"\n                    ")])])])]),t._v(" "),a("div",{staticClass:"re"},[a("div",{staticClass:"re_t"},[a("p",[t._v("\n                    房源信息\n                  ")])]),t._v(" "),a("div",{staticClass:"re_wh"},[a("p",{staticClass:"bold"},[t._v("\n                    建筑类型：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.baseInfo.buildingTypeStr))+"\n                    ")])]),t._v(" "),1==t.typeIndex||2==t.typeIndex?a("p",{staticClass:"bold"},[t._v("\n                    梯户比：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.propertyInfo.liftHouseholdsRatio))+"\n                    ")])]):t._e(),t._v(" "),1==t.typeIndex||2==t.typeIndex||3==t.typeIndex?a("p",[t._v("\n                    产权性质：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.filterTool("propertyRightType",1)))+"\n                    ")])]):t._e(),t._v(" "),a("p",[t._v("\n                    产权年限：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.filterTool("propertyRightLimit")))+"\n                    ")])]),t._v(" "),a("p",[t._v("\n                    建成年代：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.baseInfo.buildingTime))),t.detail.baseInfo.buildingTime?a("i",[t._v("年")]):t._e()])]),t._v(" "),5==t.typeIndex?a("p",[t._v("\n                    是否临街：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("toBool")(t._f("isEmpty")(t.detail.propertyInfo.isFaceStreet)))+"\n                    ")])]):t._e(),t._v(" "),a("p",[t._v("\n                    层高：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.baseInfo.houseHigh))+"\n                      "),t.detail.baseInfo.houseHigh?a("i",[t._v("米")]):t._e()])]),t._v(" "),5==t.typeIndex?a("p",[t._v("\n                    面宽：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.propertyInfo.houseWidth))+"\n                      "),t.detail.baseInfo.houseWidth?a("i",[t._v("米")]):t._e()])]):t._e(),t._v(" "),5==t.typeIndex?a("p",[t._v("\n                    进深：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.propertyInfo.houseDepth))+"\n                      "),t.detail.baseInfo.houseDepth?a("i",[t._v("米")]):t._e()])]):t._e(),t._v(" "),5==t.typeIndex?a("p",[t._v("\n                    适合经营：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.propertyInfo.suitableOperation))+"\n                    ")])]):t._e(),t._v(" "),1==t.typeIndex||2==t.typeIndex||3==t.typeIndex?a("p",[t._v("\n                    凶宅信息：\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t.detail.propertyInfo.unluckyInfo))+"\n                    ")])]):t._e()])]),t._v(" "),a("div",{staticClass:"re"},[a("div",{staticClass:"re_t"},[a("p",[t._v("\n                    特色信息\n                  ")])]),t._v(" "),a("div",{staticClass:"re_wh"},[1==t.typeIndex||2==t.typeIndex||3==t.typeIndex?a("p",{staticClass:"bold"},[t._v("\n                    是否有车位:\n                    "),a("span",[t._v("\n                      "+t._s(t._f("toBool")(t.detail.propertyInfo.hasParkingPlace))+"\n                    ")])]):t._e(),t._v(" "),1==t.typeIndex||3==t.typeIndex?a("p",{staticClass:"bold"},[t._v("\n                    是否有学区名额:\n                    "),a("span",[t._v("\n                      "+t._s(t._f("toBool")(t.detail.propertyInfo.hasSchoolPlace))+"\n                    ")])]):t._e(),t._v(" "),a("p",[t._v("\n                    赠送面积:\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t._f("toFix2")(t.detail.baseInfo.giftAreaCount)))),t.detail.baseInfo.giftAreaCount?a("i",[t._v("平米")]):t._e()])]),t._v(" "),a("p",[t._v("\n                    使用面积:\n                    "),a("span",[t._v("\n                      "+t._s(t._f("isEmpty")(t._f("toFix2")(t.detail.baseInfo.useAreaCount)))),t.detail.baseInfo.useAreaCount?a("i",[t._v("平米")]):t._e()])]),t._v(" "),1==t.typeIndex||2==t.typeIndex||3==t.typeIndex?a("p",[t._v("\n                    是否带家电:\n                    "),a("span",[t._v("\n                      "+t._s(t._f("toBool")(t._f("isEmpty")(t.detail.propertyInfo.hasAppliances)))+"\n                    ")])]):t._e()])])])]),t._v(" "),a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-title"},[a("div",{staticClass:"l"},[a("p",[t._v("小区信息")]),t._v(" "),a("p",{staticClass:"show",on:{click:function(e){t.showFlags.xq=!t.showFlags.xq}}},[t._v("\n                  "+t._s(t.showFlags.xq?"收起":"展开")+"\n                  "),a("svg-icon",{class:{"is-show":!t.showFlags.xq},attrs:{"icon-class":"bottom"}})],1)]),t._v(" "),a("div",{staticClass:"r"},[a("p",[t._v("\n                  以下数据来源于小区信息\n                ")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlags.xq,expression:"showFlags.xq"}],staticClass:"tab-main"},[a("div",{staticClass:"re"},[a("div",{staticClass:"re_t"},[a("p",[t._v("\n                    小区信息\n                  ")])]),t._v(" "),a("div",{staticClass:"re_xq"},[a("el-row",[a("p",[t._v("\n                      所属城区："+t._s(t._f("isEmpty")(t.detail.communityBaseInfo.areaName))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      所属商圈："+t._s(t._f("isEmpty")(t.detail.communityBaseInfo.tradingAreaName))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      物业费："+t._s(t._f("isEmpty")(t.detail.communityBaseInfo.propertyPrice))),t.detail.communityBaseInfo.propertyPrice?a("i",[t._v("元/月/平方米")]):t._e()]),t._v(" "),a("p",[t._v("\n                      物业公司："+t._s(t._f("isEmpty")(t.detail.communityBaseInfo.propertyCompany))+"\n                    ")])]),t._v(" "),a("el-row",[a("p",[t._v("\n                      绿化率："+t._s(t._f("isEmpty")(t.detail.communityBaseInfo.greenRate))+"\n                      "),t.detail.communityBaseInfo.greenRate?a("i",[t._v("%")]):t._e()]),t._v(" "),a("p",[t._v("\n                      容积率："+t._s(t._f("isEmpty")(t.detail.communityBaseInfo.volumeRate))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      建筑类型："+t._s(t.detail.communityBaseInfo.buildingTypeName?t.detail.communityBaseInfo.buildingTypeName.toString():"暂无数据")+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      建筑结构："+t._s(t._f("isEmpty")(t.detail.communityBaseInfo.buildingStructure))+"\n                    ")])]),t._v(" "),a("el-row",[a("p",[t._v("\n                      建筑年代："+t._s(t._f("isEmpty")(t.detail.communityBaseInfo.buildingTime))),t.detail.communityBaseInfo.buildingTime?a("i",[t._v("年")]):t._e()]),t._v(" "),a("p",[t._v("\n                      嫌恶设施："+t._s(t._f("isEmpty")(t.detail.communityBaseInfo.abhorrentFacilities))+"\n                    ")])])],1)]),t._v(" "),a("div",{staticClass:"re"},[a("div",{staticClass:"re_t"},[a("p",[t._v("\n                    生活信息\n                  ")])]),t._v(" "),a("div",{staticClass:"re_xq"},[a("el-row",[a("p",[t._v("\n                      供暖类型："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.heatingType))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      用电类型："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.electricityType))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      车位比例："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.parkingRatio))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      停车服务费："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.parkingFee))),t.detail.communityLiveInfo.parkingFee?a("i",[t._v("元/月")]):t._e()])]),t._v(" "),a("el-row",[a("p",[t._v("\n                      供暖费用："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.heatingCosts))),t.detail.communityLiveInfo.heatingCosts?a("i",[t._v("元/m³")]):t._e()]),t._v(" "),a("p",[t._v("\n                      用水类型："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.waterUseType))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      地上车位数："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.parkingAboveGround))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      是否有电梯："+t._s(t._f("toBool2")(t._f("isEmpty")(t.detail.communityLiveInfo.hasLiftStr)))+"\n                    ")])]),t._v(" "),a("el-row",[a("p",[t._v("\n                      是否有燃气："+t._s(t._f("toBool2")(t._f("isEmpty")(t.detail.communityLiveInfo.hasGas)))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      燃气费："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.gasFee))),t.detail.communityLiveInfo.gasFee?a("i",[t._v("元/m³")]):t._e()]),t._v(" "),a("p",[t._v("\n                      地下车位数："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.parkingUnderGround))+"\n                    ")])]),t._v(" "),a("el-row",[a("p",[t._v("\n                      是否有热水："+t._s(t._f("toBool2")(t._f("isEmpty")(t.detail.communityLiveInfo.hasHotWater)))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      热水费："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.hotWaterFee))+"\n                      "),t.detail.communityLiveInfo.hotWaterFee?a("i",[t._v("元/吨")]):t._e()]),t._v(" "),a("p",[t._v("\n                      小区幼儿园："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.communityKindergarten))+"\n                    ")])]),t._v(" "),a("el-row",[a("p",[t._v("\n                      是否有中水："+t._s(t._f("toBool2")(t._f("isEmpty")(t.detail.communityLiveInfo.hasRecycledWater)))+"\n                    ")]),t._v(" "),a("p",[t._v("\n                      中水费："+t._s(t._f("isEmpty")(t.detail.communityLiveInfo.recycledWaterFee))+"\n                      "),t.detail.communityLiveInfo.recycledWaterFee?a("i",[t._v("元/吨")]):t._e()])])],1)])])]),t._v(" "),a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-title"},[a("div",{staticClass:"l"},[a("p",[t._v("备件信息")]),t._v(" "),a("p",{staticClass:"show",on:{click:function(e){t.showFlags.bj=!t.showFlags.bj}}},[t._v("\n                  "+t._s(t.showFlags.bj?"收起":"展开")+"\n                  "),a("svg-icon",{class:{"is-show":!t.showFlags.bj},attrs:{"icon-class":"bottom"}})],1)]),t._v(" "),a("div",{staticClass:"r"},[t.hasPermissions(13)?a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(e){t.showSpareParts=!0}}},[a("svg-icon",{attrs:{"icon-class":"qianyue"}}),t._v(" "),a("span",[t._v("维护备件")])],1):t._e()],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlags.bj,expression:"showFlags.bj"}],staticClass:"tab-main"},[a("div",{staticClass:"bj"},t._l(t.spareParts,(function(e,n){return a("div",{key:n},[e.auditStatus&&0!=e.auditStatus&&2!=e.auditStatus||0!=n?t._e():a("i",{staticClass:"el-icon-warning"}),t._v(" "),e.uploaded||0==n?t._e():a("i",{staticClass:"el-icon-"}),t._v(" "),1==e.auditStatus&&0==n?a("i",{staticClass:"el-icon-success"}):t._e(),t._v(" "),e.uploaded&&0!=n?a("i",{staticClass:"el-icon-success"}):t._e(),t._v(" "),a("p",{staticClass:"bj_l"},[t._v(t._s(e.fileTypeName))]),t._v(" "),e.files&&e.files.length?a("p",{staticClass:"bj_r"},[t._v("\n                    上传日期 "+t._s(e.inDate)+"\n                    "),1!=e.auditStatus||"委托协议"==e.fileTypeName?a("i",[t._v(t._s(e.auditUserPostitionName))]):t._e(),t._v(" "),1!=e.auditStatus||"委托协议"==e.fileTypeName?a("span",{class:{orange:0==e.auditStatus,red:2==e.auditStatus}},[t._v(t._s(e.auditStatusName))]):t._e()]):a("p",{staticClass:"bj_r"},[t._v("未上传")])])})),0)])]),t._v(" "),a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-title"},[a("div",{staticClass:"l"},[a("p",[t._v("实勘信息")]),t._v(" "),a("p",{staticClass:"show",on:{click:function(e){t.showFlags.sk=!t.showFlags.sk}}},[t._v("\n                  "+t._s(t.showFlags.sk?"收起":"展开")+"\n                  "),a("svg-icon",{class:{"is-show":!t.showFlags.sk},attrs:{"icon-class":"bottom"}})],1)]),t._v(" "),a("div",{staticClass:"r"},[t.hasPermissions(14)?a("el-button",{attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(e){t.showExploration=!0}}},[a("svg-icon",{attrs:{"icon-class":"camera"}}),t._v(" "),a("span",[t._v("维护实勘")])],1):t._e()],1)]),t._v(" "),t.survey.itemList.length?a("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlags.sk,expression:"showFlags.sk"}],staticClass:"tab-main"},[a("div",{staticClass:"sk"},[a("div",{staticClass:"sk_info"},[a("div",{staticClass:"sk_info_l"},[a("el-image",{staticClass:"img",attrs:{src:t.survey.filePath,fit:"cover","preview-src-list":[t.survey.filePath]}},[a("img",{attrs:{slot:"error",src:t.housePlaceholder},slot:"error"})])],1),t._v(" "),a("div",{staticClass:"sk_info_r"},[a("div",{staticClass:"sk_info_r_t"},[t._v("户型分间")]),t._v(" "),a("div",{staticClass:"wrap"},[a("div",{staticClass:"sk_info_r_c"},[t._v("\n                        "+t._s(t.survey.description)+"\n                      ")]),t._v(" "),a("div",{staticClass:"sk_info_r_b"},t._l(t.survey.itemList,(function(e){return a("p",{key:e.id},[a("span",[t._v(t._s(e.surveyName))]),t._v(" "),a("span",[t._v(t._s(e.area)+"平米")]),t._v(" "),a("span",[t._v(t._s(e.orientationName))]),t._v(" "),a("span",[t._v(t._s(e.window))])])})),0)])])]),t._v(" "),t.survey.itemList[0]?a("div",{staticClass:"sk_t",on:{click:function(e){return t.previewPic(0,"survey")}}},[a("el-image",{staticClass:"img",attrs:{src:t.survey.itemList[0].filePath,fit:"cover"}},[a("img",{attrs:{slot:"error",src:t.housePlaceholder},slot:"error"})]),t._v(" "),a("div",{staticClass:"sk_tag"},[t._v("\n                    客厅\n                  ")])],1):t._e(),t._v(" "),a("div",{staticClass:"sk_c"},t._l(t.survey.itemList,(function(e,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:n>0&&n<=t.moreAuditedImgIndex,expression:"index > 0 && index <= moreAuditedImgIndex"}],key:e.id,on:{click:function(e){return t.previewPic(n,"survey")}}},[a("el-image",{staticClass:"img",attrs:{src:e.filePath,fit:"cover"}},[a("img",{attrs:{slot:"error",src:t.housePlaceholder},slot:"error"})]),t._v(" "),a("div",{staticClass:"sk_tag"},[t._v("\n                      "+t._s(e.surveyName)+"\n                    ")])],1)})),0),t._v(" "),a("div",{staticClass:"mt20 c-flex1"},[t.survey.itemList.length>t.moreAuditedImgIndex?a("el-button",{attrs:{size:"small"},on:{click:function(e){t.moreAuditedImgIndex=t.survey.itemList.length+1}}},[t._v("\n                    查看更多图片\n                  ")]):t._e()],1)])]):a("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlags.sk,expression:"showFlags.sk"}],staticClass:"fm-empty"},[t._v("暂无数据~")])]),t._v(" "),a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-title"},[a("div",{staticClass:"l"},[a("p",[t._v("角色人信息")])])]),t._v(" "),a("div",{staticClass:"tab-main"},[a("operator",{attrs:{id:t.id},on:{clickOperator:t.clickOperator}})],1)]),t._v(" "),t.sameList.length?a("div",{staticClass:"tab"},[a("div",{staticClass:"tab-title"},[a("div",{staticClass:"l"},[a("p",[t._v("相似房源")])]),t._v(" "),a("div",{staticClass:"r"})]),t._v(" "),a("div",{staticClass:"tab-main"},[a("div",{staticClass:"like-house"},t._l(t.sameList,(function(e){return a("div",{key:e.id,staticClass:"like-cell",on:{click:function(a){return t.toSameDetail(e)}}},[a("el-image",{staticClass:"like-cell_t",attrs:{src:e.houseImage,fit:"cover"}},[a("img",{attrs:{slot:"error",src:t.housePlaceholder},slot:"error"})]),t._v(" "),a("div",{staticClass:"like-cell_b"},[a("p",[a("span",[t._v(t._s(e.bedRoomQuantity)+"室"+t._s(e.livingRoomQuantity)+"厅")]),t._v(" "),a("span",[t._v(t._s(e.buildingArea)+"平米")])]),t._v(" "),a("p",[a("span",[t._v(t._s(e.communityName))]),t._v(" "),a("span",[t._v(t._s(e.listingPrice)+"万")])])])],1)})),0)])]):t._e()])])],1),t._v(" "),a("div",{staticClass:"message"},[a("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"跟进",name:"first"}},[a("message-cell",{attrs:{id:t.id,refreshToken:t.followUpRefreshToken}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"日志",name:"third"}},[a("log-cell",{attrs:{type:"followup",id:t.id,logType:"SELL_HOUSE",propTags:t.logTags,refreshToken:t.logRefreshToken}})],1)],1)],1)]),t._v(" "),a("right-tools",[t._l(t.rightMenu,(function(e){return a("li",{key:e.value,staticClass:"tool",on:{click:function(a){return t.handleRightToolClick(e.label)}}},[a("svg-icon",{attrs:{"icon-class":e.icon}}),t._v(" "),a("p",[t._v(t._s(e.label))])],1)})),t._v(" "),a("p")],2),t._v(" "),a("div",{staticClass:"select"},[a("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.selectNext(!1)}}},[a("svg-icon",{attrs:{"icon-class":"left"}})],1),t._v(" "),a("div",{staticClass:"msg"},[a("p",[a("span",[t._v(t._s(t.detail.baseInfo.communityName))]),t._v(" "),a("span",[t._v("\n          "+t._s(t.detail.propertyInfo.bedRoomQuantity)+"室"+t._s(t.detail.propertyInfo.livingRoomQuantity)+"厅\n        ")]),t._v(" "),a("span",[t._v(t._s(t.detail.baseInfo.buildingArea)+"平米")])])]),t._v(" "),a("div",{staticClass:"btn",on:{click:function(e){return e.stopPropagation(),t.selectNext(!0)}}},[a("svg-icon",{attrs:{"icon-class":"right"}})],1)]),t._v(" "),a("window2",{model:{value:t.showSealOn,callback:function(e){t.showSealOn=e},expression:"showSealOn"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      申请封盘\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("seal-on",{attrs:{id:t.id},on:{close:t.updateLogData}})],1)]),t._v(" "),a("window2",{model:{value:t.showSealOff,callback:function(e){t.showSealOff=e},expression:"showSealOff"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      申请解封\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("seal-off",{attrs:{unSealWay:t.detail.baseInfo&&t.detail.baseInfo.unSealWay,unSealDay:t.detail.baseInfo&&t.detail.baseInfo.unSealDay,id:t.id},on:{close:t.updateLogData}})],1)]),t._v(" "),a("window2",{model:{value:t.showInvalid,callback:function(e){t.showInvalid=e},expression:"showInvalid"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      转为无效\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("invalid",{attrs:{id:t.id},on:{close:t.updateLogData}})],1)]),t._v(" "),a("window2",{model:{value:t.showFollowUp,callback:function(e){t.showFollowUp=e},expression:"showFollowUp"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      写跟进\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("followUp",{attrs:{id:t.id},on:{close:t.updateFollowData}})],1)]),t._v(" "),a("window3",{attrs:{title:"地址",footer:t.hasPermissions(2)?"变更地址":""},on:{btnClick:function(e){return t.btnClick(1)},close:t.updateLogData},model:{value:t.showAddress,callback:function(e){t.showAddress=e},expression:"showAddress"}},[a("div",{staticClass:"fs16 bold",attrs:{slot:"main"},slot:"main"},[a("p",[t._v(t._s(t.address.bulidingUnitHouseAddress))])])]),t._v(" "),a("window3",{attrs:{title:"业主信息",footer:t.hasPermissions(4)?"更新业主信息":""},on:{btnClick:function(e){return t.btnClick(2)}},model:{value:t.showInfo,callback:function(e){t.showInfo=e},expression:"showInfo"}},[a("div",{staticClass:"fs16 bold ta-right",attrs:{slot:"main"},slot:"main"},t._l(t.owner,(function(e,n){return a("p",{key:n},[a("span",[t._v("\n          "+t._s(e.ownerName)+"\n        ")]),t._v(" "),a("span",[t._v("\n          "+t._s(t._f("formatGender")(e.gender))+"\n        ")]),t._v(" "),a("span",[t._v("\n          "+t._s(t._f("formatPhone")(e.cellphone))+"\n        ")])])})),0)]),t._v(" "),a("window2",{model:{value:t.showAddressForm,callback:function(e){t.showAddressForm=e},expression:"showAddressForm"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      变更地址\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("addressForm",{attrs:{id:t.id,address:t.address,communityId:t.detail.baseInfo.communityId},on:{close:t.updateLogData}})],1)]),t._v(" "),a("window2",{model:{value:t.showInfoForm,callback:function(e){t.showInfoForm=e},expression:"showInfoForm"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      更新业主信息\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("infoForm",{attrs:{id:t.id},on:{close:t.updateLogData}})],1)]),t._v(" "),a("window2",{model:{value:t.showRole,callback:function(e){t.showRole=e},expression:"showRole"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      变更角色人\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("role")],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.showRole=!1}}},[t._v("\n        取消\n      ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("\n        提交\n      ")])],1)]),t._v(" "),a("window2",{model:{value:t.showKey,callback:function(e){t.showKey=e},expression:"showKey"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      提交钥匙\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("submit-key",{attrs:{id:t.id},on:{close:function(e){t.showKey=!1}}})],1)]),t._v(" "),a("window2",{attrs:{width:"770",hasFooter:!1},model:{value:t.showManageKey,callback:function(e){t.showManageKey=e},expression:"showManageKey"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      管理钥匙\n    ")]),t._v(" "),t.detail.keyInfo&&t.detail.keyInfo.id?a("div",{attrs:{slot:"main"},slot:"main"},[a("manage-key",{attrs:{id:t.detail.keyInfo.id},on:{close:function(e){t.showManageKey=!1}}})],1):t._e()]),t._v(" "),a("window2",{attrs:{width:"340",hasFooter:!1},model:{value:t.showLookKey,callback:function(e){t.showLookKey=e},expression:"showLookKey"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      查看钥匙\n    ")]),t._v(" "),t.detail.keyInfo&&t.detail.keyInfo.id?a("div",{attrs:{slot:"main"},slot:"main"},[a("look-key",{attrs:{id:t.detail.keyInfo.id},on:{close:function(e){t.showLookKey=!1}}})],1):t._e()]),t._v(" "),a("window2",{attrs:{width:"420"},model:{value:t.showUpAgreement,callback:function(e){t.showUpAgreement=e},expression:"showUpAgreement"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      上传委托协议\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("upload-agreement",{attrs:{create:t.createUpAgreement,id:t.id},on:{close:function(e){t.showUpAgreement=!1}}})],1)]),t._v(" "),a("window2",{attrs:{width:"640",hasFooter:!1},model:{value:t.showSpareParts,callback:function(e){t.showSpareParts=e},expression:"showSpareParts"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      维护备件\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("spare-parts",{attrs:{id:t.id}})],1)]),t._v(" "),a("window2",{attrs:{width:"755",hasFooter:!1},model:{value:t.showExploration,callback:function(e){t.showExploration=e},expression:"showExploration"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      "+t._s(t.createExploration?"申请实勘":"维护实勘")+"\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("exploration",{attrs:{id:t.id,create:t.createExploration,msg:t.msg},on:{close:function(e){t.showExploration=!1}}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"审核",visible:t.toggleCheckDialog,"close-on-click-modal":!1,width:"360px"},on:{"update:visible":function(e){t.toggleCheckDialog=e}}},[a("el-radio-group",{staticClass:"c-flex1 is-checked--orange",attrs:{size:"small"},model:{value:t.checkData.communityStatus,callback:function(e){t.$set(t.checkData,"communityStatus",e)},expression:"checkData.communityStatus"}},[a("el-radio-button",{attrs:{label:1}},[t._v("通过审核")]),t._v(" "),a("el-radio-button",{attrs:{label:2}},[t._v("驳回")])],1),t._v(" "),2==t.checkData.communityStatus?a("el-input",{staticClass:"input-bg mt20 fm-textarea",attrs:{type:"textarea",placeholder:"请输入驳回理由"},model:{value:t.checkData.rejectReason,callback:function(e){t.$set(t.checkData,"rejectReason",e)},expression:"checkData.rejectReason"}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.toggleCheckDialog=!1}}},[t._v("\n        取 消\n      ")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.check()}}},[t._v("\n        确 定\n      ")])],1)],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("6ffd"),l=a("f803"),c=a("1fa6"),u=a("acb0"),d=a("9ee8"),p=a("ba19"),m=a("18bc"),f=a("96bd"),v=a("7e18"),h=a("61f7"),b=a("c1ed"),g=a.n(b),_=a("5ccb"),y=a("b339"),w=a("db49"),C=a("041d"),k=a("a0a9"),x=a("b964"),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-fade-in"}},[t.showWindow?a("div",{staticClass:"bg",attrs:{value:t.value}},[a("div",{staticClass:"window transition-box",style:"width:"+t.width+"px"},[a("svg-icon",{staticClass:"icon safe",attrs:{"icon-class":"safe"}}),t._v(" "),a("svg-icon",{staticClass:"icon pointer close",attrs:{"icon-class":"close"},on:{click:t.close}}),t._v(" "),a("div",{staticClass:"window-main"},[a("div",[a("p",{staticClass:"bold"},[t._v(t._s(t.title))]),t._v(" "),a("p",{staticClass:"fs13 color9"},[t._v("已开启保护机制")])]),t._v(" "),a("div",{staticClass:"window-info"},[t._t("main")],2)]),t._v(" "),t.footer?a("div",{staticClass:"h4 flex-center color-bg pointer blue",on:{click:function(e){return e.stopPropagation(),t.btnClick(e)}}},[a("p",[t._v(t._s(t.footer))])]):t._e()],1)]):t._e()])},I=[],S={props:{title:{type:String,default:""},footer:{type:String,default:""},value:{type:Boolean,default:!1},width:{type:Number,default:340}},data:function(){return{showWindow:!1}},watch:{value:function(t){this.showWindow=t},showWindow:function(t){this.$emit("input",t)}},methods:{close:function(){this.showWindow=!1,this.$emit("close")},btnClick:function(){this.$emit("btnClick")}}},N=S,A=(a("7077"),a("2877")),T=Object(A["a"])(N,D,I,!1,null,"9262c4ea",null),O=T.exports,P=a("3e48"),j=a("c700"),L=a("8baa"),F=a("bdae"),E=a("8524"),R=a("c14d"),$=a("a7f3"),M=a("0ab7"),q=a("8490"),z=a("ae22"),B=a("e92f"),U=a("7928"),V=a("334c"),G=a("912e");function Y(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function Q(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){Y(i,n,s,r,o,"next",t)}function o(t){Y(i,n,s,r,o,"throw",t)}r(void 0)}))}}var H={components:{LogCell:_["default"],MessageCell:y["default"],ScrollBox:k["a"],Swiper:v["a"],RightTools:C["a"],Window2:x["a"],SealOn:P["default"],SealOff:j["default"],Invalid:L["default"],FollowUp:F["default"],Window3:O,AddressForm:E["default"],InfoForm:R["default"],Role:$["default"],SubmitKey:M["default"],ManageKey:q["default"],LookKey:z["default"],UploadAgreement:B["default"],SpareParts:U["default"],Exploration:V["default"],Operator:G["default"]},filters:{toBool:function(t){return!0===t?"是":!1===t?"否":t},toBool2:function(t){return!0===t?"有":!1===t?"无":t}},data:function(){return{navs:["维护信息","小区信息","备件信息","实勘信息","角色人信息","相似房源"],isNull:h["d"],detainTabIndex:"维护信息",config:w["a"].config,housePlaceholder:g.a,activeName:"first",showFlags:{xq:!0,bj:!0,sk:!0},logTags:[{name:"维护",value:"MAINTAIN"},{name:"状态",value:"STATUS"},{name:"核心",value:"CORE"},{name:"其他",value:"OTHER"}],detail:{entrust:{},take:{},communityLiveInfo:{},communityBaseInfo:{},baseInfo:{},contactIsOwner:null,expectSaleCycle:"null",guidePrice:null,hasOriginalInvoice:null,houseId:null,inUser:null,isPropertyShared:null,isSignAnytime:null,listingPrice:null,listingTime:"0000-00-00",maintainUser:null,marryStatus:null,minimumPrice:null,mortgageStatus:null,payRequire:"",propertyInfo:{},purchasePrice:null,sellReason:null,unitPrice:null,keyInfo:{}},toggleCheckDialog:!1,checkData:{communityStatus:1,rejectReason:""},status:[{value:11,label:"暂缓"},{value:12,label:"内成交"},{value:13,label:"外成交"},{value:14,label:"信息有误"},{value:16,label:"预定"},{value:15,label:"其他"}],buildings:[],houseList:[],id:null,showSealOn:!1,showSealOff:!1,showInvalid:!1,showFollowUp:!1,showAddress:!1,showInfo:!1,showAddressForm:!1,showInfoForm:!1,showRole:!1,showKey:!1,showManageKey:!1,showLookKey:!1,showUpAgreement:!1,showSpareParts:!1,showExploration:!1,createExploration:!1,createUpAgreement:!1,owner:[],address:{},rightMenu:[],survey:{itemList:[]},survey2:{itemList:[]},sameList:[],moreAuditedImgIndex:4,spareParts:[],permissions:[],followUpRefreshToken:0,logRefreshToken:0}},computed:{houseSource:function(){var t=this.houseList,e=this.detail,a="",n=e.baseInfo.houseSource;if(n){var s=n.split(","),i=s[0],r=s[1];t.forEach((function(t){i==t.id&&(a+=t.name,t.children.forEach((function(t){r==t.id&&(a+="-"+t.name)})))}))}return a},typeIndex:function(){return this.detail.propertyType},userInfo:function(){return this.$store.state.settings.userInfo},msg:function(){var t=this.detail,e="",a=t.propertyInfo.bedRoomQuantity||0,n=t.propertyInfo.livingRoomQuantity||0,s=t.propertyInfo.restRoomQuantity||0,i=t.propertyInfo.balconyQuantity||"";i=i&&i+"阳台";var r=t.baseInfo.buildingArea;return e="".concat(a,"室").concat(n,"厅").concat(s,"卫").concat(i," ").concat(r,"平米"),e}},created:function(){this.$root.$off("houseDetailRefresh"),this.$root.$on("houseDetailRefresh",this.refresh),this.id=this.$route.params.id,this.getHouseSellDetail(),this.getDictList(1),this.getDictList(2),this.getAudited(),this.getSameHouseList(),this.getFiles()},methods:{showInvalidTag:function(t){var e=this.status.find((function(e){return e.value==t}));return!!e&&e.label},updateFollowData:function(){this.followUpRefreshToken=Date.now(),this.showFollowUp=!1},updateLogData:function(){this.logRefreshToken=Date.now(),this.showInvalid=!1,this.showSealOn=!1,this.showSealOff=!1,this.showAddressForm=!1,this.showInfoForm=!1},likeHouse:function(){var t=this,e=2,a=!this.detail.isFocus,n={id:this.id,focusFlag:a,focusType:e};Object(l["q"])(n).then((function(e){e&&(t.getHouseSellDetail(),t.$showSuccess("操作成功"))}))},authActionsHas:function(t){var e=this.detail,a=this.authActions,n=this.userInfo,s=e.shelvesStatus,i=e.inUserId,r=n.userId,o=!1;return 2==s?this.$own(a,t)&&(o=!0):r==i&&(o=!0),o},refresh:function(){this.getHouseSellDetail(),this.updateLogData(),this.updateFollowData(),this.createExploration=!1,this.createUpAgreement=!1,this.$root.$emit("getOperator")},check:function(){var t=this;return Q(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.checkData.id=t.id,e.next=3,Object(l["a"])(t.checkData);case 3:a=e.sent,a&&(t.$showSuccess("操作成功"),t.getHouseSellDetail(),t.checkData.communityStatus=1,t.toggleCheckDialog=!1,t.checkData.rejectReason="");case 5:case"end":return e.stop()}}),e)})))()},submitCheck:function(t){var e=this,a="primary",n=l["r"],s="确定",i="你确定要提交审核吗？",o="提交审核";"del"==t&&(a="danger",s="删除",n=l["b"],i="删除后无法恢复，你确定要删除吗？",o="删除房源"),this.$confirm(i,o,{confirmButtonClass:"el-button--".concat(a),confirmButtonText:s,type:"warning"}).then(Q(r.a.mark((function a(){var s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,n({id:e.id});case 2:s=a.sent,s&&(e.$showSuccess("".concat(o,"成功")),"del"==t?e.$navigateTo({path:"/work/house/deal"}):e.refresh());case 4:case"end":return a.stop()}}),a)})))).catch((function(){}))},toSameDetail:function(t){this.$navigateTo({query:{title:"房源详情-".concat(t.communityName)},path:"/work/house/detail/".concat(t.id)})},previewPic:function(t,e){var a=[];"survey"==e&&(a=this.survey.itemList.map((function(t){return t.filePath})).slice(0,this.moreAuditedImgIndex+1));var n={urlList:a,index:t};this.$root.$emit("showPreview",n)},getFiles:function(){var t=this;return Q(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["d"])(t.id);case 2:a=e.sent,a&&(t.spareParts=a);case 4:case"end":return e.stop()}}),e)})))()},getSameHouseList:function(){var t=this;return Q(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["o"])({id:t.id});case 2:a=e.sent,t.sameList=a||[],a&&a.length||t.navs.pop();case 5:case"end":return e.stop()}}),e)})))()},getAudited:function(){var t=this;return Q(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["a"])(t.id);case 2:a=e.sent,a.itemList&&(t.survey=a,t.survey2=JSON.parse(JSON.stringify(a)),t.survey2.itemList.splice(1,0,{description:"户型图",filePath:a.filePath}));case 4:case"end":return e.stop()}}),e)})))()},setRightMenu:function(){var t=this.hasPermissions,e=this.authActionsHas,a=[];t(1)&&a.push({icon:"address3",label:"地址"}),t(3)&&a.push({icon:"phone",label:"业主"}),t(5)&&a.push({icon:"follow-up",label:"跟进"});var n=this.detail.baseInfo,s=n.isSeal,i=n.status;s?t(7)&&a.push({icon:"unlock",label:"解封"}):t(6)&&a.push({icon:"lock",label:"封盘"}),i?t(9)&&a.push({icon:"invalid",label:"转无效"}):t(8)&&a.push({icon:"valid",label:"转有效"}),e("scfy")&&a.push({icon:"delete2",label:"删除"}),this.rightMenu=a},goMaintainPage:function(){this.$navigateTo({query:{tab:"买卖",id:this.id,title:"维护房源"},path:"/work/house/edit/".concat(this.id)})},handleRightToolClick:function(t){var e=this;switch(t){case"地址":this.showAddress=!0,this.getAddress();break;case"业主":this.showInfo=!0,this.getOwner();break;case"跟进":this.showFollowUp=!0;break;case"封盘":this.showSealOn=!0;break;case"解封":this.showSealOff=!0;break;case"转无效":this.showInvalid=!0;break;case"转有效":this.$confirm("你确定要把当前房源转为有效房源?","转为有效房源",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(Q(r.a.mark((function t(){var a;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["d"])(e.id);case 2:a=t.sent,a&&(e.$message({type:"success",message:"转有效成功!"}),e.refresh(),e.logRefreshToken=Date.now());case 4:case"end":return t.stop()}}),t)})))).catch((function(){e.$message({type:"info",message:"已取消"})}));break;case"删除":this.submitCheck("del");break}},getHouseSellDetail:function(t){var e=this;return Q(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t||e.id,s={id:n},a.next=4,Object(l["l"])(s);case 4:i=a.sent,e.detail=e.formatStr(i),e.detail.communityLiveInfo=e.detail.communityLiveInfo||{},e.getPermissions();case 8:case"end":return a.stop()}}),a)})))()},formatStr:function(t){return t.listingTime&&t.listDay?(t.listingTimeStr="".concat(t.listDay,"天(").concat(t.listingTime,")"),0==t.listDay&&(t.listingTimeStr="".concat(t.listingTime))):t.listingTimeStr="暂无数据",t.houseTypeStr="---",t.propertyInfo.bedRoomQuantity&&(t.houseTypeStr="",t.houseTypeStr+="".concat(t.propertyInfo.bedRoomQuantity)),t.propertyInfo.livingRoomQuantity&&(t.houseTypeStr+="-".concat(t.propertyInfo.livingRoomQuantity)),t.propertyInfo.restRoomQuantity&&(t.houseTypeStr+="-".concat(t.propertyInfo.restRoomQuantity)),t.propertyInfo.balconyQuantity&&(t.houseTypeStr+="-".concat(t.propertyInfo.balconyQuantity)),t},filterTool:function(t,e){var a="",n="baseInfo",s=this.config,i=this.detail;e&&(n="propertyInfo");var r=i[n][t];return r&&(a=s[t+"s"][r-1]),a},getDictList:function(t){var e=this;return Q(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={dicttype:t},a.next=3,Object(u["n"])(n);case 3:s=a.sent,a.t0=t,a.next=1===a.t0?7:2===a.t0?9:11;break;case 7:return e.buildings=s,a.abrupt("break",11);case 9:return e.houseList=s,a.abrupt("break",11);case 11:case"end":return a.stop()}}),a)})))()},selectNext:function(t){var e=this;return Q(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={id:e.id},a.next=3,Object(l["p"])(n);case 3:s=a.sent,i="",i=t?s.nextId:s.previousId,i&&(e.getHouseSellDetail(i.toString()),e.id=i);case 7:case"end":return a.stop()}}),a)})))()},btnClick:function(t){switch(t){case 1:this.showAddress=!1,this.showAddressForm=!0;break;case 2:this.showInfo=!1,this.showInfoForm=!0;break}},getOwner:function(){var t=this;return Q(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["a"])(t.id);case 2:a=e.sent,t.owner=a;case 4:case"end":return e.stop()}}),e)})))()},getAddress:function(){var t=this;return Q(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["a"])(t.id);case 2:a=e.sent,a&&(t.address=a);case 4:case"end":return e.stop()}}),e)})))()},clickOperator:function(t){var e=this,a=t.index,n=t.create;switch(a){case 1:this.$confirm("你确定要成为该房源维护人?","成为维护人",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Q(r.a.mark((function t(){var a;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["c"])(e.id);case 2:a=t.sent,a&&(e.$message({type:"success",message:"操作成功!"}),e.refresh());case 4:case"end":return t.stop()}}),t)})))).catch((function(){e.$message({type:"info",message:"已取消"})}));break;case 2:this.createUpAgreement=n,this.showUpAgreement=!0;break;case 3:this.createExploration=n,this.showExploration=!0;break;case 4:this.showKey=!0;break}},manageKey:function(){var t=this.hasPermissions;t(11)?this.showManageKey=!0:this.showLookKey=!0},getPermissions:function(){var t=this;return Q(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["b"])(t.id);case 2:a=e.sent,t.permissions=a,t.setRightMenu();case 5:case"end":return e.stop()}}),e)})))()},hasPermissions:function(t){var e=this.permissions,a=e.find((function(e){return e.button==t}));return!!a}}},W=H,Z=(a("ef5c"),Object(A["a"])(W,n,s,!1,null,"4643d398",null));e["default"]=Z.exports},a7cb:function(t,e,a){"use strict";var n=a("279a"),s=a.n(n);s.a},a7f3:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"windows2-role pd20 mb20 mt20"},[t._m(0),t._v(" "),a("div",{staticClass:"flex-between bd3-b pd10-b mb10"},[a("p",{staticClass:"color9"},[t._v("选择方式")]),t._v(" "),a("div",{staticClass:"flex-end"},t._l(t.btns,(function(e,n){return a("p",{key:n,staticClass:"btn",class:{active:n===t.activeIndex},on:{click:function(e){t.activeIndex=n}}},[t._v("\n        "+t._s(e)+"\n      ")])})),0)]),t._v(" "),0===t.activeIndex?a("div",{staticClass:"flex-between bd3-b pd10-b mb10"},[a("p",{staticClass:"color9"},[t._v("选择角色人")]),t._v(" "),a("div",[a("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"输入经纪人姓名或手机号搜索","remote-method":t.remoteMethod,loading:t.loading},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(e){return a("el-option",{key:e.value,staticClass:"role-select",attrs:{value:e.value}},[a("div",{staticClass:"flex"},[a("div",{staticClass:"h4 gray-bg mr10",staticStyle:{width:"40px"}}),t._v(" "),a("div",[a("p",{staticClass:"h1"},[t._v("张三丰(138 **** 2222)")]),t._v(" "),a("p",{staticClass:"h1 fs13 color9"},[t._v("天府三街店02组，经纪人")])])])])})),1)],1)]):t._e(),t._v(" "),a("div",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"变更理由"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-between bd3-b pd10-b mb10"},[a("p",{staticClass:"color9"},[t._v("角色类型")]),t._v(" "),a("p",[t._v("维护人")])])}],i={data:function(){return{reason:"",btns:["自主选择","推荐到共享池"],activeIndex:0,options:[],value:[],list:[],loading:!1,states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]}},mounted:function(){this.list=this.states.map((function(t){return{value:t,label:t}}))},methods:{remoteMethod:function(t){var e=this;""!==t?(this.loading=!0,setTimeout((function(){e.loading=!1,e.options=e.list.filter((function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1}))}),200)):this.options=[]}}},r=i,o=(a("404d"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"c725b3ba",null);e["default"]=l.exports},a827:function(t,e,a){"use strict";var n=a("5e50"),s=a.n(n);s.a},a833:function(t,e,a){"use strict";var n=a("fb24"),s=a.n(n);s.a},a967:function(t,e,a){"use strict";var n=a("249b"),s=a.n(n);s.a},a9d9:function(t,e,a){},aa10:function(t,e,a){"use strict";var n=a("448e"),s=a.n(n);s.a},aa22:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[a("ul",{staticClass:"body"},["/enrollment"!=t.$route.path?a("li",[a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("站点")]),t._v(" "),a("span",{staticClass:"td"},[t._v(t._s(t.userInfo.siteNames&&t.userInfo.siteNames.toString())+"\n        ")])]),t._v(" "),a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("状态")]),t._v(" "),a("span",{staticClass:"td"},[t.userInfo.locked?a("i",{staticClass:"red"},[t._v("锁定")]):a("i",{class:[t.config.workingStatus[t.userInfo.workingStatus]&&t.config.workingStatus[t.userInfo.workingStatus].color]},[t._v(t._s(t.config.workingStatus[t.userInfo.workingStatus]&&t.config.workingStatus[t.userInfo.workingStatus].label)+"\n            "),"LEAVE"==t.userInfo.workingStatus&&t.userInfo.quitReason?a("i",[t._v("\n              理由:"+t._s(t.userInfo.quitReason)+"\n            ")]):t._e()])])])]):t._e(),t._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("姓名")]),t._v(" "),a("span",{staticClass:"td"},[t._v(t._s(t.userInfo.realName))])]),t._v(" "),a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("性别")]),t._v(" "),a("span",{staticClass:"td"},[t._v("\n          "+t._s(1==t.userInfo.gender?"男":0==t.userInfo.gender?"未知":"女")+"\n        ")])])]),t._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("员工编码")]),t._v(" "),a("span",{staticClass:"td"},[t._v(t._s(t.userInfo.code))])]),t._v(" "),a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("登录手机")]),t._v(" "),a("span",{staticClass:"td"},[t._v("\n          "+t._s(t._f("formatPhone")(t.userInfo.cellphone))+"\n          "),"/home/userInfo"==t.$route.path?a("i",{staticClass:"link-btn red",on:{click:function(e){t.toggleChangePhoneDialog=!0}}},[t._v("\n            更换登录手机\n          ")]):t._e()])])]),t._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("入职时间")]),t._v(" "),a("span",{staticClass:"td"},[t._v(t._s(t.userInfo.entryDate))])]),t._v(" "),a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("试用期限")]),t._v(" "),a("span",{staticClass:"td"},[t._v("\n          "+t._s(t.userInfo.probation)+"个月（"+t._s(t.userInfo.formaldate)+"）\n        ")])])]),t._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("部门/门店")]),t._v(" "),a("span",{staticClass:"td"},[t._v(t._s(t.userInfo.storeInfo))])]),t._v(" "),a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("岗位名称")]),t._v(" "),a("span",{staticClass:"td"},[t._v(t._s(t.userInfo.post&&t.userInfo.post.name))])])]),t._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("业绩提成方案")]),t._v(" "),a("span",{staticClass:"td"},[t._v(t._s(t.userInfo.multistageRuleName))])]),t._v(" "),a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("推荐人")]),t._v(" "),a("span",{staticClass:"td"},[t._v(t._s(t.userInfo.inviterName))])])]),t._v(" "),a("li",[a("div",{staticClass:"cell"},[a("span",{staticClass:"th"},[t._v("业务范围")]),t._v(" "),a("span",{staticClass:"td"},[t._v(t._s(t.userInfo.userBusinessScope))])])])]),t._v(" "),a("div",{staticClass:"btn-group"},[t.$own(t.authActions,"glygda")||t.isMine&&t.isFirst?[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){t.toggleEditDialog=!0}}},[a("svg-icon",{attrs:{"icon-class":"follow-up"}}),t._v(" "),a("span",[t._v("编辑")])],1)]:t._e(),t._v(" "),t.isMine?t._e():["INCUMBENCY_INTERNSHIP"==t.userInfo.workingStatus?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.glygda,expression:"glygda"}],attrs:{type:"info",size:"small"},on:{click:t.showToTrue}},[a("svg-icon",{attrs:{"icon-class":"blrz"}}),t._v(" "),a("span",[t._v("转正")])],1):t._e(),t._v(" "),t.userInfo.locked?t._e():a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.glygda,expression:"glygda"}],attrs:{type:"info",size:"small"},on:{click:function(e){return t.lockUser(t.userInfo.locked)}}},[a("svg-icon",{attrs:{"icon-class":"lock"}}),t._v(" "),a("span",[t._v("锁定")])],1),t._v(" "),t.userInfo.locked?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.glygda,expression:"glygda"}],attrs:{type:"info",size:"small"},on:{click:function(e){return t.lockUser(t.userInfo.locked)}}},[a("svg-icon",{attrs:{"icon-class":"lock2"}}),t._v(" "),a("span",[t._v("解锁")])],1):t._e(),t._v(" "),"LEAVE"!==t.userInfo.workingStatus?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.glygda,expression:"glygda"}],attrs:{type:"info",size:"small"},on:{click:t.changeWorkingStatus}},[a("svg-icon",{attrs:{"icon-class":"blrz"}}),t._v(" "),a("span",[t._v("离职")])],1):t._e(),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.scygda,expression:"scygda"}],attrs:{type:"info",size:"small"},on:{click:t.delUser}},[a("svg-icon",{attrs:{"icon-class":"delete2"}}),t._v(" "),a("span",[t._v("删除")])],1)]],2),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{width:"480px","close-on-click-modal":!1,title:"更新手机号",visible:t.toggleChangePhoneDialog},on:{"update:visible":function(e){t.toggleChangePhoneDialog=e}}},[a("change-phone",{attrs:{userOptions:t.userInfo,model:t.toggleChangePhoneDialog},on:{getUserInfo:function(e){return t.getUserInfo()}}})],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"编辑员工",visible:t.toggleEditDialog},on:{"update:visible":function(e){t.toggleEditDialog=e}}},[a("edit",{attrs:{options:t.userInfo},on:{close:function(e){t.toggleEditDialog=!1},submit:function(e){t.getUserInfo(),t.toggleEditDialog=!1}}})],1),t._v(" "),a("el-dialog",{staticClass:"form-dialog",attrs:{width:"400px","close-on-click-modal":!1,title:"员工转正",visible:t.toTrueDialog},on:{"update:visible":function(e){t.toTrueDialog=e}}},[a("div",[a("p",[t._v("你确定要执行当前员工转正操作？ 如果“确定”，请填写转正日期：")]),t._v(" "),a("el-date-picker",{staticStyle:{margin:"10px 0"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.toTrueDate,callback:function(e){t.toTrueDate=e},expression:"toTrueDate"}}),t._v(" "),a("div",{staticClass:"x2 aic"},[a("el-button",{on:{click:function(e){t.toTrueDialog=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.changeToTrue}},[t._v("转正")])],1)],1)])],1)},s=[],i=a("a34a"),r=a.n(i),o=a("ede9"),l=a("e60e"),c=a("c24f"),u=a("997d"),d=a("db49");function p(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){p(i,n,s,r,o,"next",t)}function o(t){p(i,n,s,r,o,"throw",t)}r(void 0)}))}}var f={components:{ChangePhone:o["default"],Edit:u["default"]},props:{isMine:{type:Boolean,default:!0}},data:function(){return{config:d["a"].config,toTrueDialog:!1,toTrueDate:"",userInfo:{},toggleChangePhoneDialog:!1,toggleEditDialog:!1}},computed:{userId:function(){return this.$route.params.id||this.$store.state.settings.userInfo.userId},authActions:function(){return this.$route.meta.authActions||[]},isFirst:function(){var t=!this.userInfo.storeInfo;return t},routePath:function(){return this.$route.path}},created:function(){this.getUserInfo(),this.$emit("fulfill","isFinishEmployee")},methods:{changeWorkingStatus:function(){var t=this;this.$prompt("你确定要执行当前员工离职操作？","员工离职",{confirmButtonText:"确定",cancelButtonText:"取消",inputErrorMessage:"离职理由"}).then(function(){var e=m(r.a.mark((function e(a){var n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])({id:t.userId,status:"LEAVE",reason:a.value});case 2:n=e.sent,n&&(t.$showSuccess("操作成功"),t.getUserInfo());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){return t}))},showToTrue:function(){this.toTrueDate=this.$time().format("YYYY-MM-DD"),this.toTrueDialog=!0},changeToTrue:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t.userId,status:"INCUMBENCY_FORMAL",date:t.toTrueDate},e.next=3,Object(c["a"])(a);case 3:n=e.sent,n&&(t.toTrueDialog=!1,t.$showSuccess("操作成功"),t.getUserInfo());case 5:case"end":return e.stop()}}),e)})))()},delUser:function(){var t=this;this.$confirm("删除以后无法恢复，确定要删除该员工？","删除人员",{confirmButtonClass:"el-button--danger",confirmButtonText:"删除",type:"warning"}).then(m(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["c"])({id:t.userId});case 2:a=e.sent,a&&(t.$showSuccess("删除成功"),t.routePath.includes("/coc/hr/userInfo")?t.$navigateTo("/work/store/staff"):(t.$store.dispatch("tagsView/delView",t.$route),t.$navigateTo("/channelWorkbench/personnel/staffManagement")));case 4:case"end":return e.stop()}}),e)})))).catch((function(t){return t}))},lockUser:function(t){var e=this,a="锁定账号以后，员工将无法登录系统，但资料并不会丢失",n="锁定账号",s="锁定";t&&(a="你确定要解锁当前员工账号？",n="解除锁定",s="解锁"),this.$confirm(a,n,{confirmButtonClass:"el-button--danger",confirmButtonText:s,type:"warning"}).then(m(r.a.mark((function t(){var a;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["k"])({id:e.userId});case 2:a=t.sent,a&&(e.$showSuccess("".concat(s,"成功")),e.getUserInfo());case 4:case"end":return t.stop()}}),t)})))).catch((function(t){return t}))},getUserInfo:function(){var t=this;return m(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["i"])(t.userId);case 2:a=e.sent,a&&(t.userInfo=a,t.userInfo.name=t.userInfo.realName,t.userInfo.postId=t.userInfo.post.id,t.userInfo.userBusinessScope=a.userBusinessScopeList.map((function(t){var e=t.businessScopeList.map((function(t){return t.businessScopeName})).join("，");return"".concat(t.businessScopeName,"：").concat(e)})).join("；"),t.userInfo.siteNames=a.sites.map((function(t){return t.name})).join("，"),t.$emit("userInfo",t.userInfo));case 4:case"end":return e.stop()}}),e)})))()}}},v=f,h=(a("95b7"),a("2877")),b=Object(h["a"])(v,n,s,!1,null,"41a1d81c",null);e["default"]=b.exports},aaf7:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"d",(function(){return l}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getEstateDetail",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getEstateBaseInfo",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getCommonRule",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getHouseTypeList",method:"post",data:t})}var l=function(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/fyb/login",data:t,method:"get"})}},ab26:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAA/CAYAAACM5Lr9AAAFkklEQVR42s3VaWxUVRjG8ddiEKPRxAQTCVSWLnZaWmjpTgulpYUBExP9Agou4IKAogUKAgItlNJCgUIXINFPfsFoDCjibkQRI0QIICAQWUpZugKtpcv0+DxyYqaTe2/vTLf58Etu7znnPf+0k44opQw5i5qsjIFs2APHoBZatFq+02vZeq94yyKs0dOjsAzOTCtuVtNKWtX0UpeaXqHU07tgt4ZnvuMa93Avz/CsniE2WIQV3iEaCDnQ8F/MTgZ4h2d4ljNgmZ4pFszDpmIRIuFP57YWDMcFu7uHMziLMyEKxJBl2MbbM6DZub2NQ3sUZ3K2vkMMGIdNKbi1ADqcZe1q2i7VKzibd8BCEE8GUQ3PQ4ez3KWcGNCbeAfv0neKm85hWRvqo+Hu1LJ2HuwTvAt3tkAciKbDIDO/7iE4l7X9rpqCA30pa3uLwt3nYRAIuIfV5mcWN6msnapf8G405IGQMGry+prB0DiloqPfwng3G3SLDltXnTt5S6PK3NnRr9jAFhDJyLsZAJcz8SGcjOr+xAa0XGGTpOfeSMrYUKcyKlx+gS1oSkbY9VXpm2+rjHKXX2ALm2TS2qq96duaVHp5u19gC5skbc3V05N23FWT8NIfsIVNkra6siGttE2llbX7h9JWhaZ6mfj+lfaJZW3Kn6DJJRNWXWqbgN+Y39jRqtDUKKkrL15PxfdjammrfyhpVmiqlNQVfx9KwX/cFJT6A7awSVLeu1CeUlinxu9o8QsphbUKTWUyfvn5Wcm511QSXvoDtrBJkpedewzaE/E58wdsYZMopSQ55+z+pKK6fo9KKqpXaDkAIgxLWnomK3H1JZVQ0tyv2ICW6XAvLHHJ6QD4K6GgRsVjQ3/g3WzQLffCKGHJqfHgisOXaNy2f/oU7+TdukGIUW5xJ0vic6+oWGzsS7yTd4NoncPiF594GC7FFlSrcVub+gTv4p36btE6h1Fc9nFn7IpzKmZrY5/gXbwTxI0O8xD77rGPYtZeVtE42Jt4B+8C8WAcNu6dPwZDzVh8PYzdcqdXcDbvgMdBPDHEOG7R0Xkxqy6oKAzpDZzNO0AMmIfFvH1kABwZk1epIotv9yjOxOyj+g4xYB4W/dbvlAAdozGsJ3Gmni0mzMPGLvyN6IMo/NojNt/qEZyFmR+CWLAIW3CYaDDUR+D/TTgGdwdncJaeKRbMw8bM/9XdosjlZ5VjU0O3cAZngXTBPCzqzV/cPQAXHeuqVBgu8IVj/TXFGXqWdME8LHLez55mRSw9qUI31fuEZzFjNogNFmFvHPQUACfC8IUbUlTvlbDcSsWzeobYYB42+vWfjDwbnn3c6zCewdnnQGwyD4t47UcjAXA2JO+qCi6ss4V7eUafFZuswn4wM8ex+LgKwqV2cC/OzAXxgnlY+KvfmxkIVaPyr6tRhbWWuId79RnxgnmYY+53VlaHLj2lRm6stRSSc0ph7xoQL1mEzfnWyhPQNrKgGgE1hrjGPTAExEvmYWGvfNOVPUErz6vhiDDCNez5GMQHVmFfd2Vq6MLD6smCGkNc4x4QH5iHPfXyV125H64NX1eFkOpO+I5reo/4wDws9KUDdhSPxFdNIGLc8R3XQHxkFfalHYnB8w6qYRuqO+E7roH4yDws5MX9dtwHlYF5lQi6qYjPfKfXxEcWYbO/sKtsBP50QxFFI/D/De8qQLrBPCwYizY9M2r+of/D+Mx3ID6zDJv1uaVwGfAIBDqGJsbhZ9eQ/BuK+OwYlhzPNe7hXh9Yhe0zwqBB4IAYouCZn1wIXH5GEZ/d1sjBMzzrBfOwoBf2GWFYBMS4C03JWRA087OaoBmf3uCz5zrP8Kx9lmF7jXiE2RbBs95ghB0MIo8/pS0OeJAzvOBLmKY//BAGURBN+jmMa3qPkLdh/wKOL8SpLbnYFgAAAABJRU5ErkJggg=="},ab55:function(t,e,a){t.exports=a.p+"img/fangmao.b892d5d2.png"},abbd:function(t,e,a){"use strict";var n=a("9ef7"),s=a.n(n);s.a},acb0:function(t,e,a){"use strict";a.d(e,"v",(function(){return s})),a.d(e,"r",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"m",(function(){return o})),a.d(e,"h",(function(){return l})),a.d(e,"l",(function(){return c})),a.d(e,"e",(function(){return u})),a.d(e,"n",(function(){return d})),a.d(e,"o",(function(){return p})),a.d(e,"i",(function(){return m})),a.d(e,"j",(function(){return f})),a.d(e,"f",(function(){return v})),a.d(e,"q",(function(){return h})),a.d(e,"p",(function(){return b})),a.d(e,"k",(function(){return g})),a.d(e,"a",(function(){return _})),a.d(e,"b",(function(){return y})),a.d(e,"s",(function(){return w})),a.d(e,"t",(function(){return C})),a.d(e,"d",(function(){return k})),a.d(e,"g",(function(){return x})),a.d(e,"u",(function(){return D}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/dic/sites",method:"post",data:t})}function i(){return Object(n["a"])({url:"/api/v1/fm/user/site",method:"get"})}function r(t){return Object(n["a"])({url:"/api/v1/fm/dic/areas",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/dic/editSite",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/api/v1/fm/dic/delSite",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/api/v1/fm/dic/editRegion",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/api/v1/fm/dic/delArea",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/api/v1/fm/dic/getDictList",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/api/v1/fm/dic/list",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/api/v1/fm/dic/create",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/api/v1/fm/dic/create/batch",method:"post",data:t})}function v(t){return Object(n["a"])({url:"/api/v1/fm/dic/".concat(t),method:"delete"})}var h=function(t){return Object(n["a"])({url:"/api/v1/fm/dic/chinaRegionTree3/".concat(t),method:"get"})};function b(){return Object(n["a"])({url:"/api/v1/fm/company/config/getReceivePerformanceRuleConfig",method:"get"})}function g(t){return Object(n["a"])({url:"/api/v1/fm/company/config/editReceivePerformanceRuleConfig",method:"post",data:t})}function _(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/accrualMerge",params:t})}function y(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/accrualPlanList",method:"get",data:t})}function w(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/multistageMerge",data:t})}function C(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/multistagePlanList",method:"get",data:t})}function k(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/accrualPlan/".concat(t.id),method:"delete",data:t})}function x(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/multistagePlan/".concat(t.id),method:"delete",data:t})}function D(t){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/multistagePlanMaxRank",method:"get",data:t})}},ad92:function(t,e,a){},ada5:function(t,e,a){"use strict";var n=a("9cb1"),s=a.n(n);s.a},ae0f:function(t,e,a){"use strict";var n=a("622d"),s=a.n(n);s.a},ae22:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pd20 mb20"},[a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("钥匙人")]),t._v(" "),a("span",[t._v(t._s(t.keyInfo.keyUserInfo))])]),t._v(" "),a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("联系电话")]),t._v(" "),a("span",[t._v(t._s(t._f("formatPhone")(t.keyInfo.keyUserPhone)))])]),t._v(" "),a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("钥匙状态")]),t._v(" "),a("span",{class:{orange:2==t.keyInfo.useStatus,red:3==t.keyInfo.useStatus}},[t._v("\n      "+t._s(t.keyInfo.useStatusName)+"\n    ")])]),t._v(" "),3==t.keyInfo.useStatus?[a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("借用人")]),t._v(" "),a("span",[t._v(t._s(t.keyInfo.borrowInfo))])]),t._v(" "),a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("借用时间")]),t._v(" "),a("span",[t._v(t._s(t.keyInfo.borrowDate))])])]:t._e(),t._v(" "),a("div",{staticClass:"flex-center mt10"},[1==t.keyInfo.useStatus?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.showApplyBorrow=!0}}},[t._v("\n      申请借用\n    ")]):t._e()],1),t._v(" "),a("window2",{model:{value:t.showApplyBorrow,callback:function(e){t.showApplyBorrow=e},expression:"showApplyBorrow"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n      申请借用钥匙\n    ")]),t._v(" "),a("div",{attrs:{slot:"main"},slot:"main"},[a("apply-borrow",{attrs:{keyInfo:t.keyInfo},on:{close:t.close}})],1)])],2)},s=[],i=a("a34a"),r=a.n(i),o=a("9a2e"),l=a("b964"),c=a("e405");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{id:{type:[Number,String],required:!0}},components:{Window2:l["a"],ApplyBorrow:c["default"]},data:function(){return{showApplyBorrow:!1,keyInfo:{}}},created:function(){this.detailKey()},methods:{detailKey:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.id);case 2:a=e.sent,t.keyInfo=a;case 4:case"end":return e.stop()}}),e)})))()},close:function(){this.showApplyBorrow=!1,this.$emit("close")}}},m=p,f=a("2877"),v=Object(f["a"])(m,n,s,!1,null,null,null);e["default"]=v.exports},aed4:function(t,e,a){"use strict";var n=a("c7d8"),s=a.n(n);s.a},aedf:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"getTab",rawName:"v-getTab",value:t.getTab,expression:"getTab"}],staticClass:"customer"},[a("el-tabs",{staticClass:"fm-tabs-card",attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabs,(function(e,n){return a("el-tab-pane",{key:e,attrs:{label:e+"（"+("新房"==e?t.newtotal:t.oldtotal)+"）",name:""+(n+1)}},[a("tab-pane-content",{attrs:{tab:e},on:{newtotal:function(e){t.newtotal=e},oldtotal:function(e){t.oldtotal=e},enter:function(e){t.toggleEnterCustomerDialog=!0}}})],1)})),1),t._v(" "),a("follow-up-dialog",{attrs:{show:t.toggleFollowUpDialog},on:{close:function(e){t.toggleFollowUpDialog=!1}}}),t._v(" "),a("enter-customer-dialog",{attrs:{show:t.toggleEnterCustomerDialog},on:{close:function(e){t.toggleEnterCustomerDialog=!1}}})],1)},s=[],i=a("3fe5"),r=a("f62d"),o=a("0303"),l={components:{FollowUpDialog:i["default"],EnterCustomerDialog:r["default"],TabPaneContent:o["default"]},data:function(){return{newtotal:0,oldtotal:0,toggleEnterCustomerDialog:!1,toggleFollowUpDialog:!1,activeName:"1",tabs:["二手房","新房"]}},methods:{getTab:function(t){this.activeName=t}}},c=l,u=(a("f853"),a("3991"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"ea7f9bb8",null);e["default"]=d.exports},aee8:function(t,e,a){t.exports=a.p+"img/user-image.e32b8ba4.png"},af18:function(t,e,a){"use strict";var n=a("b07a"),s=a.n(n);s.a},af2f:function(t,e,a){"use strict";var n=a("1f84"),s=a.n(n);s.a},b011:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"avatar"},[a("div",{staticClass:"box"},[a("div",{staticClass:"cropper"},[a("vue-cropper",{ref:"cropper",attrs:{img:t.cropperUrl,outputType:"png",fixed:"",fixedNumber:[3,4],autoCrop:"",infoTrue:""}})],1),t._v(" "),a("div",{staticClass:"view"},[a("p",[t._v("预 览")]),t._v(" "),a("el-image",{staticClass:"img",attrs:{src:t.imgUrl,fit:"cover"}},[a("img",{attrs:{slot:"error",src:t.userDefaultImg},slot:"error"})])],1)]),t._v(" "),a("div",{staticClass:"menu"},[a("input",{ref:"input",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.inputChange()}}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.inputClick}},[t._v("选择图片")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.crop}},[t._v("确认裁剪")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.upload}},[t._v("\n      上传图片\n    ")])],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("61f7"),l=a("aee8"),c=a.n(l),u=a("7e79"),d=a("91b6"),p=a("e60e");function m(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function f(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){m(i,n,s,r,o,"next",t)}function o(t){m(i,n,s,r,o,"throw",t)}r(void 0)}))}}var v={props:["userImg","userId"],components:{VueCropper:u["VueCropper"]},data:function(){return{imgUrl:"",userDefaultImg:c.a}},created:function(){this.imgUrl=this.userImg},methods:{crop:function(){var t=this;this.$refs.cropper.getCropData((function(e){t.imgUrl=e,t.uploadFlag=!1}))},inputClick:function(){this.$refs.input.click()},inputChange:function(){var t=this;if(this.$refs.input.files){var e=this.$refs.input.files[0],a=new FileReader;a.readAsDataURL(e),a.onload=function(e){t.imgUrl=e.target.result,t.cropperUrl=e.target.result}}},upload:function(){var t=this;return f(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(o["b"])(t.imgUrl),n={file:a,uploadType:"files"},e.next=4,Object(d["a"])(n);case 4:if(s=e.sent,!s||!s.length){e.next=10;break}return e.next=8,Object(p["a"])({filePath:s[0].fileUrl,fileType:"5",employeeId:t.userId});case 8:i=e.sent,i&&(t.imgUrl=s[0].fileUrl,t.$showSuccess("上传成功"),t.$emit("fulfill","isFinishImage"),t.$root.$emit("getUserImg",t.imgUrl));case 10:case"end":return e.stop()}}),e)})))()}}},h=v,b=(a("0c11"),a("2877")),g=Object(b["a"])(h,n,s,!1,null,"3e870030",null);e["default"]=g.exports},b049:function(t,e,a){"use strict";var n=a("b7cf"),s=a.n(n);s.a},b07a:function(t,e,a){},b07f:function(t,e,a){},b089:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"x-container"},[a("div",{staticClass:"aisde-nav"},[a("fm-nav")],1),t._v(" "),a("div",{staticClass:"sub-views",style:{top:t.isHide?"30px":"60px"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("keep-alive",[a("router-view",{key:t.key})],1)],1),t._v(" "),a("fm-watermark")],1)])},s=[],i=a("3a02"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"watermark"},t._l(t.watermarkList,(function(e,n){return a("li",{key:n},[a("span",[t._v(t._s(e.realName))]),t._v(" "),a("span",[t._v(t._s(e.userCode))])])})),0)},o=[],l={data:function(){return{watermarkList:[]}},mounted:function(){this.createWatermark(),window.addEventListener("resize",this.createWatermark,!1)},destoryed:function(){window.removeEventListener("resize",this.createWatermark)},methods:{createWatermark:function(){for(var t=this.$store.state.settings.userInfo,e=t.realName,a=t.userCode,n=document.body.clientWidth,s=document.body.clientHeight,i=300,r=150,o=Math.ceil(n*s/(i*r)),l=[],c=0;c<=o;c++)l.push({realName:e,userCode:a});this.watermarkList=l}}},c=l,u=(a("7879"),a("2877")),d=Object(u["a"])(c,r,o,!1,null,"43b1957d",null),p=d.exports,m={components:{FmNav:i["default"],FmWatermark:p},data:function(){return{key:0,count:0}},watch:{$route:function(t){this.key=t.fullPath;var e=this.tagsViews.find((function(e){return e.path==t.path}));e.fullPath!=t.fullPath&&this.$store.commit("tagsView/UPDATE_VIEW",t)}},computed:{isHide:function(){return"/enrollment"==this.$route.path},tagsViews:function(){return this.$store.state.tagsView.visitedViews}},created:function(){this.key=this.$route.fullPath,this.$root.$off("refresh"),this.$root.$on("refresh",this.refresh)},methods:{refresh:function(){this.$navigateTo({path:this.$route.fullPath,type:"replace"})}}},f=m,v=Object(u["a"])(f,n,s,!1,null,null,null);e["default"]=v.exports},b250:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("div",{staticClass:"base"},[a("div",{staticClass:"title x aic mb10"},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"dealForm"}}),t._v(" "),a("div",{staticClass:"flex1 x3"},[a("div",{staticClass:"x aic"},[t.detail.orderCode?a("p",{staticClass:"fs20 bold black mr10"},[t._v("\n            系统："+t._s(t.detail.orderCode)+"\n          ")]):t._e(),t._v(" "),t.detail.contractNum?a("p",{staticClass:"fs20 bold black"},[t._v("\n            纸质："+t._s(t.detail.contractNum)+"\n          ")]):t._e(),t._v(" "),t.orderStatus[t.detail.orderStatus]?a("p",{staticClass:"ml10",class:t.orderStatus[t.detail.orderStatus].color},[t._v("\n            "+t._s(t.orderStatus[t.detail.orderStatus]&&t.orderStatus[t.detail.orderStatus].name)+"\n          ")]):t._e()]),t._v(" "),a("el-button-group",[(t.$own(t.pBtn,"bj")||t.detail.isInUser)&&20!=t.detail.orderStatus?a("el-button",{staticClass:"blue",attrs:{size:"mini"},on:{click:t.toEdit}},[t._v("\n            编辑\n          ")]):t._e(),t._v(" "),t.$own(t.pBtn,"sh")&&10==t.detail.orderStatus?a("el-button",{staticClass:"blue",attrs:{size:"mini"},on:{click:function(e){t.showExamineFlag=!0}}},[t._v("\n            审核\n          ")]):t._e(),t._v(" "),!t.$own(t.pBtn,"sk")||15!=t.detail.orderStatus&&16!=t.detail.orderStatus?t._e():a("el-button",{staticClass:"blue",attrs:{size:"mini"},on:{click:function(e){t.showCollectionFlag=!0}}},[t._v("\n            收款\n          ")]),t._v(" "),(t.$own(t.pBtn,"gb")||t.detail.isInUser)&&[0,10,15,100].includes(t.detail.orderStatus)?a("el-button",{class:{red:100!=t.detail.orderStatus,blue:100==t.detail.orderStatus},attrs:{size:"mini"},on:{click:t.switchDealOrderStatus}},[t._v("\n            "+t._s(100==t.detail.orderStatus?"恢复":"关闭")+"\n          ")]):t._e()],1)],1)],1),t._v(" "),a("div",{staticClass:"pl40"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("创建人： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.inUserName))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("创建时间： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.inDate))])])],1),t._v(" "),a("el-divider"),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("项目楼盘： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.estateName))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("成交房源： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.houseNo))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("成交面积： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.buildingArea)+"平米")])])],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("成交总价： ")]),t._v(" "),a("span",[a("span",{staticClass:"red"},[t._v("¥"+t._s(t._f("toThousands")(t.detail.totalPrice)))]),t._v(" "),t.detail.totalPrice&&t.detail.buildingArea?a("span",{staticClass:"color6"},[t._v("(单价：¥"+t._s((t.detail.totalPrice/t.detail.buildingArea).toFixed(2))+"元/平米)")]):t._e()])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("成交时间： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.dealDate))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("置业顾问： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.consultantName))])])],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("经纪人： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.agentUserName))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("部门门店： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.storeName))])])],1),t._v(" "),a("el-divider"),t._v(" "),t._l(t.dealCustomers,(function(e,n){return a("el-row",{key:n,attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("客户姓名： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v("\n            "+t._s(e.customerName)+"\n            "),e.customerId?a("span",[t._v("\n              (客户编号"+t._s(e.customerId)+")\n            ")]):t._e()])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("客户电话： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t._f("formatPhone")(e.customerPhone)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("身份证号： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(e.customerCardNum))])])],1)})),t._v(" "),t.dealCustomers&&t.dealCustomers.length?a("el-divider"):t._e(),t._v(" "),t.requestInfo.id?a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("报备带看： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.requestInfo.customerName)+" ("+t._s(t._f("formatPhone2")(t.requestInfo.customerCellPhone))+")")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("带看时间: ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.requestInfo.visitDate))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("带看反馈： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.requestInfo.feedbackName))])])],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("陪看人员： ")]),t._v(" "),t.requestInfo.entourageVisitorList?a("span",{staticClass:"color6"},[t._v("\n              "+t._s(t.requestInfo.entourageVisitorList.toString())+"\n            ")]):t._e()]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("报备人: ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.requestInfo.userName))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("报备时间： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.requestInfo.requestDate))])])],1),t._v(" "),t.requestInfo.annex&&t.requestInfo.annex.length?a("el-row",[a("el-col",{staticClass:"x",attrs:{span:24}},[a("span",[t._v("确认单： ")]),t._v(" "),a("div",{staticClass:"x flex-flow flex1"},t._l(t.requestInfo.annex,(function(e,n){return a("el-image",{key:n,staticClass:"detail-img",attrs:{src:e,fit:"cover","preview-src-list":t.requestInfo.annex}},[a("img",{attrs:{slot:"error",src:t.$errorImg},slot:"error"})])})),1)])],1):t._e(),t._v(" "),a("el-divider")],1):t._e(),t._v(" "),t.detail.remark?a("el-row",[a("el-col",{attrs:{span:24}},[a("span",[t._v("备注内容： ")]),t._v(" "),a("span",{staticClass:"color6"},[t._v(t._s(t.detail.remark))])])],1):t._e(),t._v(" "),a("el-row",[a("el-col",{staticClass:"x",attrs:{span:24}},[a("span",[t._v("图片附件： ")]),t._v(" "),a("div",{staticClass:"x flex-flow flex1"},t._l(t.attachs,(function(e,n){return a("el-image",{key:n,staticClass:"detail-img",attrs:{src:e,fit:"cover","preview-src-list":t.attachs}},[a("img",{attrs:{slot:"error",src:t.$errorImg},slot:"error"})])})),1)])],1)],2)]),t._v(" "),a("div",{staticClass:"other"},[a("div",{staticClass:"title fs16 bold"},[t._v("业绩分配明细")]),t._v(" "),a("div",{staticClass:"main"},[a("p",{staticClass:"fs16 mb20"},[t._v("①、应收业绩分配明细")]),t._v(" "),a("el-table",{staticClass:"mb20",staticStyle:{width:"100%"},attrs:{data:t.distributeList,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"performanceTypeStr",label:"业绩类型"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"agentUserName",label:"员工姓名"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"部门/门店"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.storeName)+"\n            "+t._s(e.row.groupName)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"distributeRateHistory",label:"比例"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inDateStr",label:"应收业绩"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            ¥"+t._s(t._f("toThousands")(e.row.performanceAmount))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"备注"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x aic"},[t._v(t._s(e.row.remark))])}}])})],1),t._v(" "),a("p",{staticClass:"fs16 mb20"},[t._v("②、实收业绩分配明细")]),t._v(" "),a("el-table",{staticClass:"mb20",staticStyle:{width:"100%"},attrs:{data:t.distributeReceiveList,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"performanceTypeStr",label:"业绩类型"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"agentUserName",label:"员工姓名"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"部门/门店"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.storeName)+"\n            "+t._s(e.row.groupName)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"distributeRateHistory",label:"比例"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inDateStr",label:"实收业绩"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            ¥"+t._s(t._f("toThousands")(e.row.performanceAmount))+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"备注"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x aic"},[t._v(t._s(e.row.remark))])}}])})],1)],1)]),t._v(" "),a("div",{staticClass:"other"},[a("div",{staticClass:"title fs16 bold"},[t._v("应/实收记录")]),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"log x"},[a("div",{staticClass:"l"},[a("p",{staticClass:"fs16 bold mb20"},[t._v("收入部分")]),t._v(" "),a("div",{staticClass:"flex-flow width"},t._l(t.inComeRecords,(function(e,n){return a("div",{key:n,staticClass:"log-cell"},[a("p",{staticClass:"bold mb10"},[t._v("\n                "+t._s(t._f("toCircleNum")(n+1))+t._s(e.name)+"\n              ")]),t._v(" "),a("div",t._l(e.value,(function(e,n){return a("p",{key:n},[a("span",{staticClass:"color6"},[t._v(t._s(e.name)+":")]),t._v(" "),a("span",{class:{green:e.name.includes("状态")&&e.value.includes("已"),red:e.name.includes("状态")&&e.value.includes("待")}},[t._v("\n                    "+t._s(e.value))])])})),0)])})),0)]),t._v(" "),t.outComeRecords.length?a("div",{staticClass:"line"}):t._e(),t._v(" "),t.outComeRecords.length?a("div",{staticClass:"r"},[a("p",{staticClass:"fs16 mb20 bold"},[t._v("支出部分")]),t._v(" "),a("div",{staticClass:"flex-flow width"},t._l(t.outComeRecords,(function(e,n){return a("div",{key:n,staticClass:"log-cell"},[a("p",{staticClass:"bold mb10"},[t._v("\n                "+t._s(t._f("toCircleNum")(n+1))+t._s(e.name)+"\n              ")]),t._v(" "),a("div",t._l(e.value,(function(e,n){return a("p",{key:n},[a("span",{staticClass:"color6"},[t._v(t._s(e.name)+":")]),t._v(" "),a("span",{class:{green:e.name.includes("状态")&&e.value.includes("已"),red:e.name.includes("状态")&&e.value.includes("待")}},[t._v("\n                    "+t._s(e.value))])])})),0)])})),0)]):t._e()]),t._v(" "),a("div",{staticClass:"total-box"},[a("el-row",{staticClass:"mb20",attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"color6 mb10"},[t._v("\n              合计应收/实收金额\n            ")]),t._v(" "),a("p",{staticClass:"fs18 bold mb10"},[a("span",{staticClass:"color3"},[t._v("\n                ¥ "+t._s(t._f("toThousands")(t.detail.totalAmount))+"\n              ")]),t._v(" "),a("span",{staticClass:"color9"},[t._v("/")]),t._v(" "),a("span",{staticClass:"red"},[t._v("\n                ¥ "+t._s(t._f("toThousands")(t.detail.totalAmounted))+"\n              ")])]),t._v(" "),a("p",{staticClass:"color9"},[t._v("=佣金收入+其他收入")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("p",{staticClass:"color6 mb10"},[t._v("\n              可分配业绩/已分配业绩\n            ")]),t._v(" "),a("p",{staticClass:"fs18 bold mb10"},[a("span",{staticClass:"color3"},[t._v("\n                ¥ "+t._s(t._f("toThousands")(t.detail.channelCommission))+"\n              ")]),t._v(" "),a("span",{staticClass:"color9"},[t._v("/")]),t._v(" "),a("span",{staticClass:"red"},[t._v("\n                ¥ "+t._s(t._f("toThousands")(t.detail.channelCommissioned))+"\n              ")])]),t._v(" "),a("p",{staticClass:"color9"},[t._v("=应分业绩-应扣业绩")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("p",{staticClass:"color6 mb10"},[t._v("\n              合计应扣业绩/已扣业绩\n            ")]),t._v(" "),a("p",{staticClass:"fs18 bold mb10"},[a("span",{staticClass:"color3"},[t._v("\n                - ¥ "+t._s(t._f("toThousands")(t.detail.totalOutCome))+"\n              ")]),t._v(" "),a("span",{staticClass:"color9"},[t._v("/")]),t._v(" "),a("span",{staticClass:"red"},[t._v("\n                - ¥ "+t._s(t._f("toThousands")(t.detail.totalOutComed))+"\n              ")])]),t._v(" "),a("p",{staticClass:"color9"},[t._v("=各项支出之和")])])],1),t._v(" "),t.detail.payCount?a("p",{staticClass:"blue pointer",on:{click:t.showCollectionLog}},[t._v("\n          共"+t._s(t.detail.payCount)+"条收款记录，立即查看>>\n        ")]):t._e()],1)])]),t._v(" "),a("collectionLog",{attrs:{payData:t.payData},model:{value:t.showCollectionLogFlag,callback:function(e){t.showCollectionLogFlag=e},expression:"showCollectionLogFlag"}}),t._v(" "),a("examine",{attrs:{options:{orderCode:t.detail.orderCode,orderId:t.id}},model:{value:t.showExamineFlag,callback:function(e){t.showExamineFlag=e},expression:"showExamineFlag"}}),t._v(" "),a("collection",{attrs:{visible:t.showCollectionFlag,options:{orderId:t.id}},on:{"update:visible":function(e){t.showCollectionFlag=e}}})],1)},s=[],i=a("a34a"),r=a.n(i),o=a("2b6d"),l=a("db49"),c=a("d9a2"),u=a("318a"),d=a("da55");function p(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){p(i,n,s,r,o,"next",t)}function o(t){p(i,n,s,r,o,"throw",t)}r(void 0)}))}}var f={components:{collectionLog:c["default"],examine:u["default"],collection:d["default"]},data:function(){return{showCollectionLogFlag:!1,showExamineFlag:!1,showCollectionFlag:!1,orderStatus:l["a"].config.orderStatus,detail:{},dealCustomers:[],attachs:[],distributeList:[],distributeReceiveList:[],inComeRecords:[],outComeRecords:[],payData:{},collection:{},requestInfo:{},id:null}},computed:{pBtn:function(){return this.$route.meta.authActions||[]}},created:function(){this.id=this.$route.params.id,this.dealDetail()},methods:{showCollectionLog:function(){this.showCollectionLogFlag=!0},dealDetail:function(){var t=this;return m(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["g"])(t.id);case 2:a=e.sent,t.detail=a||{},t.dealCustomers=t.detail.dealCustomers||[],t.distributeList=t.detail.distributeList||[],t.distributeReceiveList=t.detail.distributeReceiveList||[],t.inComeRecords=t.detail.inComeRecords||[],t.outComeRecords=t.detail.outComeRecords||[],t.requestInfo=t.detail.requestInfo||{},n=t.detail.attachs||[],t.attachs=n.map((function(t){return t.fileUrl})),t.detail.payCount>0&&t.getPayList();case 13:case"end":return e.stop()}}),e)})))()},getPayList:function(){var t=this;return m(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["m"])(t.id);case 2:a=e.sent,a.orderStatus=t.orderStatus[a.orderStatus],t.payData=a;case 5:case"end":return e.stop()}}),e)})))()},switchDealOrderStatus:function(){var t=this;return m(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["w"])({id:t.id});case 2:a=e.sent,a&&(t.$showSuccess("操作成功"),t.dealDetail());case 4:case"end":return e.stop()}}),e)})))()},toEdit:function(){var t=this.id,e="编辑客户成交";this.$navigateTo("/work/business/newHouse/editDeal/".concat(t,"?title=").concat(e))}}},v=f,h=(a("01b5"),a("309f"),a("2877")),b=Object(h["a"])(v,n,s,!1,null,"b8dbe020",null);e["default"]=b.exports},b339:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log-container",attrs:{"infinite-scroll-disabled":"busy"}},[a("div",{staticClass:"tag-filter"},t._l(t.tags,(function(e,n){return a("el-button",{key:n,staticClass:"tag",attrs:{size:"mini",type:t.followTagActive==n?"info":""},on:{click:function(a){return t.tagClick(1,n,e)}}},[t._v(t._s(e.label))])})),1),t._v(" "),t.list.length?a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list"},[t._l(t.list,(function(e,n){return a("li",{key:n},[a("h3",{staticClass:"head"},[t._v("\n        "+t._s(e.inDate)+" "+t._s(e.userName)+"\n        "),e.houseRole?a("span",[t._v("("+t._s(e.houseRole)+")")]):t._e()]),t._v(" "),a("div",{staticClass:"body"},[a("p",{staticClass:"mb20"},[t._v(t._s(e.recordContent))]),t._v(" "),t._l(e.contentList,(function(e,n){return a("p",{key:n},[t._v("\n          "+t._s(e.text)+":\n          "),a("span",{staticClass:"orange"},[t._v(t._s(e.originPrice))]),t._v(" >>\n          "),a("span",{staticClass:"orange"},[t._v(t._s(e.newPrice))])])})),t._v(" "),a("div",{staticClass:"mt10"},t._l(e.attachList,(function(t,n){return a("el-image",{key:n,staticClass:"img",attrs:{type:"preview",fit:"cover",resourceMap:e.attachList.join("||"),index:n,src:t}})})),1)],2),t._v(" "),a("div",{staticClass:"foot"},[a("el-button",{staticClass:"tag",attrs:{size:"mini"}},[t._v(t._s(e.followTypeName))]),t._v(" "),e.isTop?a("el-button",{staticClass:"tag danger-tag",attrs:{size:"mini",type:"danger"}},[t._v("置顶")]):t._e(),t._v(" "),e.isTop?a("el-button",{staticClass:"fr tag btn",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.cancelSellFollowTop(e.id)}}},[t._v("取消置顶")]):a("el-button",{staticClass:"fr tag btn",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.topSellFollow(e.id)}}},[t._v("置顶")])],1)])})),t._v(" "),a("li",{staticClass:"fm-empty"},[t._v("----暂无更多----")])],2):a("div",{staticClass:"fm-empty"},[t._v("----暂无数据----")])])},s=[],i=a("a34a"),r=a.n(i),o=a("2144");function l(t){return p(t)||d(t)||u(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return m(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(t,e):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function p(t){if(Array.isArray(t))return m(t)}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function b(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function g(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){b(i,n,s,r,o,"next",t)}function o(t){b(i,n,s,r,o,"throw",t)}r(void 0)}))}}var _={props:{type:{type:String,default:"followup"},id:{type:[Number,String],required:!0},refreshToken:{type:Number,default:0}},watch:{id:{immediate:!0,handler:function(t){this.followupQueryData.houseId=t,this.getLogs()}},refreshToken:function(){this.getLogs()}},data:function(){return{followTagActive:0,tags:[{label:"全部",value:""},{label:"去电",value:1},{label:"面访",value:2},{label:"房堪",value:3},{label:"议价",value:4}],total:0,followupQueryData:{houseId:null,orderField:"",followType:"",pageSize:5,pageSizeNum:0},busy:!1,list:[]}},methods:{tagClick:function(t,e,a){var n=this;return g(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.followTagActive=e,n.followupQueryData.followType=a.value,n.getLogs();case 3:case"end":return t.stop()}}),t)})))()},topSellFollow:function(t){var e=this;return g(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["d"])(t);case 2:if(n=a.sent,!n){a.next=7;break}return a.next=6,e.getLogs();case 6:e.$showSuccess("置顶成功");case 7:case"end":return a.stop()}}),a)})))()},cancelSellFollowTop:function(t){var e=this;return g(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["a"])(t);case 2:if(n=a.sent,!n){a.next=7;break}return a.next=6,e.getLogs();case 6:e.$showSuccess("取消成功");case 7:case"end":return a.stop()}}),a)})))()},getLogs:function(t){var e=this;return g(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=function(){},s={},"followup"==e.type&&(n=o["c"],s=v({},e.followupQueryData)),a.next=5,n(s);case 5:i=a.sent,i&&(e.list=t?[].concat(l(e.list),l(i.list)):i.list,e.total=i.total);case 7:case"end":return a.stop()}}),a)})))()},loadMore:function(){this.list.length<this.total&&(this.followupQueryData.pageSize++,this.getLogs(!0))}}},y=_,w=(a("07eb"),a("2877")),C=Object(w["a"])(y,n,s,!1,null,"60e18a82",null);e["default"]=C.exports},b376:function(t,e,a){t.exports=a.p+"img/defaultAvatar.4af7a9e9.png"},b388:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cost-statistics"},[a("div",{staticClass:"head"},[a("div",{staticClass:"filtrator"},[a("el-date-picker",{attrs:{size:"small",type:"month","value-format":"yyyy-MM-01",format:"yyyy年MM月",placeholder:"选择月","picker-options":t.$disabledFutureDate},on:{change:t.search},model:{value:t.queryData.feeDate,callback:function(e){t.$set(t.queryData,"feeDate",e)},expression:"queryData.feeDate"}}),t._v(" "),a("el-select",{attrs:{size:"small",clearable:"",placeholder:"门店"},on:{change:t.search},model:{value:t.queryData.storeId,callback:function(e){t.$set(t.queryData,"storeId",e)},expression:"queryData.storeId"}},t._l(t.store,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("div",{staticClass:"operator"},[a("div",{on:{click:t.print}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"print"}}),t._v(" "),a("span",[t._v("打印")])],1),t._v(" "),a("div",{on:{click:t.exportPDF}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"export"}}),t._v(" "),a("span",[t._v("导出PDF")])],1),t._v(" "),a("div",{on:{click:t.refresh}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"refresh"}}),t._v(" "),a("span",[t._v("重新生成")])],1)])]),t._v(" "),a("div",{staticClass:"content"},[a("h2",{staticClass:"title"},[t._v("门店费用支出汇总表")]),t._v(" "),a("div",{staticClass:"base-info flex"},[a("p",[a("span",[t._v("门店：")]),t._v(t._s(t.statistics.storeName))]),t._v(" "),a("p",[a("span",[t._v("日期：")]),t._v(t._s(t.statistics.feeDate))])]),t._v(" "),a("el-table",{attrs:{size:"small",data:t.statistics.kindList,"row-key":"id",border:"","tree-props":{children:"items",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center","show-overflow-tooltip":"",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用类型/明细"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.feeKind||e.row.remark)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"feeDate",label:"支出时间",width:"120px"}}),t._v(" "),a("el-table-column",{staticClass:"ta-right",attrs:{prop:"amount",label:"费用金额",width:"400px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"fr"},[t._v(t._s(t._f("toThousands")(e.row.amount||e.row.totalAmount)))])]}}])})],1)],1),t._v(" "),t.showPrintDom?a("div",{staticClass:"content",attrs:{id:"cost-statistics"}},[a("h2",{staticClass:"title"},[t._v("门店费用支出汇总表")]),t._v(" "),a("div",{staticClass:"base-info flex"},[a("p",[a("span",[t._v("门店：")]),t._v(t._s(t.statistics.storeName))]),t._v(" "),a("p",[a("span",[t._v("日期：")]),t._v(t._s(t.statistics.feeDate))])]),t._v(" "),a("el-table",{attrs:{size:"small",data:t.statistics.kindList,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"items",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center","show-overflow-tooltip":"",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用类型/明细"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.feeKind||e.row.remark)+"\n        ")]}}],null,!1,1365273521)}),t._v(" "),a("el-table-column",{attrs:{prop:"feeDate",label:"支出时间",width:"120px"}}),t._v(" "),a("el-table-column",{staticClass:"ta-right",attrs:{prop:"amount",label:"费用金额",width:"400px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"fr"},[t._v(t._s(t._f("toThousands")(e.row.amount||e.row.totalAmount)))])]}}],null,!1,975838840)})],1)],1):t._e()])},s=[],i=a("a34a"),r=a.n(i),o=a("405f"),l=a("73f5"),c=a("ed08");a("fe63");function u(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=d(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function m(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function f(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){m(i,n,s,r,o,"next",t)}function o(t){m(i,n,s,r,o,"throw",t)}r(void 0)}))}}var v={data:function(){return{queryData:{siteId:null,feeDate:"",storeId:null},showPrintDom:!1,store:[],statistics:{kindList:[]}}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){var t=this;return f(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.initData(),e.next=3,t.getUserStore();case 3:t.search();case 4:case"end":return e.stop()}}),e)})))()},methods:{print:function(){var t=this;this.showPrintDom=!0,this.$nextTick((function(){new Print("#cost-statistics"),t.showPrintDom=!1}))},exportPDF:function(){var t=this;this.showPrintDom=!0,this.$nextTick((function(){t.getPDF("#cost-statistics","门店费用支出汇总表"),t.showPrintDom=!1}))},refresh:function(){var t=this;this.statistics.kindList=[],setTimeout((function(){t.search()}),300)},getSummary:function(){return["合计(共".concat(this.statistics.total,"条)"),"-",this.statistics.totalAmount]},handleTableData:function(t){var e=1,a=function t(a){var n,s=u(a);try{for(s.s();!(n=s.n()).done;){var i=n.value;i.id=e++,i.feeDate||(i.feeDate="-"),i.items&&i.items.length&&t(i.items)}}catch(r){s.e(r)}finally{s.f()}};return a(t),t},initData:function(){this.queryData.siteId=this.site.id,this.queryData.feeDate=Object(c["j"])().month.start},search:function(){var t=this;return f(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["f"])(t.queryData);case 2:if(a=e.sent,!a){e.next=9;break}if(t.statistics=a,a.kindList){e.next=7;break}return e.abrupt("return");case 7:t.statistics.kindList=t.handleTableData(a.kindList),t.statistics.kindList.push({feeKind:"合计(".concat(a.total,"条)"),totalAmount:a.totalAmount});case 9:case"end":return e.stop()}}),e)})))()},getUserStore:function(){var t=this;return f(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["j"])({siteId:t.site.id});case 2:a=e.sent,a&&(n=t.$store.state.settings.userInfo.storeId,t.store=a,a.some((function(t){return t.id==n}))?t.queryData.storeId=n:t.queryData.storeId=a[0].id);case 4:case"end":return e.stop()}}),e)})))()}}},h=v,b=(a("d703"),a("426d"),a("2877")),g=Object(b["a"])(h,n,s,!1,null,"5b0e7e4d",null);e["default"]=g.exports},b396:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"around-amap"},[t._m(0),t._v(" "),a("div",{staticClass:"main"},[a("el-amap",{ref:"amap",attrs:{vid:"amap",plugin:t.plugin,zoom:14,center:t.center,showIndoorMap:!1,scrollWheel:!1}},[a("el-amap-circle",{attrs:{center:t.center,radius:t.circle.radius,"fill-opacity":t.circle.fillOpacity,strokeOpacity:t.circle.strokeOpacity,strokeColor:t.circle.strokeColor,fillColor:t.circle.fillColor}}),t._v(" "),a("el-amap-marker",{attrs:{position:t.center,visible:!0,offset:[0,-32],topWhenClick:!0}},[a("div",{staticClass:"center"},[a("p",[t._v(t._s(t.title))]),t._v(" "),a("span")])]),t._v(" "),t._l(t.menus[t.menuIndex].list,(function(e,n){return a("el-amap-marker",{key:n,attrs:{position:e.location.split(",").map(Number),visible:!0,topWhenClick:!0,topWhenMouseOver:"true"}},[a("div",{staticClass:"tag",class:"icon"+e.CODE,style:"background-image: url("+t.icons+")"},[a("div",{staticClass:"marker-tip"},[a("h5",{staticClass:"layout_title"},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),a("p",{staticClass:"distance_address"},[t._v("\n              "+t._s(e.address)+"\n            ")]),t._v(" "),a("div",{staticClass:"distance_tag"},[a("i",{style:"background-image: url("+t.icons+")"}),t._v(" "),a("span",{staticClass:"distance"},[t._v(t._s(e.distance))]),t._v("\n              m\n            ")]),t._v(" "),a("i",{staticClass:"layout_detail_down",style:"background-image: url("+t.icons+")"})])])])}))],2),t._v(" "),a("div",{staticClass:"menu"},t._l(t.menus,(function(e,n){return a("div",{key:n,class:{active:t.menuIndex===n},on:{click:function(e){t.menuIndex=n}}},[a("div",{staticClass:"l",class:"icon"+n},[a("div",{style:"background-image: url("+t.icons+")"})]),t._v(" "),a("div",{staticClass:"r"},[t._v(t._s(e.name))])])})),0)],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"l"},[t._v("周边配套")])])}],i=a("cebe"),r=a.n(i),o=a("ab26"),l=a.n(o),c=a("cac6"),u=a.n(c);function d(t){return v(t)||f(t)||m(t)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t,e){if(t){if("string"===typeof t)return h(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function v(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var b={props:["center","title"],data:function(){return{icons:u.a,mark:l.a,plugin:[{pName:"ToolBar"},{pName:"Scale"}],menus:[{name:"交通地段",types:["150700","地铁"],list:[]},{name:"餐饮购物",types:["050000","060000","160000"],list:[]},{name:"教育机构",types:["141200"],list:[]},{name:"医疗设施",types:["090000"],list:[]}],circle:{radius:1e3,fillOpacity:.3,strokeOpacity:.5,strokeColor:"#CCC297",fillColor:"#CCC297"},menuIndex:0}},computed:{amap:function(){return this.$refs.amap.$amap}},watch:{menuIndex:function(){this.getList()}},mounted:function(){this.getList()},methods:{getList:function(){var t=this,e=this.menuIndex,a=this.menus;a[e].list.length||a[e].types.forEach((function(e){t.getPois(e)}))},getPois:function(t){var e=this,a=this.menuIndex,n=this.center;r.a.get("https://restapi.amap.com/v3/place/around",{params:{key:"faca7f10327c4ada997ec60a588e6ffb",location:n.toString(),radius:2e3,types:t}}).then((function(n){if("1"===n.data.status){var s=n.data.pois;s.forEach((function(e){e.CODE=t})),e.menus[a].list=[].concat(d(e.menus[a].list),d(s)),e.$emit("getAroundTraffic",e.menus[0])}else e.$message.error("周边服务请求失败")})).catch((function(){e.$message.error("周边服务请求失败")}))},panTo:function(t){var e=t.split(",").map(Number);this.amap.panTo(e)}}},g=b,_=(a("c69a0"),a("2877")),y=Object(_["a"])(g,n,s,!1,null,"3cc1a004",null);e["a"]=y.exports},b3ad:function(t,e,a){},b3b8:function(t,e,a){},b452:function(t,e,a){"use strict";var n=a("a435"),s=a.n(n);s.a},b4dc:function(t,e,a){},b4f0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"getTab",rawName:"v-getTab",value:t.getTab,expression:"getTab"}],staticClass:"container"},[a("div",{staticClass:"head"},[a("h2",{staticClass:"fm-title20"},[t._v("提成管理")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"bg-img"},[a("img",{attrs:{src:t.bgImg}})])]),t._v(" "),a("el-tabs",{staticClass:"store-cost-tabs",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t._l(t.tabs,(function(t,e){return[a("el-tab-pane",{key:e,attrs:{label:t.value,name:""+(e+1)}},[a(t.component,{tag:"component"})],1)]}))],2)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tips"},[a("p",[t._v("\n        每月1号生成上月业绩提成汇总表，已生成后，如果有新的实收业绩补充，或者需要变更业绩提成规则，请完成相关操作后，重新生成；\n      ")])])}],i=a("429d"),r=a("a5bd"),o=a("6333"),l=a.n(o),c={components:{commission:i["default"],provision:r["default"]},data:function(){return{bgImg:l.a,activeName:"1",tabs:[{component:"commission",value:"提成汇总表"},{component:"provision",value:"计提汇总表"}]}},methods:{getTab:function(t){this.activeName=t}}},u=c,d=(a("4d04"),a("0d24"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,"2be8ccf8",null);e["default"]=p.exports},b5a6:function(t,e,a){"use strict";var n=a("10a4"),s=a.n(n);s.a},b691:function(t,e,a){},b6c7:function(t,e,a){"use strict";var n=a("d330"),s=a.n(n);s.a},b6ea:function(t,e,a){},b6f4:function(t,e,a){"use strict";var n=a("e097"),s=a.n(n);s.a},b762:function(t,e,a){},b7cf:function(t,e,a){},b810:function(t,e,a){},b828:function(t,e,a){"use strict";var n=a("c878"),s=a.n(n);s.a},b8c6:function(t,e,a){},b913:function(t,e,a){"use strict";var n=a("0fc8"),s=a.n(n);s.a},b964:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-fade-in"}},[t.showWindow?a("div",{staticClass:"bg",attrs:{value:t.value}},[a("div",{staticClass:"window transition-box",style:"width:"+t.width+"px"},[a("div",{staticClass:"window-title"},[a("p",{staticClass:"flex-between"},[t._t("title"),t._v(" "),a("svg-icon",{staticClass:"icon pointer",attrs:{"icon-class":"close"},on:{click:function(e){t.showWindow=!1}}})],2)]),t._v(" "),a("div",{staticClass:"window-main"},[t._t("main")],2),t._v(" "),t.hasFooter?a("div",{staticClass:"window-footer"},[t._t("footer")],2):t._e()])]):t._e()])},s=[],i={props:{hasFooter:{type:Boolean,default:!1},value:{type:Boolean,default:!1},width:{type:Number,default:580}},data:function(){return{showWindow:!1}},watch:{value:function(t){this.showWindow=t},showWindow:function(t){this.$emit("input",t)}}},r=i,o=(a("5e1f"),a("29e1"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"21c550fb",null);e["a"]=l.exports},b979:function(t,e,a){"use strict";var n=a("7134"),s=a.n(n);s.a},b9ac:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record-item"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar}})]),t._v(" "),a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("p",{staticClass:"tips"},[t._v("\n      我是经纪人带看，总结：房子居家装修，目前房东自己在住，明厨卫，中高楼层，采光很不错，也比较安静，如果您对这套房子感兴趣，欢迎随时来电咨询。\n    ")]),t._v(" "),a("div",{staticClass:"house-info-slider"},[a("div",{staticClass:"slider-item"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"l-pic"},[a("img",{attrs:{src:t.housePic,alt:""}})]),t._v(" "),a("div",{staticClass:"r-text"},[a("h3",{staticClass:"name"},[t._v("翡翠半岛")]),t._v(" "),a("p",{staticClass:"summary"},[t._v("三室两厅 120平米 160万")]),t._v(" "),a("div",{staticClass:"tags"},[a("el-tag",{staticClass:"tag",attrs:{type:"success",size:"small"}},[t._v("首看")]),t._v(" "),a("el-tag",{staticClass:"tag",attrs:{type:"warning",size:"small"}},[t._v("再考虑")])],1)])])]),t._v(" "),a("div",{staticClass:"slider-item"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"l-pic"},[a("img",{attrs:{src:t.housePic,alt:""}})]),t._v(" "),a("div",{staticClass:"r-text"},[a("h3",{staticClass:"name"},[t._v("翡翠半岛")]),t._v(" "),a("p",{staticClass:"summary"},[t._v("三室两厅 120平米 160万")]),t._v(" "),a("div",{staticClass:"tags"},[a("el-tag",{attrs:{type:"success",size:"small"}},[t._v("首看")]),t._v(" "),a("el-tag",{attrs:{type:"warning",size:"small"}},[t._v("再考虑")])],1)])])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"name-wrap"},[a("span",{staticClass:"name"},[t._v("张三丰")]),t._v(" "),a("span",{staticClass:"date"},[t._v("今天 两小时前")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"title"},[a("span",[t._v("卖卖，2019-09-17 孙尚香，张辽，周瑜陪看")]),t._v(" "),a("i",{staticClass:"icon el-icon-edit"})])}],i=a("1195"),r=a.n(i),o=a("7e71"),l=a.n(o),c={data:function(){return{housePic:l.a,avatar:r.a}}},u=c,d=(a("a967"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=p.exports},ba19:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/house/address/".concat(t),method:"get"})}function i(t,e){return Object(n["a"])({url:"/api/v1/fm/house/address/".concat(t),method:"put",data:e})}},ba2f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"getTab",rawName:"v-getTab",value:t.getTab,expression:"getTab"}],staticClass:"container"},[a("div",{staticClass:"head"},[a("h2",{staticClass:"fm-title20"},[t._v("门店费用")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"bg-img"},[a("img",{attrs:{src:t.bgImg}})])]),t._v(" "),a("el-tabs",{staticClass:"store-cost-tabs",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t._l(t.tabs,(function(e,n){return[a("el-tab-pane",{key:n,attrs:{label:e.value,name:""+(n+1)}},["ll-hzb"==e.key?a("div",{attrs:{"v-permit":e.key}},[a("statistics")],1):t._e(),t._v(" "),"ll-fyzc"==e.key?a("div",{attrs:{"v-permit":e.key}},[a("expenditure")],1):t._e()])]}))],2)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tips"},[a("p",[t._v("\n        门店每月费用支出，请务必于次月5号24:00前完成录入并审核，以便于系统生成完整的月度财务核算表报；\n      ")]),t._v(" "),a("p",[t._v("每月5号24:00以后，只能录入当月及以后月度门店费用支出；")])])}],i=a("b388"),r=a("d220"),o=a("6333"),l=a.n(o),c={components:{Statistics:i["default"],Expenditure:r["default"]},data:function(){return{bgImg:l.a,activeName:"1",tabs:[{key:"ll-fyzc",value:"费用支出"},{key:"ll-hzb",value:"汇总表"}]}},methods:{getTab:function(t){this.activeName=t}}},u=c,d=(a("0071"),a("3eb2"),a("2877")),p=Object(d["a"])(u,n,s,!1,null,"00bc00c8",null);e["default"]=p.exports},bb714:function(t,e,a){"use strict";var n=a("1de8"),s=a.n(n);s.a},bb83:function(t,e,a){t.exports=a.p+"img/dkjl.0f6c5264.png"},bb8c:function(t,e,a){},bb9b:function(t,e,a){"use strict";var n=a("85e1"),s=a.n(n);s.a},bba0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"news-list",staticStyle:{overflow:"auto"}},[t._l(t.list,(function(e,n){return a("li",{key:n,staticClass:"item"},[a("p",{staticClass:"tags"},[a("span",[t._v(t._s(e.publishTime))])]),t._v(" "),a("div",{staticClass:"summary"},[a("p",{domProps:{innerHTML:t._s(e.content)}})]),t._v(" "),a("ul",{staticClass:"imgs"},t._l(e.files,(function(n,s){return a("div",{key:s,class:2==e.files.length?"img2":1==e.files.length?"img1":"img"},[a("el-image",{attrs:{fit:"cover",src:n},on:{click:function(a){return t.previewPic(e.files,s)}}},[a("img",{attrs:{slot:"error",src:t.houesPlaceholderImg},slot:"error"})])],1)})),0)])})),t._v(" "),a("li",{staticClass:"loading"},[t.list.length>=t.total?a("span",[t._v("----- 暂无更多 -----")]):a("span",[a("i",{staticClass:"el-icon-loading"}),t._v(" 加载中~")])])],2)},s=[],i=(a("dfa4"),a("f803")),r=a("c1ed"),o=a.n(r),l={props:{estateId:null},components:{},data:function(){return{houesPlaceholderImg:o.a,list:[],queryData:{estateId:null,pageNum:1,pageSize:3},total:0,swiperOption:{slidesPerView:3,spaceBetween:10}}},watch:{estateId:{immediate:!0,handler:function(t){this.queryData.estateId=t}}},created:function(){this.loadMore()},methods:{loadMore:function(){var t=this;this.queryData.pageSize+=1,Object(i["h"])(this.queryData).then((function(e){e&&(t.list=e.list.map((function(t){return t.content=t.content.replace(/(\r|\n)/g,"<br />"),t})),t.total=e.total)}))},previewPic:function(t,e){var a={urlList:t,index:e};this.$root.$emit("showPreview",a)}}},c=l,u=(a("e49c"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"1e806c09",null);e["default"]=d.exports},bbae:function(t,e,a){"use strict";var n=a("44f6"),s=a.n(n);s.a},bc8e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"performance"},[a("div",{staticClass:"table-cell"},[a("div",{staticClass:"head flex-between"},[t._m(0),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.toggleSubjectDialog=!0}}},[t._v("\n        新建计提科目\n      ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.subjectTableData,size:"small",border:"","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{align:"center",prop:"accrualName",label:"计提科目"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"rateDesc",label:"计提比例"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"modifyUserName",label:"更新人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"modifyTime",label:"最近更新时间"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n            "+t._s(e.row.state?"启用":"禁用")+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.showSubjectEdit(e.row)}}},[t._v("\n            编辑\n          ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.sc,expression:"sc"}],staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.delAccrualPlan(e.row)}}},[t._v("\n            删除\n          ")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"table-cell"},[a("div",{staticClass:"head flex-between"},[t._m(1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:function(e){t.toggleCommissionGroupDialog=!0}}},[t._v("\n        新建提成组\n      ")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.commissionGroupTableData,size:"small",border:"","row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{align:"center",prop:"multistageName",label:"提成组名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"typeDesc",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"内容摘要"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{width:"100%","text-align":"left"},domProps:{innerHTML:t._s(e.row.rateDesc)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"modifyUserName",label:"更新人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"modifyTime",label:"最近更新时间"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("\n            "+t._s(e.row.state?"启用":"禁用")+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.showCommissionGroupEdit(e.row)}}},[t._v("\n            编辑\n          ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.sc,expression:"sc"}],staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.delMultistagePlan(e.row)}}},[t._v("\n            删除\n          ")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:(t.subjectFormData.id?"编辑":"新增")+"计提科目",visible:t.toggleSubjectDialog,width:"400px","close-on-click-modal":!1},on:{"update:visible":function(e){t.toggleSubjectDialog=e}}},[a("el-form",{ref:"subjectForm",attrs:{model:t.subjectFormData}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计提科目名称",prop:"accrualName",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"计提名称"},model:{value:t.subjectFormData.accrualName,callback:function(e){t.$set(t.subjectFormData,"accrualName",e)},expression:"subjectFormData.accrualName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"计提比例",prop:"rate",rules:[t.rules.required(),t.rules.m0m100p2]}},[a("el-input",{attrs:{placeholder:"比例"},model:{value:t.subjectFormData.rate,callback:function(e){t.$set(t.subjectFormData,"rate",e)},expression:"subjectFormData.rate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("%")])])],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"state",rules:[t.rules.required()]}},[a("el-radio-group",{model:{value:t.subjectFormData.state,callback:function(e){t.$set(t.subjectFormData,"state",e)},expression:"subjectFormData.state"}},[a("el-radio-button",{attrs:{label:!0}},[t._v("启用")]),t._v(" "),a("el-radio-button",{attrs:{label:!1}},[t._v("禁用")])],1)],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeSubjectDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitSubject}},[t._v("保存")])],1)],1),t._v(" "),a("commission-group-dialog",{attrs:{visible:t.toggleCommissionGroupDialog,options:t.curCommissionGroupData},on:{"update:visible":function(e){t.toggleCommissionGroupDialog=e},reRequest:t.getMultistagePlanList}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("计提设置")]),t._v(" "),a("p",[t._v("开启计提后，业绩先按照计提规则计提，再按照提成规则计算提成；")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("提成组设置")]),t._v(" "),a("p",[t._v("\n          注：每月1号完成上月业绩提成计算，如需调整方案，请在计算业绩前完成，避免计算业绩时未及时更新业绩提成策略；\n        ")])])}],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("982b"),c=a("acb0");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={rate:null,state:!0,accrualName:null},m={components:{commissionGroupDialog:l["default"]},data:function(){return{rules:o["a"].rules,toggleSubjectDialog:!1,toggleCommissionGroupDialog:!1,curCommissionGroupData:{},subjectFormData:JSON.parse(JSON.stringify(p)),subjectTableData:[],commissionGroupTableData:[]}},created:function(){this.getAccrualPlanList(),this.getMultistagePlanList()},methods:{tableRowClassName:function(t){var e=t.row;return e.state?"":"status-disabled"},closeSubjectDialog:function(){this.toggleSubjectDialog=!1,this.subjectFormData=this.$cloneObj(p),this.$refs.subjectForm.resetFields()},showSubjectEdit:function(t){var e=t.id,a=t.accrualName,n=t.rate,s=t.state;this.subjectFormData={id:e,accrualName:a,state:s,rate:100*n},this.toggleSubjectDialog=!0},showCommissionGroupEdit:function(t){this.toggleCommissionGroupDialog=!0,this.curCommissionGroupData=this.$cloneObj(t)},delAccrualPlan:function(t){var e=this,a=t.id;this.$showConfirm(d(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["d"])({id:a});case 2:n=t.sent,n&&(e.$showSuccess("操作成功"),e.getAccrualPlanList());case 4:case"end":return t.stop()}}),t)}))))},delMultistagePlan:function(t){var e=this,a=t.id;this.$showConfirm(d(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["g"])({id:a});case 2:n=t.sent,n&&(e.$showSuccess("操作成功"),e.getMultistagePlanList());case 4:case"end":return t.stop()}}),t)}))))},getAccrualPlanList:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["b"])();case 2:a=e.sent,a&&(t.subjectTableData=a);case 4:case"end":return e.stop()}}),e)})))()},getMultistagePlanList:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["t"])();case 2:a=e.sent,a&&(t.commissionGroupTableData=a);case 4:case"end":return e.stop()}}),e)})))()},submitSubject:function(){var t=this;this.$refs.subjectForm.validate(function(){var e=d(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=t.$cloneObj(t.subjectFormData),n.rate=n.rate/100,e.next=6,Object(c["a"])(n);case 6:s=e.sent,s&&(t.$showSuccess("操作成功"),t.getAccrualPlanList(),t.closeSubjectDialog());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=m,v=(a("430e"),a("8801"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"663e8f3d",null);e["default"]=h.exports},bcce:function(t,e,a){},bcee:function(t,e,a){},bcef:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAAB9CAYAAACPgGwlAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAx6SURBVHhe7ZyJV1RHFofzP8Vdk2hiRuNE4xyP+3oGFcWYRKOok+NGJjGJuGRAx5iMMcFoXABFEDUqRlGjssgiArLIItA00NCNCyj8pm7BhW4oRMOSV+/V75zv0HTD60d/71bdKqBf83q9MDgDjpHuIDhGuoPgGOkOgmOkOwiOke4gOEa6g+AY6Q6CY6Q7CI6R7iA4RrqD4BjpDoJjpDsIjpHuIDhGuoPgGOkOgmOkOwiOke4gOEa6g+AY6Q6CY6Q7CI6R7iA4RrqD4BjpDoLjGOkNDQ1oqK9HvcTTTr28jx5TfY/d4DhCerWrCjnpqUiKj8WhiHBEbg6V0O3LCSeRcycNtTU1yu+1ExzbSvfU1aGyvAwnftiLNbPex8oP3kbwxFFY+rcRWPLucAndXvbeaKyc+g7+tXAaYn78DlUVD1Hv8SiPqTscW0mnYbrW7Uba9Sv44eut+GTaBCydMBJB7wztlcXjh8mvXT9vKqK+/VpUfyrq6mrFce0z9HNsIZ1kU2UX5d3D3q3rsXzSGCFxuFLuy0CjQMj7b+Hn3V+hvOQBPJ46W8z7HO2lkwx3tQvHv4/EqukTESQqViXyz0DVv3b2ZCT8+jNq3NXai+doL71QVPeOdStldfancIbELxFz//5tm0SPUK48B13gaCudqo7m3dA5U6QUlbD+hOb7L1YGyUbPq2nFc7SUTsIrykoRtnxBW4UrJA0Eyye9geRzCdoO8xwtpVPTdmTvzkEVTix5dwT2hm2QGzuq87I6HC2lVz4sx6bFs+R8q5IzkKyYPBZul0t5XlaHo510Glpzs+4Myjyugp739pVLcgtXdX5WhqOddFozxxz8TilkMKAp5dj+CHkeqvOzMhztpNMe+VerliqFDAa06bNTLBFra9zK87MyHO2k00bMh1PGKYX0BbkNK4bu5e+NemGDSF9HqwZXZYXy/KwMRzvpxffz5BapSoiKxePbRKlY8i7R9ouXLYum4Ox/N+H2sR3Y9fFc+bj6eMPk3sDD0hLl+VkZjnbSC3KyEfL3N5VCukJC18+agG1Lp2FbcBvbQ2YiYvUC7A1dhKNffYKkA5+j8MIP8GXGCk6iMeskKq//gvAPe14d0G/sSosKlOdnZTjaSU9N/h3L3hujlMFw5WbFRaLqxmHUphzroC71OBruxEi8GSQ6Vop+lH2qA/q8+uaRHsXTfcX5ucrzszIc7aTTcil44uhuIljGxx+MRdx/1sP1xxFZuf4yXwUS/zA5CmH/nKqc41OTL2u3M8exjXQS/tGUN5EWs1tWsErkq0LicxL2yuPS8f2f70pinHZrdY5tpH/4/hu4dTS821DdV+h4R778SEwZgdWeeOwX7f7ChmML6TSHH/16Vb8LZzxpJ/DvoH8EPCf9fR39DkB1jlaFo5n0BlTlpyJhz2eysmk5RgI+mzsJNaJJUwnrD+hiOrdvk7y4jPTBpsGDxntnZeedHLWtfSNlGKI+XyG7cJWw/oKWcZ9OexvBE0Zi2cSROLxnp3ZbsRytpPtqyvHobryUQJKPf7MKIUL8jcPfdJPU33gzYnDh+63IPBWBvLPfIe3KOTOnDwoed4d0GnJLLh+Umy8V1w51kzQQ+PcMdVln4K03lT7w0PCe91uAhPiIDXK45/sGDXHx+Wqr1OdpUTiaSW9AY/EfAS8+baAMVNf+Qoz0wcNXkSte8LiOF7+tyv8C6aKh9NbTP0Ooz9OKcLST7q2rxqOcM10kDL50X0maGHnMjtzgIIZ4X1lmFwmDLF1cdF7NhnaCo590QgyrjfmX1EIGnDg0lqRoV+UER0/pXlHtHhce5Z5XSBlo4uCreSjPQX1u1oWjqXRCiK+4F9DUDQrUwImlo/qcrA1HY+ntO3Q5CWo5A4G4wBofiKFd039f5mgtXW7W5F9UCxoIaG1e/UB9LhrA0Vu6wFd5X8g4rZbUzzTmXdRu69UfjvbSZbXf/10pqV8RF5bPVaQ+B03g6C+dGjpX4QBXu5jLi25ouUzzh2MD6QIhw1eaLhsttbQ+knOmfZmmeG6N4NhDOiHm2rZhvp/F54jmTQ7renbs/nDsI53wuEU3nyRk9ZN4MXL4Ht7VflhnOPaSTtRVozGXfufeR/G0PKvItY1wgmM/6QSJL7z2J5s7cbHknpO7fXYSTnDsKZ0QwhpLM2TFquUqoB03MUrourfeGxz7SieoUguS4X2Jv5T1ZZ2EL/930RfY9z1iObaXXl9wHe6U46hNOyH/yob/O1UiRNO/QHnSo1GXFg1f0U3bDen+cBwj3Z1yTEL/FFGTejyABiH++f0zaKrIFN9jv2Gd4dha+uNHj+B7kAJ36okO6f7U34nG03un0Vp4Fig6j2c199HY6FMeyw5wbCv9yZMnaG1tReuzJvhKUlGTHivkt1V8rfhI83hrQSJQeA54kAR4ioHWFvE9LXgkLhbVMXWHY0vpLLwj4nazrwYN96+KefwUnuefEbKpuoVwVwbQ5Gv/wra0tLTIY6iOrTMc20l/+vRp+4/WNeIiaHkOeMuB0qtA2TWIxbisblXoorGbeI6tpD9+/DiwwhV59rwVtwqakFLUhOfi9otCx6Jjqp5LRzi2kU5vBeLz+XqUTnf7xCCQmA18KUZ3gm7TfT1dJ3SsxsZGbd8AuCsc7aXTW4BUVlbi5s2bOHjwoJyPu6ZFSPU+AX4UI/rW08DmuDboNt1Hj6nEk/TY2FhkZGTA5XJp+dag/nC0lU7VRxKuXr2KxYsXY/To0diwYYMYssW87ReSWeEBIi4BW9pl+0P30WOuztekI3QB7d69G/PmzcPGjRtx+/Zt+Zy6Vj5HS+n0wufm5mLz5s0YNWoUhgwZgmHDhnWTTsLrHwM5ol/7RjTrXYUzO39rq/auYekzZ87EjBkzMHfuXOzbtw+FhYVaiudoJ722thaXL1/G5MmTpWgS/vrrr3eT/lyM8lUNQEktUFwDHE8JHNqZsHjg3F318O4vffr06VL8rFmzsGLFCty6dQt15u1HBh4SfuDAgY7qJtkMS29qakL23bvIyKvAAyGboWrfLpblXaXvutC9yqurq1FQUIDm5mbs2rWrQzrDVR8dHa2VeI420j0eDw4dOiSF+8tmhg4dijVr1uD8+fMYP348fvo1HsXu1g7pRW7g6O3AeX2LqHzq4KnR41DzRiNJUFAQrl+/ju3bt3eTzsyZMwdxcXHy3FTnbDU4Wkin+ZOaqLFjxyqFE1T548aNkw0dff7p+s0odD0PqPY/itqGc5b+eULb0O8fmh4iIyOlVGrgFi1aJCu7q3CGHs/MzNRijudoIZ2G9ZCQEFnNXWX3xNRpM5Bb/jhAemE1sP9Kp/SoG7RZ0/5KtId24VavXq0UrIJGgbCwMC2GeY7lpdPQGR8fjxEjRijl9sRIMQ3EJF4LkF4shvj00k7p1Oh1beDS09PlfK0S3BOzZ89GUlKS5dfxHMtLr6qqQnBwcLfGrTeGisZuVejGgHmdhvIbhZ3SaZ73l07zuapx6w0a/rds2SIbQNXPYBU4lpZO82R2djbGjBmjFNsbEyZOQlZRfUClX8rtlJ5ZHtjE0XMuW7ZMKbY35s+fj7y8PEvP7RxLS6e5PDQ0VCn0ZXjjzbeQeDm9o9qpsqNTO6VfFBcArecpVOU5OTlYsGCBUurLEB4ebum5nWNp6ampqR3d+J9h+PDh2LnnRxRVt0jp1Mj9crNT+qk7opFrl04bMbTPTpsvKqEvA3X7NDKpfhYrwLGsdGqK9uzZ80ode1eGDBmKGbPndyzdSPo+v+794PXO7p2WauvWrXvh8qw3qBc4fPiwZRs6jmWlu91uLFy4UCnzVRgmqv1qWpEY4ltQIKSHn++U/u0FoFlIp6G9rKysT1XO0K5gTY01/4yaY1npycnJsoGj7dW+MFws9XZE/g8FVc3Ir2zBFwkt2BJHtGLbmRY8aW7Bs2fP5JYqLb2oWvsCDfEpKfQWJeqf66+EY1nptMdOTRxtrfaFtWvXYseub5F44RriL9zCnti7iIjJwf7TefjpbAFup2XJtXlUVJTccu0r1MzRBaT6mf5qOJae0wnanOkLfBxaSjU0iOP6QZ+3QY+1/X6+P7Dqso1jWemG/odjpDsIjpHuIDhGuoPgGOkOgmOkOwiOke4gOEa6g+AY6Q6CY6Q7CI6R7iA4RrqD4BjpDoJjpDsIjpHuIDhGuoPgGOkOgmOkOwiOke4gOEa6g+AY6Q6CY6Q7CI6R7iA4RrqD4BjpDoJjpDsIjpHuIDivtX80cVCMdMcF+D9NZhQyUYQbUwAAAABJRU5ErkJggg=="},bd04:function(t,e,a){"use strict";var n=a("d00c"),s=a.n(n);s.a},bdae:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"follow window2-box"},[a("div",{staticClass:"grid mt20 pd20-b bd3-b mb10"},t._l(t.followUpList,(function(e,n){return a("div",{key:e.index,staticClass:"flex-around-col",class:{active:n===t.activeIndex,"is-yellow":4===n},on:{click:function(e){t.activeIndex=n}}},[a("img",{staticClass:"color-block",attrs:{src:e.iconPath}}),t._v(" "),a("p",{staticClass:"flex-center"},[t._v(t._s(e.name))])])})),0),t._v(" "),a("div",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:t.placeholder},model:{value:t.localData.recordContent,callback:function(e){t.$set(t.localData,"recordContent",e)},expression:"localData.recordContent"}})],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"mt10 pd10-b bd3-b"},t._l(t.followUpList[t.activeIndex].list,(function(e,n){return a("p",{key:n,staticClass:"bd1 mr10 h1 br1 pd10 pointer color-bg dp-ib mb5",on:{click:function(a){t.localData.recordContent+=e.name}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),0),t._v(" "),4===t.activeIndex?a("div",{staticClass:"mt10 pd10-b bd3-b"},[a("p",{staticClass:"color9 mb10"},[t._v("\n        房源价格变动（如果未变动，无需填写）\n      ")]),t._v(" "),a("el-form",{ref:"form",attrs:{size:"small",labelPosition:"left",model:t.localData,"label-width":"80px"}},[a("div",{staticClass:"grid2"},[a("el-form-item",{attrs:{label:"挂牌价格",prop:"listingPrice",rules:[t.rules.number]}},[a("el-input",{model:{value:t.localData.listingPrice,callback:function(e){t.$set(t.localData,"listingPrice",e)},expression:"localData.listingPrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("万元")])])],1),t._v(" "),a("el-form-item",{attrs:{label:"底价",prop:"minimumPrice",rules:[t.rules.number]}},[a("el-input",{model:{value:t.localData.minimumPrice,callback:function(e){t.$set(t.localData,"minimumPrice",e)},expression:"localData.minimumPrice"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("万元")])])],1)],1)])],1):t._e(),t._v(" "),4===t.activeIndex?a("div",{staticClass:"mt10 pd10-b bd3-b"},[a("div",{staticClass:"flex-between"},[a("p",[t._v("上传附件")]),t._v(" "),a("el-upload",{ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",multiple:"",accept:"image/*","on-progress":function(){t.loading=!0},data:t.uploadData,"on-success":t.uploadSuccess,"show-file-list":!1}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload"}},[t._v("\n            立即上传\n          ")])],1)],1),t._v(" "),a("div",{staticClass:"grid4 mt20"},t._l(t.localData.attachList,(function(e,n){return a("div",{key:e,staticClass:"pt-r"},[a("el-image",{staticStyle:{width:"100px",height:"90px"},attrs:{src:e,fit:"cover"}}),t._v(" "),a("svg-icon",{staticClass:"icon pointer red pt-a",staticStyle:{left:"93px",top:"-5px"},attrs:{"icon-class":"close2"},on:{click:function(e){return t.localData.attachList.splice(n,1)}}})],1)})),0)]):t._e(),t._v(" "),a("div",{staticClass:"mt10 flex-between"},[a("p",[t._v("是否置顶")]),t._v(" "),a("el-switch",{model:{value:t.localData.isTop,callback:function(e){t.$set(t.localData,"isTop",e)},expression:"localData.isTop"}})],1)]),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt10"},[a("p",{staticClass:"color9"},[t._v("快捷用语")])])}],i=a("a34a"),r=a.n(i),o=a("2144"),l=a("acb0"),c=a("db49");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{id:{type:[Number,String],required:!0}},data:function(){return{rules:c["a"].rules,loading:!1,activeIndex:0,placeholder:"请输入跟进内容，最少3个字以上",localData:{attachList:[],followType:null,isTop:!1,listingPrice:null,minimumPrice:null,recordContent:""},followUpList:[{name:"去电",index:1,list:[],iconPath:a("c6d1")},{name:"面访",index:2,list:[],iconPath:a("6373")},{name:"房勘",index:3,list:[],iconPath:a("17e1")},{name:"其他",index:5,list:[],iconPath:a("54aa")},{name:"议价",index:4,list:[],iconPath:a("27fc")}]}},computed:{baseURL:function(){return window.baseURL},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},uploadData:function(){var t=this.token,e=this.userId;return{token:t,userId:e}}},watch:{activeIndex:function(t){this.placeholder=4===t?"请填写买卖双方磋商成交价格情况；或者房源价格变动情况":"请输入跟进内容，最少3个字以上"}},created:function(){this.init()},methods:{init:function(){var t=this;this.followUpList.forEach((function(e){t.getDictList(e.index)}))},getDictList:function(t){var e=this;return d(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={dicttype:3,enable:!1,subType:t},a.next=3,Object(l["n"])(n);case 3:s=a.sent,s&&e.followUpList.forEach((function(e){e.index==t&&(e.list=s||[])}));case 5:case"end":return a.stop()}}),a)})))()},uploadSuccess:function(t){this.loading=!1;var e=t.data[0];this.localData.attachList.push(e.fileUrl)},close:function(){this.$emit("close")},save:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,l,c;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.localData,n=t.activeIndex,s=t.id,!(a.recordContent.length<=3)){e.next=5;break}t.$showError("请输入跟进内容，最少3个字以上"),e.next=20;break;case 5:i=a,l=null,e.t0=n,e.next=4===e.t0?10:3===e.t0?12:14;break;case 10:return l="4",e.abrupt("break",15);case 12:return l="5",e.abrupt("break",15);case 14:l=String(n+1);case 15:return i.followType=l,e.next=18,Object(o["b"])(s,i);case 18:c=e.sent,c&&(t.$showSuccess("跟进写入成功"),t.$root.$emit("houseDetailRefresh"),t.close());case 20:case"end":return e.stop()}}),e)})))()}}},m=p,f=(a("af2f"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"6547cec0",null);e["default"]=v.exports},bde7:function(t,e,a){},bf0e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"performanceReceivable"},[a("div",{staticClass:"head"},[a("div",{staticClass:"filtrator"},[a("el-input",{staticClass:"search-input",staticStyle:{"margin-right":"0",width:"220px"},attrs:{placeholder:"成单号","prefix-icon":"el-icon-search",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.query.orderCode,callback:function(e){t.$set(t.query,"orderCode",e)},expression:"query.orderCode"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("\n        搜索\n      ")]),t._v(" "),a("el-select",{attrs:{placeholder:"选择月",size:"small"},on:{change:t.search},model:{value:t.query.month,callback:function(e){t.$set(t.query,"month",e)},expression:"query.month"}},t._l(t.dateList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),a("el-cascader",{ref:"nodeTree",attrs:{clearable:"",options:t.storegrouptree,props:{value:"nodeId",label:"name",emitPath:!1,checkStrictly:!0},placeholder:"部门/门店/员工",size:"small"},on:{change:t.nodeChange},model:{value:t.query.nodeId,callback:function(e){t.$set(t.query,"nodeId",e)},expression:"query.nodeId"}})],1),t._v(" "),a("div",{staticClass:"operator"},[a("div",{on:{click:t.exportExcel}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"export"}}),t._v(" "),a("span",[t._v("导出Excel")])],1)])]),t._v(" "),a("div",{staticClass:"content"},[a("h2",{staticClass:"title"},[t._v("应收业绩明细")]),t._v(" "),a("div",{staticClass:"base-info flex"},[a("p",[a("span",[t._v("统计范围：")]),t._v(t._s(t.nodeName))]),t._v(" "),a("p",[a("span",[t._v("收益月：")]),t._v(t._s(t._f("toDate")(t.query.month)))])]),t._v(" "),a("el-table",{attrs:{size:"small",data:t.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"50px",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"业务类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.performanceKind))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"成单号"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"blue pointer",on:{click:function(a){return t.toDetail(e.row)}}},[t._v("\n          "+t._s(t._f("toNull")(e.row.orderCode))+"\n        ")])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"科目名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.performanceName))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"业绩类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.performanceTypeStr))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"员工姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.agentUserName))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"部门/门店"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.storeName))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"收益日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.dealDate))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"比例"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((100*e.row.distributeRate).toFixed(2))+"%\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"应收业绩",width:"135px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2 aic"},[t._v("\n          ¥"+t._s(t._f("toThousands")(e.row.performanceAmount))+"\n        ")])}}])})],1),t._v(" "),a("div",{staticClass:"total x aic"},[a("div",{staticClass:"flex1 x1 aic bold"},[t._v("\n        合计（共"+t._s(t.countAndTotal.count)+"条）\n      ")]),t._v(" "),a("div",{staticClass:"amount x2 aic bold"},[t._v("\n        ¥"+t._s(t._f("toNull")(t._f("toThousands")(t.countAndTotal.totalAmount)))+"\n      ")])]),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{"current-page":t.query.pageNum,background:"","page-size":t.query.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.query,"pageNum",e)},"update:current-page":function(e){return t.$set(t.query,"pageNum",e)},"current-change":t.handleCurrentChange}})],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("2b6d"),l=a("b383"),c=a.n(l);function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={data:function(){return{query:{month:null,nodeId:"",orderCode:"",pageNum:1,pageSize:10},total:0,tableData:[],countAndTotal:{},storegrouptree:[],dateList:[],nodeName:"全部"}},filters:{toDate:function(t){var e=String(t),a="";return t&&(a=e.slice(0,4)+"年"+e.slice(4)+"月"),a},toNull:function(t){return t||"-"}},created:function(){this.getStoregrouptree(),this.getPerformanceMonth()},methods:{getPerformanceMonth:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["q"])();case 2:a=e.sent,t.dateList=a||[],t.query.month=t.dateList[0].id,t.getPerformanceDetailList();case 6:case"end":return e.stop()}}),e)})))()},getPerformanceDetailList:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["n"])(t.query);case 2:a=e.sent,a&&(n=a.countAndTotal,s=a.page,i=s.list,l=s.total,t.countAndTotal=n,t.total=l,t.tableData=i);case 4:case"end":return e.stop()}}),e)})))()},getStoregrouptree:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["v"])();case 2:a=e.sent,a&&(t.storegrouptree=a);case 4:case"end":return e.stop()}}),e)})))()},nodeChange:function(){var t=this.$refs["nodeTree"].getCheckedNodes(),e="全部";t.length&&(e=t[0].data.name),this.nodeName=e,this.search()},exportPDF:function(){var t=this;this.showPrintDom=!0,this.$nextTick((function(){t.getPDF("#performanceReceivable","门店费用支出汇总表"),t.showPrintDom=!1}))},handleCurrentChange:function(t){this.query.pageNum=t,this.getPerformanceDetailList()},search:function(){this.query.pageNum=1,this.getPerformanceDetailList()},toDetail:function(t){this.$navigateTo("/work/business/newHouse/dealDetail/".concat(t.orderId))},exportExcel:function(){var t="".concat(window.baseURL,"/api/v1/fm/performance/manage/PerformanceDetailList/export"),e=c.a.stringify(this.query);window.location.href="".concat(t,"?").concat(e)}}},m=p,f=(a("28bf"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"0567c4b8",null);e["default"]=v.exports},bfdb:function(t,e,a){"use strict";var n=a("4b84"),s=a.n(n);s.a},c062:function(t,e,a){"use strict";var n=a("9065"),s=a.n(n);s.a},c0fb:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUNDQjNENTgwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUNDQjNENTkwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQ0NCM0Q1NjBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQ0NCM0Q1NzBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvfAULUAAAGwSURBVHja7Jo9SMNAFMdfiwURQfykgqggoiBaEaEgTuJkl4JkcXBwEQfB1d1ZXBzdBIUMOrhYHBwEJxdBR6nFRV38AHUQ4//sE0rI9cwFUorvwY8L6Xt3+cFRuJckPM8jf7iuS4YYAptgBjRSfPEGCmAV3FVLdBwn8H6DxaLt4BSkKf5oAnkwAjLgPewENsKLLPsMVsBjyPoNkAX7YCdkbR/YBoNgHuzGITzA4zHYs6hf47EITizql8AU6LHZIskINZ9Um/iKUpykfxYiLMIiLMIiLMIiLMIiLMIiLMIibNMAUIf9CU0DoBc4Fmt28zhsWd/B42hA/QW4iSJ8Djo1v00ztpFnbGOBqYx7MvTaTMIHVO4dqa3fyvdeKbjboXJa+Fr1u3SdiWaQAh+kb8KlOE+1VJ/+mKPWO4y6pZcZ4olVzIGzgFy1xW/5egyUNHMegRzYAuuanBznvYC2CDnypyXCIizCIizCIizCIizCtToeqpNSxndvkoI/c+jynaQeDMe7fjCryRmveL4wOZdV1v2JhOEbjyKV37rXS5R+n1f3jYdpS1/V2Y69NiV8CzAAx4ZHWWsLhVIAAAAASUVORK5CYII="},c11f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"swiper",on:{mouseover:function(e){t.showBtn=!0},mouseout:function(e){t.showBtn=!1}}},[a("swiper",{ref:"mySwiper",staticClass:"swiper-no-swiping",staticStyle:{width:"100%",height:"100%"},attrs:{options:t.swiperOption}},t._l(t.urlList,(function(e,n){return a("swiper-slide",{key:n,staticStyle:{height:"fit-content"}},[a("div",{staticClass:"cell"},[a("div",{staticClass:"img"},[a("el-image",{attrs:{fit:"scale-down",src:e.houseTypeImagePaths[0]},on:{click:function(e){return t.showPreview(n)}}},[a("img",{staticClass:"error-img",attrs:{slot:"error",src:t.errorImg},slot:"error"})])],1),t._v(" "),a("p",{staticClass:"t"},[e.openRoom?a("span",[t._v("开间")]):a("span",[t._v(t._s(e.bedRoomQuantity)+"室"+t._s(e.livingRoomQuantity)+"厅"+t._s(e.restRoomQuantity)+"卫")])]),t._v(" "),a("p",{staticClass:"b"},[t._v("\n          建面 "+t._s(e.buildingArea)+"平米 "+t._s(e.orientation)+"\n        ")])])])})),1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showBtn,expression:"showBtn"}],staticClass:"btn",staticStyle:{left:"0"},on:{click:function(e){return e.stopPropagation(),t.slidePrev(e)}}},[a("svg-icon",{attrs:{"icon-class":"left"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showBtn,expression:"showBtn"}],staticClass:"btn",staticStyle:{right:"0"},on:{click:function(e){return e.stopPropagation(),t.slideNext(e)}}},[a("svg-icon",{attrs:{"icon-class":"right"}})],1)],1)},s=[],i=a("1195"),r=a.n(i),o=a("1fe8"),l=a.n(o),c=a("7212"),u={props:["urlList"],components:{swiper:c["swiper"],swiperSlide:c["swiperSlide"]},data:function(){return{avatar:r.a,errorImg:l.a,swiperOption:{slidesPerView:3,spaceBetween:50},showBtn:!1}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},methods:{slidePrev:function(){this.swiper.slidePrev()},slideNext:function(){this.swiper.slideNext()},showPreview:function(t){var e={urlList:this.urlList,index:t};this.$root.$emit("showHouseTypePreview",e)}}},d=u,p=(a("e926"),a("2877")),m=Object(p["a"])(d,n,s,!1,null,"c52fc5d4",null);e["default"]=m.exports},c14d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"info-form pd20 mb20 mt20"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px","label-position":"top"}},t._l(t.form.owners,(function(e,n){return a("div",{key:e.key,staticClass:"grid"},[a("el-form-item",{attrs:{label:"业主姓名",prop:"owners."+n+".ownerName",rules:[t.rules.required()]}},[a("el-input",{staticClass:"append",attrs:{maxlength:10,autocomplete:"off"},model:{value:e.ownerName,callback:function(a){t.$set(e,"ownerName",a)},expression:"item.ownerName"}},[a("div",{attrs:{slot:"append"},slot:"append"},[a("el-select",{model:{value:e.gender,callback:function(a){t.$set(e,"gender",a)},expression:"item.gender"}},t._l(t.config.genderList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)])],1),t._v(" "),a("el-form-item",{attrs:{label:"业主电话",prop:"owners."+n+".cellphone",rules:[t.rules.required(),t.rules.tel]}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.cellphone,callback:function(a){t.$set(e,"cellphone",a)},expression:"item.cellphone"}})],1),t._v(" "),a("div",{staticClass:"menu"},[0===n?a("el-button",{staticClass:"cell-btn",attrs:{type:"primary"},on:{click:t.addOwners}},[t._v("\n            +添加业主信息\n          ")]):a("div",{staticClass:"cell-svg"},[a("svg-icon",{attrs:{"icon-class":"delete"},on:{click:function(e){return t.deleteOwners(n)}}})],1)],1)],1)})),0)],1),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("9ee8"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:{id:{type:[Number,String],required:!0}},data:function(){return{config:l["a"].config,rules:l["a"].rules,form:{owners:[]}}},created:function(){this.getOwner()},methods:{getOwner:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])(t.id);case 2:a=e.sent,a.forEach((function(t){t.key=Date.now()})),t.form.owners=a;case 5:case"end":return e.stop()}}),e)})))()},addOwners:function(){this.form.owners.length<5&&this.form.owners.push({key:Date.now(),gender:1,cellphone:"",ownerName:""})},deleteOwners:function(t){this.form.owners.splice(t,1)},close:function(){this.$emit("close")},save:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.form.validate(function(){var e=u(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=t.form,e.next=5,Object(o["b"])(t.id,n);case 5:s=e.sent,s&&(t.$showSuccess("更新业主信息成功"),t.close());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()}}},p=d,m=(a("ae0f"),a("fce9"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"7ab08e84",null);e["default"]=f.exports},c19f:function(t,e,a){},c1a3:function(t,e,a){"use strict";var n=a("0679"),s=a.n(n);s.a},c1ed:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAEsCAIAAABi1XKVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTI1NkI3NjRFNDk4MTFFOUE5NDZBQjJEMkU4QzU3MzYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTI1NkI3NjVFNDk4MTFFOUE5NDZBQjJEMkU4QzU3MzYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCRTc4RTg2M0UzRTMxMUU5QTk0NkFCMkQyRThDNTczNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCRTc4RTg2NEUzRTMxMUU5QTk0NkFCMkQyRThDNTczNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pn9FbOEAAAb5SURBVHja7N1bb9pIAIDRGkISTEoA9aH8/z/Wh6ooN+6YS8DsNKm02tWKDAlssDnneTqFmeSLHWI76ff7XwCKoGIJAMECECxAsAAEC0CwAMECECwAwQIEC0CwAAQLECwAwQIQLECwAAQLQLAAwQIQLADBAgQLQLAABAsQLADBAhAsQLAABAsQLADBAhAsQLAABAtAsADBAhAsAMECBAtAsAAECxAsAMECECxAsAAEC0CwAMECECwAwQIEC0CwAAQLECwAwQIQLECwAAQLECwAwQIQLECwAAQLQLAAwQIQLADBAgQLQLAABAsQLADBAhAsQLAABAtAsADBAhAsAMECBAtAsAAECxAsAMECECxAsAAECxAsAMECOKQLS1ACeZ7PZrMsyxaLxWazKeRPzkrl8vIyTdNGo1Gr1ewp/ynp9/tWodDG43HYxNCs0ryjZrPZ6XRCwmwujrDKY7vd3t/fh2Or8iV4Pp93u92LC1+f/PNI3BIU18PDQ/lq9er5+bnX6xX09BbB4t8mk8l0Oi3xGwzNenx8tNEIVhlOBgeDQenfZjh+XCwWthvBKvx38nq9Pod3Oh6PbTeCVWxZlnmnCBbFsFqtzuSd5nnuV+8IVrGd1ffwmZz8Ililtd1uvVkEC0CwAD7MpQ/npV6vt1qt3Zfp5Xk+HA7n8/kB59xsNuPx2Ed+CBaxrq+vu91uZIN6vV5Ms+LnTNM0ck5wSsjvuyDED/769esBh71jMAjWeW/2PjdsiRxcrVaP9AJAsADBAhAsAMECBAtAsAAECxAsAMECBIvye35+jh+8XC5jhu1179O9XgAI1lkbDAaRd+8MZYl8+sNoNIrMUPivh8OhXeAjPKq+kH78+PG+Z9NXKpU0TXc/UTkEaD6fx8+fJEmYs1ar7a5VlmXve803NzfvewR0tVoN/7Ber7uGsTTcXua8hGQc/PGr2+32qA+g/uALfu1pp9PZnVScEsLne+3pz58/w9mr1RAsKEa2nl5YCsGCYggHWZPJxDoIFhRDOMjyZFbBgmLI8zzyLzYQLPh8R/1ME8GCQ1qtVs4KBQsKI/Iv/hEs+Hzb7dYiCBbAEbk05+wkL3Yffex7AHKMOUGwzl273W61Wm/GZTQaxV8V3+l0bm9v35xzPB77Q3OcEhKr2WyGYO0uy+vhUoha/KPq3yzg65whauEF2AUEiyj1ej1+cJqmBxz2jhcAgnXW3jwOesfgY8wJggUIFoBgAQgWIFgAggUgWIBgAQgWH7TX5ceRg13SjGBxFIvF4uCDjzEnCBa/H3IV+RTlMCzySQ1hWOScs9nMo0z5ILeXOS/39/dPT08XF7v2fb1ex9/yPJwSHnxOECz+2Lw4/TnBKSEgWACCBSBYgGABCBaAYAGCBSBYgGABnDqX5pyd6+vrarW6Y8Bms9n3tgoxcy6XS/eiQbCIPpyuVL5//x7i8ubIEJder5fn+afMCU4J+XJ7extTluDq6ioMPvicrVbLLiBYRAnJOPjgy8vL+Dn3GgyCxYElSWIRECwAwQIEC0CwAAQLECwAwQIEC0CwODV7XXscedHfXtcGuviZD3Lx8xmZTqeNRiNy8Gw2i5zz5uYm/gXs9YKTJEnTtFar7Riz2WyyLPMYV8GibEKDHh4eWq3Wm7eCGQ6HkcEKsYicczQaRc755+C/Uul2uzGXNIbJe73earWyxYJFqUxenP6cQTgYjLwAO7Sy3W7f3d3Z39LzOyxO1F73lth92ohgAQgWgGABggUgWACCBQgWgGABCBYgWACCBQgWgGABCBYgWACCBSBYgGABCBaAYAGCBSBYAIIFCBb8z/Z6+rxH1QsWfKbJZBKfodFoZMXOgUfVn5DtdrtYLPI8jxlZ+tVYr9e/fv1qNpsXF7u+SsNyTafT+Xy+1+RhfEwNq9Xq1dVVkiS+OE9E0u/3rcIpmM1mj4+PTm1OTWjWt2/fGo2GpXBKyN8/8O/u7tTqBIVNCVuz7xEcglVmg8HAItggBKsYlsulRbBBCFZBtqFiI2wQglUQaZpaBBuEYBVDu93e/eE9n6harYYNsg6nwJ81nIr1ej0YDLIs81nhSaUqHFv5cSJYAE4JAcECECwAwQIEC0CwAAQLECwAwQIQLECwAAQLQLAAwQIQLADBAgQLQLAAwQIQLADBAgQLQLAABAsQLADBAhAsQLAABAtAsADBAhAsAMECBAtAsAAECxAsAMECECxAsAAEC0CwAMECECwAwQIEC0CwAMECECwAwQIEC0CwAAQLECwAwQIQLECwAAQLQLAAwQIQLADBAgQLQLAABAsQLADBAhAsQLAABAtAsADBAhAsAMECBAtAsADBAhAsAMECBAtAsAAECxAsAMECECxAsAAEC0CwAMEC+Fx/CTAAqThpHb4V2OAAAAAASUVORK5CYII="},c24f:function(t,e,a){"use strict";a.d(e,"n",(function(){return s})),a.d(e,"k",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"j",(function(){return l})),a.d(e,"i",(function(){return c})),a.d(e,"o",(function(){return u})),a.d(e,"f",(function(){return d})),a.d(e,"h",(function(){return p})),a.d(e,"m",(function(){return m})),a.d(e,"g",(function(){return f})),a.d(e,"e",(function(){return v})),a.d(e,"d",(function(){return h})),a.d(e,"q",(function(){return b})),a.d(e,"p",(function(){return g})),a.d(e,"b",(function(){return _})),a.d(e,"l",(function(){return y}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/user/positions",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/user/lockUser",method:"post",params:t})}var r=function(t){return Object(n["a"])({url:"/api/v1/fm/user/workingStatus",method:"post",params:t})};function o(t){return Object(n["a"])({url:"/api/v1/fm/user/delUser",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/api/v1/fm/resourceRoleAuthorization/table",method:"get",data:t})}function c(t){return Object(n["a"])({url:"/api/v1/fm/resourceRoleAuthorization/authorize",params:t})}function u(t){return Object(n["a"])({url:"/api/v1/fm/user/store/users",method:"get",data:t})}function d(t){return Object(n["a"])({url:"/api/v1/fm/personManagement/departmentTreeWithCreator",method:"get",data:t})}var p=function(t){return Object(n["a"])({url:"/api/v1/fm/personManagement/departmentStoreTreeWithCount",method:"get",data:t})},m=function(t){return Object(n["a"])({url:"/api/v1/fm/personManagement/operationDepartmentStoreTreeWithCount",method:"get",data:t})},f=function(t){return Object(n["a"])({url:"/api/v1/fm/personManagement/departmentStoreEmployees",method:"get",data:t})},v=function(t){return Object(n["a"])({url:"/api/v1/fm/personManagement/departmentTree",method:"get",data:t})},h=function(t){return Object(n["a"])({url:"/api/v1/fm/user/departmentEditUser",params:t})},b=function(t){return Object(n["a"])({url:"/api/v1/fm/department/update",params:t})},g=function(t){return Object(n["a"])({url:"/api/v1/fm/department/switch/".concat(t),method:"POST"})},_=function(t){return Object(n["a"])({url:"/api/v1/fm/user/companyIncumbentEmployeeNames",method:"get",data:t})},y=function(){return Object(n["a"])({url:"/api/v1/fm/commissionPlan/multistagePlanSummaryList",method:"get"})}},c333:function(t,e,a){},c38e:function(t,e,a){"use strict";var n=a("0eab"),s=a.n(n);s.a},c41e:function(t,e,a){"use strict";var n=a("deaf"),s=a.n(n);s.a},c443:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return l}));var n=a("b775"),s=function(t){return Object(n["a"])({url:"/api/v1/message/message",method:"get",data:t})},i=function(t){return Object(n["a"])({url:"/api/v1/message/messages",method:"get",data:t})},r=function(t){return Object(n["a"])({url:"/api/v1/message/count",method:"get",data:t})},o=function(t){return Object(n["a"])({url:"/api/v1/message/triggeredApprovalMessage",method:"get",data:t})},l=function(t){return Object(n["a"])({url:"/api/v1/fm/approval/handle",params:t})}},c4e1:function(t,e,a){"use strict";var n=a("b07f"),s=a.n(n);s.a},c4e8:function(t,e,a){t.exports=a.p+"img/sfz.67da9e3d.png"},c59b:function(t,e,a){},c5df:function(t,e,a){"use strict";var n=a("c6bf"),s=a.n(n);s.a},c69a0:function(t,e,a){"use strict";var n=a("bb8c"),s=a.n(n);s.a},c6bf:function(t,e,a){},c6d1:function(t,e,a){t.exports=a.p+"img/icon_qudian.71bed790.png"},c700:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"pd20 mb20 mt20"},[1==t.unSealWay?a("el-alert",{staticStyle:{"margin-bottom":"10px"},attrs:{closable:!1,title:"当前房源设置了自动解封，"+t.unSealDay+"天后将自动解封",type:"warning","show-icon":""}}):t._e(),t._v(" "),a("div",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入解封理由，最少三个字以上",minlength:"3"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"mt10"},t._l(t.relieveReasonList,(function(e,n){return a("p",{key:n,staticClass:"bd1 mr10 h1 br1 pd10 pointer color-bg dp-ib mb5",on:{click:function(a){t.reason+=e.name}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),0)],1),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt10"},[a("p",{staticClass:"color9"},[t._v("快捷用语")])])}],i=a("a34a"),r=a.n(i),o=a("6ffd"),l=a("acb0");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:{id:{type:[Number,String],required:!0},unSealWay:{type:[Number,String],required:!0},unSealDay:{type:[Number,String],required:!0}},data:function(){return{reason:"",relieveReasonList:[]}},created:function(){this.getDictList()},methods:{getDictList:function(){var t=this;return u(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={dicttype:3,enable:!1,subType:32},e.next=3,Object(l["n"])(a);case 3:n=e.sent,n&&(t.relieveReasonList=n);case 5:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},save:function(){var t=this;return u(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.reason,n=t.id,!(a.length<=3)){e.next=5;break}t.$showError("请输入解封理由，最少三个字以上"),e.next=10;break;case 5:return s={reason:a},e.next=8,Object(o["b"])(n,s);case 8:i=e.sent,i&&(t.$showSuccess("操作成功"),t.close());case 10:case"end":return e.stop()}}),e)})))()}}},p=d,m=a("2877"),f=Object(m["a"])(p,n,s,!1,null,null,null);e["default"]=f.exports},c7d8:function(t,e,a){},c80f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"keep-customer",attrs:{"close-on-click-modal":!1,title:"维护客户",visible:t.show,width:"820px","before-close":t.close},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"base"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:""}})]),t._v(" "),a("div",{staticClass:"content"},[a("el-form",{ref:"form",attrs:{model:t.formData,rules:t.formRules}},[a("el-row",[a("el-col",{staticClass:"item",attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户姓名",prop:"customerName"}},[a("el-input",{staticClass:"customer",attrs:{size:"small",placeholder:"请输入客户姓名"},model:{value:t.formData.customerName,callback:function(e){t.$set(t.formData,"customerName",e)},expression:"formData.customerName"}},[a("el-select",{attrs:{slot:"append",placeholder:"请选择"},slot:"append",model:{value:t.formData.gender,callback:function(e){t.$set(t.formData,"gender",e)},expression:"formData.gender"}},[a("el-option",{attrs:{label:"先生",value:1}}),t._v(" "),a("el-option",{attrs:{label:"女士",value:2}})],1)],1)],1)],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:12}},[a("el-form-item",{attrs:{label:"客户等级",prop:"customerLevel"}},[a("el-select",{attrs:{size:"small",placeholder:"客户等级"},model:{value:t.formData.customerLevel,callback:function(e){t.$set(t.formData,"customerLevel",e)},expression:"formData.customerLevel"}},t._l(t.customerLevel,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:24}},[a("el-form-item",{attrs:{label:"客户需求",prop:"customerRequirement"}},[a("fm-checkbox-group",{attrs:{model:t.formData.customerRequirement.split(","),options:t.customerRequirement},on:{change:function(e,a){t.formData.customerRequirement=a.toString()}}})],1)],1),t._v(" "),a("el-col",{staticClass:"item",attrs:{span:24}},[a("el-form-item",{attrs:{label:"自定义客户标签",prop:"customerLabel"}},[a("div",{staticClass:"body custom-tag"},[t._l(t.customerLabel,(function(e){return a("el-tag",{key:e,attrs:{type:"warning",closable:"",effect:"plain","disable-transitions":!1},on:{close:function(a){return t.handleClose(e)}}},[t._v(t._s(e))])})),t._v(" "),t.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue="string"===typeof e?e.trim():e},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{disabled:t.customerLabel.length>=5,size:"small"},on:{click:t.showInput}},[t._v("+新增")])],2)])],1)],1)],1)],1)]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("保 存")])],1)])},s=[],i=a("1195"),r=a.n(i),o=a("4bce"),l=a("2baa"),c=a("f6b0"),u=a("db49"),d={props:{options:{type:Object,default:function(){return{}}},show:{type:Boolean,default:!1}},data:function(){return{avatar:r.a,activeTab:"1",customerLabel:[],inputVisible:!1,inputValue:"",formData:{customerLabel:"",customerLevel:"",customerName:"",customerRequirement:[],gender:"1"},formRules:{customerLabel:[{required:!0,trigger:"blur",message:"请添加客户标签"}],customerName:[{required:!0,trigger:"blur",message:"请输入客户姓名"}],customerRequirement:[{required:!0,trigger:"blur",message:"请选择客户需求"}]},demandChecked:[]}},computed:{customerLevel:function(){return u["a"].config.customerLevels},customerRequirement:function(){return u["a"].config.customerDemands}},created:function(){this.intData()},methods:{submitForm:function(){var t=this;this.$refs.form.validate((function(e){e&&Object(c["a"])(t.formData).then((function(e){e&&(t.$showSuccess("修改成功"),t.close(),t.$emit("request",!0))}))}))},intData:function(){this.customerLabel=this.options.customerLabel.split(","),this.formData=Object.assign({},this.options,{editType:"2"}),delete this.formData.customerSource,1==this.formData.customerLevel&&(this.formData.customerLevel="")},close:function(){this.$emit("close",!1)},handleClose:function(t){this.customerLabel.splice(this.customerLabel.indexOf(t),1),this.formData.customerLabel=this.customerLabel.toString()},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this.inputValue;t&&(this.customerLabel.push(t),this.formData.customerLabel=this.customerLabel.toString()),this.inputVisible=!1,this.inputValue=""}},components:{FmCheckboxGroup:o["default"],FormPane:l["default"]}},p=d,m=(a("f5bc"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,null,null);e["default"]=f.exports},c878:function(t,e,a){},c8cf:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"enrollment-complete"},[t._m(0),t._v(" "),a("div",{staticClass:"foot flex-center"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("登录我的首页")])],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"body"},[n("h2",{staticClass:"red"},[t._v("欢迎您，正式加入PCN合伙人合作网络！")]),t._v(" "),n("p",[t._v("\n      你进入的是一个充满活力和希望的群体，你面临的是充满挑战与机遇的工作。\n    ")]),t._v(" "),n("p",[t._v("\n      在这里，我们应更加珍惜眼前共事的时光，有温暖、有激情、有体谅、有幽默，因而对人生和事业充满信心，我们应该这样逐步成长。\n    ")]),t._v(" "),n("p",[t._v("\n      在这里，只要你用心描绘，你一定可以绘出最美妙的蓝图。公司提供发展的平台，希望每一个祥光人，都能做到用无言的默契，用沟通的心灵，用灿烂的笑容，用理解的目光去发展;全身心地投入毕生的精力和才智，回报我们共同的家。\n    ")]),t._v(" "),n("p",[t._v("相信自己，相信公司，相信我们共同的家。")]),t._v(" "),n("img",{attrs:{src:a("5940"),alt:"房猫"}})])}],i={props:{options:{type:Array,default:function(){return[]}}},data:function(){return{}},created:function(){},methods:{submit:function(){var t=this.options.slice(0,this.options.length-1);t.some((function(t){return!t.isComplete}))?this.$showError("请将入职资料填写完整"):this.$emit("fulfill","isFinishAll")}}},r=i,o=(a("2ed0"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"7727ceab",null);e["default"]=l.exports},c913:function(t,e,a){"use strict";var n=a("38b1"),s=a.n(n);s.a},c931:function(t,e,a){"use strict";var n=a("21a2"),s=a.n(n);s.a},c99b:function(t,e,a){},c9b7:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-autocomplete",{attrs:{placeholder:t.options.placeholder||t.placeholder,"prefix-icon":"el-icon-search","value-key":"name","fetch-suggestions":t.querySearchAsync},on:{select:t.handleSelect},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[t._v("\n    "+t._s(a.name)+"\n  ")]}}]),model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})},s=[],i=a("a34a"),r=a.n(i);function o(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){o(i,n,s,r,l,"next",t)}function l(t){o(i,n,s,r,l,"throw",t)}r(void 0)}))}}var c={props:{currentValue:{type:[String,Number],default:""},options:{type:Object,default:function(){return{placeholder:"输入姓名或手机号搜索",name:"name",value:"value",func:null}}}},data:function(){return{keyword:"",placeholder:"输入姓名或手机号搜索",list:[]}},watch:{keyword:function(t){t||this.$emit("setValue","")}},created:function(){this.getList()},methods:{getList:function(){var t=this;return l(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.options,n=t.formatList,s={keyword:""},e.next=4,a.func(s);case 4:i=e.sent,t.list=n(i),t.setKeywordByValue();case 7:case"end":return e.stop()}}),e)})))()},setKeywordByValue:function(){var t=this.list,e=this.currentValue;for(var a in t)if(e==t[a].value)return void(this.keyword=t[a].name)},formatList:function(t){t=t||[];var e=this.options,a=[];return t=t||[],t.forEach((function(t){var n={name:t[e.name],value:t[e.value]};a.push(n)})),a},querySearchAsync:function(t,e){var a=this;return l(r.a.mark((function n(){var s,i,o,l,c;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=a.options,i=a.formatList,t){n.next=4;break}return e([]),n.abrupt("return");case 4:return o={keyword:t},n.next=7,s.func(o);case 7:l=n.sent,c=i(l),e(c);case 10:case"end":return n.stop()}}),n)})))()},handleSelect:function(t){this.$emit("setValue",t.value)}}},u=c,d=a("2877"),p=Object(d["a"])(u,n,s,!1,null,null,null);e["a"]=p.exports},c9ee:function(t,e,a){"use strict";var n=a("0ed9"),s=a.n(n);s.a},ca64:function(t,e,a){},cac6:function(t,e,a){t.exports=a.p+"img/icon-sp-map@2x.658b3647.png"},caf9:function(t,e,a){},cc5e:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/role/company",method:"get",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/role/company/delete",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/api/v1/fm/role/company/edit",method:"post",data:t})}},ccbe:function(t,e,a){t.exports=a.p+"img/icon_waichengjiao.b461c94b.png"},ce1d:function(t,e,a){"use strict";var n=a("bde7"),s=a.n(n);s.a},ceb0:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.902edb02.png"},cf55:function(t,e,a){t.exports=a.p+"img/upload.fcc26735.png"},d00c:function(t,e,a){},d05f:function(t,e,a){},d06a:function(t,e,a){},d220:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"expenditure"},[a("div",{staticClass:"fm-filtrator"},[a("div",{staticClass:"l"},[a("el-date-picker",{attrs:{size:"small",type:"month","value-format":"yyyy-MM-01",format:"yyyy年MM月",placeholder:"选择月","picker-options":t.$disabledFutureDate},on:{change:function(e){return t.search()}},model:{value:t.queryData.feeDate,callback:function(e){t.$set(t.queryData,"feeDate",e)},expression:"queryData.feeDate"}}),t._v(" "),a("el-select",{attrs:{size:"small",clearable:"",placeholder:"类型"},on:{change:function(e){return t.search()}},model:{value:t.queryData.feeKind,callback:function(e){t.$set(t.queryData,"feeKind",e)},expression:"queryData.feeKind"}},t._l(t.configData.costType,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})})),1),t._v(" "),a("el-select",{attrs:{size:"small",clearable:"",placeholder:"状态"},on:{change:function(e){return t.search()}},model:{value:t.queryData.status,callback:function(e){t.$set(t.queryData,"status",e)},expression:"queryData.status"}},t._l(t.configData.status,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-select",{attrs:{size:"small",clearable:"",placeholder:"门店"},on:{change:function(e){return t.search()}},model:{value:t.queryData.storeId,callback:function(e){t.$set(t.queryData,"storeId",e)},expression:"queryData.storeId"}},t._l(t.configData.store,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("div",{staticClass:"r"},[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.cjfy,expression:"cjfy"}],attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.edit("新增")}}},[t._v("\n        添加费用支出\n      ")])],1)]),t._v(" "),a("el-table",{staticClass:"mt20",attrs:{data:t.tableData,border:"",size:"small"},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{label:"所属门店",sortable:"",prop:"storeName"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用类型",sortable:"",prop:"feeKind"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用说明",sortable:"",prop:"remark"}}),t._v(" "),a("el-table-column",{attrs:{label:"费用金额",sortable:"",prop:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        ¥"+t._s(t._f("toThousands")(e.row.amount))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"支出日期",sortable:"",prop:"feeDate"}}),t._v(" "),a("el-table-column",{attrs:{label:"图片附件",prop:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.attachs&&e.row.attachs.length?a("span",{staticClass:"blue link-btn",on:{click:function(a){return a.stopPropagation(),t.previewImg(0,e.row.attachs)}}},[t._v("查看图片")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"录入人",sortable:"",prop:"inUserName"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",sortable:"",prop:"statusName"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{red:"待审核"==e.row.statusName,orange:"被驳回"==e.row.statusName}},[a("span",[t._v(t._s(e.row.statusName))]),e.row.auditRemark&&"被驳回"==e.row.statusName?a("el-tooltip",{attrs:{effect:"light","popper-class":"fm-tooltip",content:e.row.auditRemark,placement:"bottom-start"}},[a("i",{staticClass:"el-icon-info"})]):t._e()],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"",width:"220px"},scopedSlots:t._u([{key:"default",fn:function(e){return[2!=e.row.status?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.cjfy,expression:"cjfy"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.edit(e.row)}}},[t._v("\n          编辑\n        ")]):t._e(),t._v(" "),1==e.row.status?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.shfy,expression:"shfy"}],attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.checkClick(e.row.id)}}},[t._v("\n          审核\n        ")]):t._e(),t._v(" "),2!=e.row.status?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.scfy,expression:"scfy"}],attrs:{type:"danger",size:"mini"},on:{click:function(a){return a.stopPropagation(),t.del(e.row.id)}}},[t._v("\n          删除\n        ")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.queryData.pageSize,"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next","current-page":t.queryData.pageNum,total:t.totalNum},on:{"current-change":t.search,"update:currentPage":function(e){return t.$set(t.queryData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryData,"pageNum",e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.editType+"费用支出",visible:t.toggleEditDialog,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(e){t.toggleEditDialog=e}}},[a("edit-cost",{attrs:{store:t.configData.store,costType:t.configData.costType,type:t.editType,detail:t.rowData},on:{close:function(e){t.toggleEditDialog=!1},reRequest:function(e){t.toggleEditDialog=!1,t.search(t.queryData.pageNum)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"审核",visible:t.toggleCheckDialog,"close-on-click-modal":!1,width:"360px"},on:{"update:visible":function(e){t.toggleCheckDialog=e}}},[a("el-radio-group",{staticClass:"c-flex1 is-checked--orange",attrs:{size:"small"},model:{value:t.checkData.success,callback:function(e){t.$set(t.checkData,"success",e)},expression:"checkData.success"}},[a("el-radio-button",{attrs:{label:1}},[t._v("通过审核")]),t._v(" "),a("el-radio-button",{attrs:{label:0}},[t._v("驳回")])],1),t._v(" "),0==t.checkData.success?a("el-input",{staticClass:"input-bg mt20",attrs:{type:"textarea",placeholder:"请输入驳回理由"},model:{value:t.checkData.auditRemark,callback:function(e){t.$set(t.checkData,"auditRemark",e)},expression:"checkData.auditRemark"}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.toggleCheckDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.checkSubmit}},[t._v("确 定")])],1)],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("4184"),l=a("405f"),c=a("acb0"),u=a("73f5");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={components:{EditCost:o["default"]},data:function(){return{date:[],totalNum:0,tableData:[],configData:{status:[{label:"待审核",value:1},{label:"已审核",value:2},{label:"被驳回",value:3}],store:[],costType:[]},queryData:{feeDate:null,feeKind:null,pageNum:0,pageSize:10,siteId:null,sort:null,sortType:null,status:null,storeId:null},checkData:{success:1,auditRemark:""},rowData:null,toggleCheckDialog:!1,toggleEditDialog:!1,editType:"新增"}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){this.queryData.siteId=this.site.id,this.getCostType(),this.getUserStore(),this.search()},methods:{getCostType:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["n"])({dicttype:"6"});case 2:a=e.sent,a&&(t.configData.costType=a);case 4:case"end":return e.stop()}}),e)})))()},getUserStore:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["j"])({siteId:t.site.id});case 2:a=e.sent,a&&(t.configData.store=a);case 4:case"end":return e.stop()}}),e)})))()},search:function(t){var e=this;return p(r.a.mark((function a(){var n,s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s in e.queryData.pageNum="number"==typeof t?t:1,n=JSON.parse(JSON.stringify(e.queryData)),n)n[s]||delete n[s];return a.next=5,Object(l["e"])(n);case 5:i=a.sent,i&&(e.tableData=i.list,e.totalNum=i.total);case 7:case"end":return a.stop()}}),a)})))()},sortChange:function(t){var e={storeName:1,feeKind:2,remark:3,amount:4,feeDate:5,inUserName:6,statusName:7};this.queryData.sortType=t.order?"descending"==t.order?1:0:null,this.queryData.sort=e[t.prop],this.search()},edit:function(t){"新增"==t?(this.editType="新增",this.rowData={}):(this.editType="编辑",this.rowData=t),this.toggleEditDialog=!0},del:function(t){var e=this;this.$confirm("你确定要删除费用吗？","删除费用",{confirmButtonClass:"el-button--danger",confirmButtonText:"删除",type:"warning"}).then((function(){Object(l["c"])({id:t}).then((function(t){t&&(e.$showSuccess("删除成功"),e.search(e.queryData.pageNum))}))})).catch((function(){}))},checkClick:function(t){this.toggleCheckDialog=!0,this.checkData.id=t},checkSubmit:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])(t.checkData);case 2:a=e.sent,a&&(t.$showSuccess("操作成功"),t.toggleCheckDialog=!1,t.checkData.auditRemark="",t.search(t.queryData.pageNum));case 4:case"end":return e.stop()}}),e)})))()},previewImg:function(t,e){this.$root.$emit("showPreview",{urlList:e,index:t})}}},f=m,v=(a("7636"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,null,null);e["default"]=h.exports},d330:function(t,e,a){},d3b6:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(t,e){var a=0;try{a+=t.toString().split(".")[1].length}catch(n){}try{a+=e.toString().split(".")[1].length}catch(n){}return Number(t.toString().replace(".",""))*Number(e.toString().replace(".",""))/Math.pow(10,a)},s=function(t,e){var a,s,i=0,r=0;try{i=new String(t).split(".")[1].length}catch(l){}try{r=e.toString().split(".")[1].length}catch(l){}a=Number(t.toString().replace(".","")),s=Number(e.toString().replace(".",""));var o=n(a/s,Math.pow(10,r-i));return o}},d3dd:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-deal-house"},[a("div",{staticClass:"conditions"},[a("div",{staticClass:"search-box flex"},[a("el-input",{staticClass:"input-group",attrs:{size:"small",placeholder:"输入关键词"},model:{value:t.queryData.keyword,callback:function(e){t.$set(t.queryData,"keyword",e)},expression:"queryData.keyword"}},[a("el-select",{staticClass:"select",attrs:{slot:"prepend"},slot:"prepend",model:{value:t.queryData.keyType,callback:function(e){t.$set(t.queryData,"keyType",e)},expression:"queryData.keyType"}},[a("el-option",{attrs:{label:"小区名称",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"房源编号",value:"1"}})],1)],1),t._v(" "),a("el-input",{staticClass:"input-group",attrs:{size:"small",placeholder:"输入关键词"},model:{value:t.queryData.roleKeyWord,callback:function(e){t.$set(t.queryData,"roleKeyWord",e)},expression:"queryData.roleKeyWord"}},[a("el-select",{staticClass:"select",attrs:{slot:"prepend"},slot:"prepend",model:{value:t.queryData.roleType,callback:function(e){t.$set(t.queryData,"roleType",e)},expression:"queryData.roleType"}},[a("el-option",{attrs:{label:"维护人",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"录入人",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"实勘人",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"委托人",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"钥匙人",value:"4"}})],1)],1),t._v(" "),a("el-date-picker",{staticClass:"width220",attrs:{size:"small",type:"daterange","range-separator":"-","start-placeholder":"录入日期","end-placeholder":"录入日期","value-format":"yyyy-MM-dd",format:"yyyy年MM月dd日","picker-options":t.$disabledFutureDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.search(1)}}},[t._v("\n        搜索\n      ")]),t._v(" "),t.userInfo.storeName||t.userInfo.storeGroupName?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.lrfy,expression:"lrfy"}],attrs:{size:"small",type:"primary"},on:{click:t.writeHouse}},[t._v("\n        录入房源(买卖)\n      ")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"split-line"}),t._v(" "),a("div",{staticClass:"record"},[a("div",{staticClass:"fm-table-tips"},[a("div",{staticClass:"result"},[a("p",{staticClass:"tips"},[t._v("\n          共找到 "),a("span",{staticClass:"strong"},[t._v(t._s(t.totalNum))]),t._v("条记录\n        ")]),t._v(" "),a("p",{staticClass:"clear",on:{click:t.clearQuery}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"clear"}}),t._v(" "),a("span",{staticClass:"text"},[t._v("清空条件")])],1)])]),t._v(" "),a("div",{staticClass:"c"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"sort-change":t.sortChange,"row-click":t.rowClick}},[a("el-table-column",{attrs:{align:"left",label:"房源",width:"330px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_house"},[a("div",{staticClass:"c_house_l"},[a("el-image",{staticClass:"img",attrs:{fit:"cover",src:e.row.houseImage}},[a("img",{attrs:{slot:"error",src:t.houesPlaceholderImg},slot:"error"})]),t._v(" "),e.row.isSeal?a("div",{staticClass:"tag lock flex-center"},[a("div",[a("svg-icon",{attrs:{"icon-class":"lock"}}),t._v(" "),a("p",[t._v("封盘")])],1)]):"外成交"==e.row.statusReason?a("div",{staticClass:"tag type2"},[t._v("\n                外成交\n              ")]):t._e()],1),t._v(" "),a("div",{staticClass:"c_house_r"},[a("div",{staticClass:"c_house_r_t"},[a("p",{staticClass:"pointer"},[t._v("\n                  "+t._s(e.row.communityName)+"\n                ")])]),t._v(" "),a("div",{staticClass:"c_house_r_c"},[a("p",[t._v("\n                  房源编号"),a("span",{staticClass:"bill-num"},[t._v(t._s(e.row.houseCode))])])]),t._v(" "),a("div",{staticClass:"c_house_r_b"},[1==e.row.shelvesStatus?a("span",{staticClass:"tag status blue-bg2"},[t._v("待审核")]):t._e(),t._v(" "),0==e.row.shelvesStatus?a("span",{staticClass:"tag status gray-bg2"},[t._v("草稿")]):t._e(),t._v(" "),3==e.row.shelvesStatus?a("span",{staticClass:"tag status red-bg2"},[t._v("驳回")]):t._e(),t._v(" "),t._l(e.row.houseLabels,(function(e){return a("span",{key:e,staticClass:"tag"},[t._v(t._s(e))])}))],2)])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"类型",prop:"sourceType",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(e.row.propertyTypeName))])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p",[t._v(t._s(e.row.sourceName))])]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"户型",prop:"bedRoomQuantity",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v("\n                "+t._s(t.isNull(e.row.bedRoomQuantity)?"-":e.row.bedRoomQuantity+"室")+t._s(t.isNull(e.row.livingRoomQuantity)?"-":e.row.livingRoomQuantity+"厅")+t._s(t.isNull(e.row.restRoomQuantity)?"-":e.row.restRoomQuantity+"卫")+"\n              ")])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"建面",prop:"buildingArea",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(e.row.buildingArea)+"㎡")])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"销售总价/单价",prop:"listingPrice",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",{staticClass:"red"},[t._v("\n                "+t._s(t._f("toIntCeil")(e.row.listingPrice))),e.row.listingPrice?a("span",[t._v("万")]):a("span",[t._v("价格待定")])])]),t._v(" "),e.row.unitPrice?a("div",{staticClass:"c_re_c"},[a("p",[t._v(t._s(t._f("toIntCeil")(e.row.unitPrice))+"元/平米")])]):t._e(),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"楼层",prop:"floorLocationDesc",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(e.row.floorLocationDesc))])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p",[t._v("共"+t._s(e.row.totalFloorNumber)+"层")])]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"朝向",prop:"orientationName",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(t._f("isEmpty2")(e.row.orientationName)))])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"left",label:"录入时间",prop:"inDate",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re"},[a("div",{staticClass:"c_re_t"},[a("p",[t._v(t._s(e.row.inDate))])]),t._v(" "),a("div",{staticClass:"c_re_c"},[a("p")]),t._v(" "),a("div",{staticClass:"c_re_b"},[a("p")])])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"right",label:"录入人",prop:"inUserName",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"c_re fr"},[a("div",{staticClass:"c_re_t"},[a("p",{staticClass:"ta-right"},[t._v(t._s(e.row.inUserName))])]),t._v(" "),a("el-button-group",{staticClass:"mt20"},[e.row.inUserId!=t.userInfo.userId||0!=e.row.shelvesStatus&&3!=e.row.shelvesStatus?t._e():a("el-button",{staticStyle:{width:"80px"},attrs:{size:"mini"},on:{click:function(a){return a.stopPropagation(),t.submitCheck(e.row.id)}}},[a("span",{staticClass:"blue"},[t._v("提交审核")])]),t._v(" "),1==e.row.shelvesStatus?a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.sjsh,expression:"sjsh"}],attrs:{size:"mini"},on:{click:function(a){a.stopPropagation(),t.toggleCheckDialog=!0,t.rowData=e.row}}},[a("span",{staticClass:"blue"},[t._v("审核")])]):t._e(),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.scfy,expression:"scfy"}],attrs:{size:"mini"},on:{click:function(a){return a.stopPropagation(),t.submitCheck(e.row.id,"del")}}},[a("span",{staticClass:"red"},[t._v("删除")])])],1),t._v(" "),a("p",[t._v(" ")])],1)}}])})],1)],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.queryData.pageSize,layout:"prev, pager, next","current-page":t.queryData.pageNum,"prev-text":"上一页","next-text":"下一页",total:t.totalNum},on:{"update:currentPage":function(e){return t.$set(t.queryData,"pageNum",e)},"update:current-page":function(e){return t.$set(t.queryData,"pageNum",e)},"current-change":t.search}})],1),t._v(" "),a("el-dialog",{attrs:{title:"审核",visible:t.toggleCheckDialog,"close-on-click-modal":!1,width:"360px"},on:{"update:visible":function(e){t.toggleCheckDialog=e}}},[a("el-radio-group",{staticClass:"c-flex1 is-checked--orange",attrs:{size:"small"},model:{value:t.checkData.communityStatus,callback:function(e){t.$set(t.checkData,"communityStatus",e)},expression:"checkData.communityStatus"}},[a("el-radio-button",{attrs:{label:1}},[t._v("通过审核")]),t._v(" "),a("el-radio-button",{attrs:{label:2}},[t._v("驳回")])],1),t._v(" "),2==t.checkData.communityStatus?a("el-input",{staticClass:"input-bg mt20 fm-textarea",attrs:{type:"textarea",placeholder:"请输入驳回理由"},model:{value:t.checkData.rejectReason,callback:function(e){t.$set(t.checkData,"rejectReason",e)},expression:"checkData.rejectReason"}}):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.toggleCheckDialog=!1}}},[t._v("\n          取 消\n        ")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.check()}}},[t._v("\n          确 定\n        ")])],1)],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("c1ed"),l=a.n(o),c=a("f803"),u=a("61f7");function d(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function p(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){d(i,n,s,r,o,"next",t)}function o(t){d(i,n,s,r,o,"throw",t)}r(void 0)}))}}var m={shelvesStatus:2,roleKeyWord:"",roleType:"1",keyword:"",keyType:"2",pageNum:1,inDateStart:null,inDateEnd:null,pageSize:10},f={props:{tab:{type:String,default:"买卖"}},filters:{totalFloorType:function(t){return t}},data:function(){return{isNull:u["d"],toggleCheckDialog:!1,toggleMoreFiltrator:!1,houesPlaceholderImg:l.a,tabs:["买卖","租赁","新房","小区"],activeIndex:"0",config:{},totalNum:0,queryData:JSON.parse(JSON.stringify(m)),checkData:{communityStatus:1,rejectReason:""},date:[],rowData:{},tableData:[]}},computed:{site:function(){return this.$store.state.settings.site},userInfo:function(){return this.$store.state.settings.userInfo},authActions:function(){return this.$route.meta.authActions||[]}},created:function(){this.search()},methods:{sortChange:function(t){var e=null;"ascending"==t.order&&(e="asc"),"descending"==t.order&&(e="desc");var a={sourceType:"1",bedRoomQuantity:"2",buildingArea:"3",listingPrice:"4",floorLocationDesc:"5",orientationName:"6",inDate:"10",inUserName:"11"};this.queryData.orderField=a[t.prop],this.queryData.orderType=e,this.search()},writeHouse:function(){this.$navigateTo({query:{tab:"".concat(this.tab)},path:"/work/house/edit/-1"})},rowClick:function(t){this.$getSelectionText()||this.$navigateTo({query:{id:t.id,title:"房源详情-".concat(t.communityName)},path:"/work/house/detail/".concat(t.id)})},clearQuery:function(){this.queryData=JSON.parse(JSON.stringify(m)),this.date=[],this.search()},check:function(){var t=this;return p(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.checkData.id=t.rowData.id,e.next=3,Object(c["a"])(t.checkData);case 3:a=e.sent,a&&(t.$showSuccess("".concat(1==t.checkData.communityStatus?"审核":"驳回","成功")),t.search(t.queryData.pageNum),t.checkData.communityStatus=1,t.toggleCheckDialog=!1,t.checkData.rejectReason="");case 5:case"end":return e.stop()}}),e)})))()},submitCheck:function(t,e){var a=this,n="primary",s=c["r"],i="确定",o="你确定要提交审核吗？",l="提交审核";"del"==e&&(n="danger",i="删除",s=c["b"],o="删除后无法恢复，你确定要删除吗？",l="删除房源"),this.$confirm(o,l,{confirmButtonClass:"el-button--".concat(n),confirmButtonText:i,type:"warning"}).then(p(r.a.mark((function e(){var n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s({id:t});case 2:n=e.sent,n&&(a.$showSuccess("".concat(l,"成功")),1==a.tableData.length&&a.queryData.pageNum--,a.search(a.queryData.pageNum));case 4:case"end":return e.stop()}}),e)})))).catch((function(){}))},search:function(t){var e=this;return p(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.queryData.pageNum="number"==typeof t?t:1,e.queryData.siteId=e.site.id,e.date=e.date?e.date:[],e.queryData.inDateStart=e.date[0],e.queryData.inDateEnd=e.date[1],a.next=7,Object(c["m"])(e.queryData);case 7:n=a.sent,n&&(e.tableData=n.list,e.totalNum=n.total);case 9:case"end":return a.stop()}}),a)})))()}}},v=f,h=(a("3220"),a("bd04"),a("2877")),b=Object(h["a"])(v,n,s,!1,null,"ba3c5f08",null);e["default"]=b.exports},d4ee:function(t,e,a){"use strict";var n=a("5899"),s=a.n(n);s.a},d535:function(t,e,a){},d5c8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTg4QjU4QTUwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTg4QjU4QTYwQjdGMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5ODhCNThBMzBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5ODhCNThBNDBCN0YxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkF6yHgAAAJYSURBVHja7JrNaxNBGMYnNqJFXFOomJaqKKWkXoSiaBGsH61QpHjqqaj9C/So/QNK7LE99iQecxQNtFXoF3rKTSr20mpbrbUQjeQSje0z+Gx5iflYyphkkn3hx8zO7k7mybw775vZBGKxmMpj58Aj0AtaQEBVv+2AL+AVGANL+S46kKdtECTAPdBqiVjFcbZy3Anq+MeCOced4Bk4DN6CKFgGvywQfBB0gBHQTR3vwPtigh9T7BtwHWSUXfYBTIFZitZ67hdz6T6WUQvFupbh+LXdKvUMh1l+VHbbKssTpQQHVG1ZwMsqXdNWt4Ij4IVonwRXLdV0EzwVx3GG2z3B7Yy5t8VFl5mx9FomdoBhqUu09TPMRlzBT0CIAfoauAheM5BPWLZAjYMGij5PL12ivlE38XBj7wMwx/oQ2KQrnAKfLBB8hiiml1usPwQzrrfqGXZ44qu4WdaPWTLDR1j+EGKlFscPS75gO+1osZNBDx3o/DptcEDbIMUocNJgv81eJtGL4GnDM5BlNLgCDpV7+oMVcDkdJ29Uyt+9CL4DFgx+pk4O7oLnYNhgv/oH/0sTgldA0uDANkRpst81Pyz5gn3BtW9eFq02w4lHSCTzZw3222ZKcPw/fdlDpGpcet5Sr13c7wz3gKYyD1a/EPteyWc4qWrM6nqVdirgwuUwp5DgxXpJPBJ14s0Jd4YviWlvVH//4iAXLZsWLr29c1wcfwM/WU+5grNClN7duCBuSDMb2rJArN4y0pvuYdH2GZwGvwut0rnvhbVQW16M/6FAaets37NdAQYAgRdkuab0yg8AAAAASUVORK5CYII="},d6f0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"realTimeData"},[a("div",{staticClass:"head flex"},[a("h3",{staticClass:"title mr20"},[t._v("\n      房产实时数据\n    ")]),t._v(" "),a("p",{staticClass:"color9"},[a("span",{staticClass:"mr20"},[t._v("城市：成都市 ")]),t._v(" "),a("span",{staticClass:"ml10"},[t._v("最近更新："+t._s(t.sssj.UpdateDate))])])]),t._v(" "),a("div",{staticClass:"content pd20-b flex"},[a("div",{staticClass:"flex1 pd20",staticStyle:{"margin-right":"30px"}},[a("div",{staticClass:"flex-between"},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio-button",{attrs:{label:0}},[t._v("历史成交")]),t._v(" "),a("el-radio-button",{attrs:{label:1}},[t._v("商品房")]),t._v(" "),a("el-radio-button",{attrs:{label:2}},[t._v("二手房")])],1),t._v(" "),a("div",{staticClass:"flex"},t._l(t.menu,(function(e,n){return a("p",{key:n,staticClass:"pointer",class:{blue:n==t.isM,mr20:0==n},on:{click:function(e){t.isM=n}}},[t._v("\n            "+t._s(e)+"\n          ")])})),0)],1),t._v(" "),a("div",{staticClass:"charts flex1"},[a("c"+t.type+t.isM,{tag:"component"})],1)]),t._v(" "),a("div",{staticClass:"sssj"},[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[a("p",{staticClass:"flex"},[a("span"),t._v("\n            "+t._s(t.msg)+"\n          ")])]),t._v(" "),a("div",{staticClass:"table"},[a("div",t._l(t.tableTitles,(function(e){return a("div",{key:e,staticClass:"table-title"},[t._v("\n              "+t._s(e)+"\n            ")])})),0),t._v(" "),a("div",[a("div",[t._v("\n              套数(套)\n            ")]),t._v(" "),a("div",[t._v(t._s(t.sssj.TotalCHDealCount))]),t._v(" "),a("div",[t._v(t._s(t.sssj.CenterCHDealCount))]),t._v(" "),a("div",[t._v(t._s(t.sssj.NewCityCHDealCount))])]),t._v(" "),a("div",[a("div",[t._v("\n              面积(㎡)\n            ")]),t._v(" "),a("div",[t._v(t._s(t.sssj.TotalCHDealAreaCount))]),t._v(" "),a("div",[t._v(t._s(t.sssj.CenterCHDealAreaCount))]),t._v(" "),a("div",[t._v(t._s(t.sssj.NewCityCHDealAreaCount))])])])]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[a("p",{staticClass:"flex"},[a("span"),t._v("\n            二手房"+t._s(t.msg)+"\n          ")])]),t._v(" "),a("div",{staticClass:"table"},[a("div",t._l(t.tableTitles,(function(e){return a("div",{key:e,staticClass:"table-title"},[t._v("\n              "+t._s(e)+"\n            ")])})),0),t._v(" "),a("div",[a("div",[t._v("\n              套数(套)\n            ")]),t._v(" "),a("div",[t._v(t._s(t.sssj.TotalSHDealCount))]),t._v(" "),a("div",[t._v(t._s(t.sssj.CenterSHDealCount))]),t._v(" "),a("div",[t._v(t._s(t.sssj.NewCitySHDealCount))])]),t._v(" "),a("div",[a("div",[t._v("\n              面积(㎡)\n            ")]),t._v(" "),a("div",[t._v(t._s(t.sssj.TotalSHDealAreaCount))]),t._v(" "),a("div",[t._v(t._s(t.sssj.CenterSHDealAreaCount))]),t._v(" "),a("div",[t._v(t._s(t.sssj.NewCitySHDealAreaCount))])])])])])])])},s=[],i=a("a34a"),r=a.n(i),o=a("9754"),l=a("3edf"),c=a("4268"),u=a("2046"),d=a("e196"),p=a("2039"),m=a("488e");function f(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function v(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){f(i,n,s,r,o,"next",t)}function o(t){f(i,n,s,r,o,"throw",t)}r(void 0)}))}}var h={components:{c00:l["default"],c01:c["default"],c10:p["default"],c11:m["default"],c20:u["default"],c21:d["default"]},data:function(){return{type:0,isM:0,menu:["按周查看","按月查看"],tableTitles:["区域","全市","中心城市","郊区新城"],sssj:{UpdateDate:"",TotalCHDealCount:0,CenterCHDealCount:0,NewCityCHDealCount:0,TotalCHDealAreaCount:0,CenterCHDealAreaCount:0,NewCityCHDealAreaCount:0,TotalSHDealCount:0,CenterSHDealCount:0,NewCitySHDealCount:0,TotalSHDealAreaCount:0,CenterSHDealAreaCount:0,NewCitySHDealAreaCount:0},days:0,notNewData:!0,waitTime:0,msg:"最新成交数据"}},created:function(){this.init()},methods:{init:function(){var t=this;return v(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDealVolumeByDate();case 2:t.getData();case 3:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;this.notNewData&&setTimeout(v(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDealVolumeByDate();case 2:t.waitTime=6e4,t.getData();case 4:case"end":return e.stop()}}),e)}))),this.waitTime)},getDealVolumeByDate:function(){var t=this;return v(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.queryTime(),n={QueryTime:a},e.next=4,Object(o["a"])(n);case 4:s=e.sent,"0001-01-01T00:00:00"===s.UpdateDate?t.days=1:(0===t.days&&(t.msg="今日实时成交数据",t.notNewData=!1),i=t.$time(s.UpdateDate).format("YYYY-MM-DD HH:mm:ss"),t.sssj=s,t.sssj.UpdateDate=i,t.days=0);case 6:case"end":return e.stop()}}),e)})))()},queryTime:function(){var t=this.$time().subtract(this.days,"days").format("YYYY-MM-DD");return t}}},b=h,g=(a("f27d"),a("2877")),_=Object(g["a"])(b,n,s,!1,null,"18d6671e",null);e["default"]=_.exports},d6f7:function(t,e,a){},d703:function(t,e,a){"use strict";var n=a("3cba"),s=a.n(n);s.a},d713:function(t,e,a){t.exports=a.p+"img/fcz.7d50dd77.png"},d883:function(t,e,a){"use strict";var n=a("9574"),s=a.n(n);s.a},d8ca:function(t,e,a){},d8e7:function(t,e,a){"use strict";var n=a("36c5"),s=a.n(n);s.a},d929:function(t,e,a){"use strict";var n=a("5a22"),s=a.n(n);s.a},d9a2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"collection",attrs:{"close-on-click-modal":!1,title:"收款记录单",visible:t.value,width:"777px","before-close":t.close,center:""},on:{"update:visible":function(e){t.value=e}}},[a("div",[a("p",{staticClass:"mb10"},[a("span",{staticClass:"color6"},[t._v("当前状态：")]),t._v(" "),a("span",{class:t.orderStatus.color},[t._v(t._s(t.orderStatus.name))])]),t._v(" "),a("div",t._l(t.list,(function(e,n){return a("div",{key:n,staticClass:"log"},[a("div",{staticClass:"title cell bold color3"},[t._v("第"+t._s(n+1)+"次收款记录")]),t._v(" "),a("div",{staticClass:"x"},[a("div",{staticClass:"w110 center color6 cell"},[t._v("收款明细")]),t._v(" "),a("div",{staticClass:"flex1 cell y1 color3"},t._l(e.inComeList,(function(e,n){return a("el-row",{key:n,staticClass:"h45 x aic",attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("收款项目： ")]),t._v(" "),a("span",[t._v(t._s(e.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("应收金额： ")]),t._v(" "),a("span",[t._v("¥"+t._s(t._f("toThousands")(e.amount)))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("应分业绩： ")]),t._v(" "),a("span",[t._v("¥"+t._s(t._f("toThousands")(e.inAmount)))])])],1)})),1)]),t._v(" "),a("div",{staticClass:"x"},[a("div",{staticClass:"h45 w110 center color6 cell"},[t._v("应收金额")]),t._v(" "),a("div",{staticClass:"flex1 h45 cell y1"},[a("p",{staticClass:"red"},[t._v("¥"+t._s(t._f("toThousands")(e.amount)))])]),t._v(" "),a("div",{staticClass:"h45 w110 center color6 cell"},[t._v("可分业绩")]),t._v(" "),a("div",{staticClass:"flex1 h45 cell y1"},[a("p",{staticClass:"red"},[t._v("\n              ¥"+t._s(t._f("toThousands")(e.inAmount))+"\n              "),a("span",{staticClass:"color3"},[t._v("\n                (应扣业绩¥"+t._s(t._f("toThousands")(e.outAmount))+")\n              ")])])])]),t._v(" "),a("div",{staticClass:"x"},[a("div",{staticClass:"h45 w110 center color6 cell"},[t._v("收款日期")]),t._v(" "),a("div",{staticClass:"flex1 h45 cell y1"},[a("p",{staticClass:"color3"},[t._v(t._s(e.payDate))])]),t._v(" "),a("div",{staticClass:"h45 w110 center color6 cell"},[t._v("收据/发票")]),t._v(" "),a("div",{staticClass:"flex1 h45 cell y1"},[a("p",{staticClass:"color3"},[t._v(t._s(e.payNo))])])]),t._v(" "),a("div",{staticClass:"x"},[a("div",{staticClass:"h45 w110 center color6 cell"},[t._v("支付方式")]),t._v(" "),a("div",{staticClass:"flex1 h45 cell y1"},[a("p",{staticClass:"color3"},[t.payWay[e.payWay]?a("span",[t._v("\n                "+t._s(t.payWay[e.payWay])+"\n              ")]):t._e(),t._v(" "),e.bankName?a("span",[t._v("/"+t._s(e.bankName))]):t._e(),t._v(" "),e.bankNo?a("span",[t._v("\n                /尾号"+t._s(e.bankNo.substr(-4))+"\n              ")]):t._e(),t._v(" "),e.serialNo?a("span",[t._v("/流水"+t._s(e.serialNo))]):t._e()])])]),t._v(" "),a("div",{staticClass:"x"},[a("div",{staticClass:"h45 w110 center color6 cell"},[t._v("创建人")]),t._v(" "),a("div",{staticClass:"flex1 h45 cell y1"},[a("p",{staticClass:"color3"},[t._v(t._s(e.inUserName))])]),t._v(" "),a("div",{staticClass:"h45 w110 center color6 cell"},[t._v("创建时间")]),t._v(" "),a("div",{staticClass:"flex1 h45 cell y1"},[a("p",{staticClass:"color3"},[t._v(t._s(e.inDate))])])]),t._v(" "),a("div",{staticClass:"x"},[a("div",{staticClass:"h45 w110 center color6 cell"},[t._v("备注内容")]),t._v(" "),a("div",{staticClass:"flex1 h45 cell y1"},[a("p",{staticClass:"color3"},[t._v(t._s(e.remark))])])]),t._v(" "),a("div",{staticClass:"x"},[a("div",{staticClass:"w110 center color6 cell"},[t._v("图片附件")]),t._v(" "),a("div",{staticClass:"flex1 cell flex-flow x",staticStyle:{padding:"10px"}},t._l(e.attachs,(function(n,s){return a("el-image",{key:s,staticClass:"detail-img",attrs:{src:n.fileUrl,fit:"cover","preview-src-list":e.attachs.map((function(t){return t.fileUrl}))}},[a("img",{attrs:{slot:"error",src:t.$errorImg},slot:"error"})])})),1)])])})),0)])])},s=[],i=a("db49"),r={props:{value:{type:Boolean,default:!1},payData:{type:Object,default:function(){return{}}}},data:function(){return{orderStatus:{},list:[],payWay:i["a"].config.payWay}},watch:{value:function(t){t&&(this.orderStatus=this.payData.orderStatus||{},this.list=this.payData.itemList||[])}},methods:{close:function(){this.$emit("input",!1)}}},o=r,l=(a("a37e"),a("2877")),c=Object(l["a"])(o,n,s,!1,null,"50905e5d",null);e["default"]=c.exports},d9cd:function(t,e,a){"use strict";var n=a("63f5"),s=a.n(n);s.a},da55:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"collection",attrs:{"close-on-click-modal":!1,title:"创建收款",visible:t.visible,width:"600px","before-close":t.close},on:{"update:visible":function(e){t.visible=e}}},[a("div",[a("p",{staticClass:"tip fs13 color6"},[t._v("\n      一个成交单支持创建多次收款，创建收款后，不支持修改，系统将自动按照业绩分配规则生成实收业绩；全部收款完成后，自动完成结单归档，归档后不支持编辑\n    ")]),t._v(" "),a("el-table",{staticClass:"income-table",attrs:{data:t.income.inComeList}},[a("el-table-column",{attrs:{label:"选择",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.payed?a("p",{staticClass:"gray"},[t._v("已收款")]):a("el-checkbox",{model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"收入项目"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:{gray:!e.row.checked}},[a("h4",[t._v(t._s(e.row.name))]),t._v(" "),e.row.remark?a("p",[t._v("佣金比例："+t._s(e.row.rate)+"%")]):t._e(),t._v(" "),e.row.amount?a("p",[t._v("\n              佣金金额：¥"+t._s(t._f("toThousands")(e.row.amount))+"\n            ")]):t._e(),t._v(" "),e.row.outAmount?a("p",[t._v("\n              应扣佣金：¥"+t._s(t._f("toThousands")(e.row.outAmount))+"\n            ")]):t._e(),t._v(" "),e.row.remark?a("p",[t._v("备注说明："+t._s(e.row.remark))]):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"应分业绩"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:{gray:!e.row.checked}},[a("h4",[t._v("¥"+t._s(t._f("toThousands")(e.row.inAmount)))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"应收金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:{gray:!e.row.checked}},[a("h4",[t._v("¥"+t._s(t._f("toThousands")(e.row.inAmount)))])])]}}])})],1),t._v(" "),a("div",{staticClass:"calc-wrap"},[a("div",{staticClass:"cell"},[a("p",[t._v("本次可分配业绩")]),t._v(" "),a("h3",[t._v("¥ "+t._s(t._f("toThousands")(t.totalPer)))]),t._v(" "),a("p",{staticClass:"sub-text"},[t._v("应分业绩：¥"+t._s(t._f("toThousands")(t.totalIncomePer)))]),t._v(" "),a("p",{staticClass:"sub-text"},[t._v("\n          应扣业绩：- ¥"+t._s(t._f("toThousands")(t.totalOutcomePer))+"\n        ")])]),t._v(" "),a("div",{staticClass:"cell"},[a("p",[t._v("本次应收金额")]),t._v(" "),a("h3",{staticClass:"red"},[t._v("¥ "+t._s(t._f("toThousands")(t.totalPrice)))])])]),t._v(" "),a("div",{staticClass:"distribute-switch"},[a("el-switch",{attrs:{disabled:t.distributeSwitchDisabled,"active-text":"执行实收业绩分配（累计可分配业绩：¥"+t.formatNum(t.totalIncomePer2)+"）"},model:{value:t.formData.distribute,callback:function(e){t.$set(t.formData,"distribute",e)},expression:"formData.distribute"}})],1),t._v(" "),a("el-form",{ref:"form",attrs:{model:t.formData,"label-position":"top"}},[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收款日期",prop:"payDate",rules:[t.rules.required()]}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":t.$disabledFutureDate,type:"date","value-format":"yyyy-MM-dd",placeholder:""},model:{value:t.formData.payDate,callback:function(e){t.$set(t.formData,"payDate",e)},expression:"formData.payDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"收据/发票编号"}},[a("el-input",{model:{value:t.formData.payNo,callback:function(e){t.$set(t.formData,"payNo",e)},expression:"formData.payNo"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"支付方式",required:""}},[a("el-button-group",t._l(t.payWays,(function(e,n){return a("el-button",{key:n,attrs:{type:t.formData.payWay==e.value?"warning":""},on:{click:function(a){return t.handlePayWayClick(e.value)}}},[t._v(t._s(e.label))])})),1)],1),t._v(" "),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:12}},[2==t.formData.payWay?a("el-form-item",{attrs:{label:"收款银行",prop:"bankName"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{change:t.bankChange},model:{value:t.formData.bankName,callback:function(e){t.$set(t.formData,"bankName",e)},expression:"formData.bankName"}},t._l(t.banks,(function(t,e){return a("el-option",{key:e,attrs:{label:t.bankName,value:t.bankName}})})),1)],1):t._e()],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流水号",prop:"serialNo"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.serialNo,callback:function(e){t.$set(t.formData,"serialNo",e)},expression:"formData.serialNo"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[a("el-input",{attrs:{rows:"3",type:"textarea"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item-row",attrs:{label:"图片上传"}},[a("el-upload",{staticClass:"dp-f upload-card-small",attrs:{action:"","auto-upload":!1,"list-type":"picture-card",fileList:t.fileList,"on-change":t.imgChange,"on-remove":t.imgRemove}},[a("i",{staticClass:"el-icon-plus"})])],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确认收款")])],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("91b6"),c=a("2b6d"),u=a("ed08"),d=a("dc70"),p=a("d3b6");function m(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function f(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){m(i,n,s,r,o,"next",t)}function o(t){m(i,n,s,r,o,"throw",t)}r(void 0)}))}}function v(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=h(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function h(t,e){if(t){if("string"===typeof t)return b(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var g={attachs:[],bankName:"",bankNo:"",inIds:[],payDate:Object(u["j"])().toDay,payNo:"",payWay:2,remark:"",distribute:!0,serialNo:""},_={props:{visible:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},data:function(){return{formatNum:u["h"],rules:o["a"].rules,formData:JSON.parse(JSON.stringify(g)),fileList:[],banks:[],totalPer:0,totalIncomePer:0,totalIncomePer2:0,totalOutcomePer:0,totalPrice:0,payWays:[{label:"银行",value:2},{label:"POS机",value:5},{label:"微信",value:4},{label:"支付宝",value:3},{label:"现金",value:1}],distributeSwitchDisabled:!1,income:{}}},watch:{visible:function(t){var e=this;t&&(this.formData=JSON.parse(JSON.stringify(g)),this.$nextTick((function(){e.$refs.form.resetFields()})))},options:{deep:!0,handler:function(t){Number(t.orderId)&&(this.formData.id=t.orderId,this.income={},this.getIncomes(t.orderId),this.getCompanyBankList())}},income:{deep:!0,handler:function(t){var e=t.inComeList||[];this.totalPer=0,this.totalIncomePer=0,this.totalIncomePer2=t.waitPerformance,this.totalOutcomePer=t.totalOutCome-t.outComeDeducted,this.totalPrice=0,this.formData.inIds=[];var a,n=0,s=v(e);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.checked&&(this.totalIncomePer+=i.inAmount,this.totalIncomePer2+=i.inAmount,this.totalPrice+=i.amount,this.formData.inIds.push(i.id)),i.payed&&n++}}catch(r){s.e(r)}finally{s.f()}this.totalIncomePer-this.totalOutcomePer<0&&(this.totalOutcomePer=this.totalIncomePer),this.formData.inIds.length+n==e.length?(this.distributeSwitchDisabled=!0,this.formData.distribute=!0):this.distributeSwitchDisabled=!1,this.totalPer=this.totalIncomePer-this.totalOutcomePer}}},methods:{getIncomes:function(t){var e=this;return f(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["l"])({id:t});case 2:n=a.sent,n&&(e.income=n,e.income.inComeList=e.income.inComeList.map((function(t){return t.rate=Object(p["a"])(t.rate,100),t})));case 4:case"end":return a.stop()}}),a)})))()},getCompanyBankList:function(){var t=this;return f(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["d"])();case 2:a=e.sent,a&&(t.banks=a.map((function(t){var e=t.bankUserNo.slice(-4);return t.bankName+="/尾号".concat(e),t})));case 4:case"end":return e.stop()}}),e)})))()},handlePayWayClick:function(t){this.formData.payWay=t,this.$refs.form.resetFields()},bankChange:function(t){this.formData.bankNo=this.banks.find((function(e){return e.bankName==t})).bankUserNo},close:function(){this.$emit("update:visible",!1)},submitForm:function(){var t=this;this.$refs.form.validate(function(){var e=f(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}if(t.formData.inIds.length){e.next=4;break}return t.$showError("请选择收款项目"),e.abrupt("return");case 4:return n=t.$cloneObj(t.formData),2!==n.payWay?(delete n.bankName,delete n.bankNo):n.bankName=n.bankName.split("/尾号")[0],e.next=8,Object(c["e"])(n);case 8:s=e.sent,s&&(t.$showSuccess("操作成功"),t.$emit("reRequest"),t.close());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},imgChange:function(t,e){var a=this;return f(r.a.mark((function n(){var s;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,l["a"]({uploadType:"storefee",file:t.raw});case 2:s=n.sent,s?a.formData.attachs.push({fileUrl:s[0].fileUrl}):e.pop();case 4:case"end":return n.stop()}}),n)})))()},imgRemove:function(t){var e=this.fileList.findIndex((function(e){return e.uid==t.uid}));this.formData.attachs.splice(e,1)}}},y=_,w=(a("fb15"),a("68d1"),a("2877")),C=Object(w["a"])(y,n,s,!1,null,"6696392a",null);e["default"]=C.exports},db49:function(t,e,a){"use strict";var n={routeSetting:{liulan:"liulan"},config:{bool:[{value:!0,label:"是"},{value:!1,label:"否"}],sexes:[{name:"未知",id:0},{name:"男",id:1},{name:"女",id:2}],genderList:[{name:"先生",id:1},{name:"女士",id:2}],payWay:{1:"现金",2:"银行",3:"支付宝",4:"微信",5:"POS机"},orderStatus:{10:{name:"待审核",color:"red"},0:{name:"被驳回",color:"pink"},15:{name:"待收款",color:"orange"},16:{name:"部分收款",color:"orange"},20:{name:"已结单",color:"color3"},100:{name:"已关闭",color:"color9"}},propertyTypes:["住房","商住","别墅","写字楼","商铺"],openDays:[{value:"",label:"全部"},{value:0,label:"最近开盘"},{value:7,label:"最近7天"},{value:15,label:"最近15天"},{value:30,label:"最近30天"},{value:90,label:"最近3个月"}],saleStatusList:[{value:"",label:"全部"},{value:1,label:"待售"},{value:2,label:"即将开盘"},{value:3,label:"在售"},{value:4,label:"下期待开"},{value:5,label:"已售罄"}],suitableOperations:["餐饮美食","服饰鞋包","休闲娱乐","美容美发","生活服务","百货超市","酒店宾馆","家居建材"],decorations:["毛坯","简装","普装","精装","豪装"],orientations:["东","南","西","北","东北","西北","东南","西南"],propertyRightLimits:["40年","50年","70年"],propertyRightTypes:["商品房","经济适用房","已购公房","央产房","其他"],houseLevels:["A级","B级","C级"],houseAges:["不满两年","满两年","满五年"],reportStatusList:["待审报备","已审报备","报备失败","有效客户","无效客户","已成交"],houseStatusList:[{value:"空闲"},{value:"出租中"},{value:"自住"}],expectSaleCycleList:[{value:"越快越好"},{value:"观望，价格合适再出售"}],routineHouseViewTimeList:[{value:"周一",label:"周一",children:[{value:"上午",label:"上午"},{value:"中午",label:"中午"},{value:"下午",label:"下午"},{value:"晚上",label:"晚上"}]},{value:"周二",label:"周二",children:[{value:"上午",label:"上午"},{value:"中午",label:"中午"},{value:"下午",label:"下午"},{value:"晚上",label:"晚上"}]},{value:"周三",label:"周三",children:[{value:"上午",label:"上午"},{value:"中午",label:"中午"},{value:"下午",label:"下午"},{value:"晚上",label:"晚上"}]},{value:"周四",label:"周四",children:[{value:"上午",label:"上午"},{value:"中午",label:"中午"},{value:"下午",label:"下午"},{value:"晚上",label:"晚上"}]},{value:"周五",label:"周五",children:[{value:"上午",label:"上午"},{value:"中午",label:"中午"},{value:"下午",label:"下午"},{value:"晚上",label:"晚上"}]},{value:"周六",label:"周六",children:[{value:"上午",label:"上午"},{value:"中午",label:"中午"},{value:"下午",label:"下午"},{value:"晚上",label:"晚上"}]},{value:"周日",label:"周日",children:[{value:"上午",label:"上午"},{value:"中午",label:"中午"},{value:"下午",label:"下午"},{value:"晚上",label:"晚上"}]}],payRequireList:[{value:"全款"},{value:"接受贷款"}],householdStatusList:[{value:"有户口,可迁出"},{value:"无户口"}],sellReasonList:[{value:"变现换钱"},{value:"改善居住条件"},{value:"急等用钱"},{value:"置换新房"}],customerLevels:[{value:2,label:"一星(普通)"},{value:3,label:"二星(优质)"},{value:4,label:"三星(精准)"}],customerDemands:[{value:1,label:"二手房求购"},{value:2,label:"新房求购"},{value:3,label:"求租"}],auditStatusList:["待审报备","已审报备","报备失败"],marryStatusList:["未婚","已婚","离异"],marryStatusList2:[{label:"未婚",value:1},{label:"已婚",value:2},{label:"离异",value:3},{label:"其他",value:4}],mortgageStatusList:["有抵押","无抵押"],priceLimit:[{value:"0-40",label:"40万以下"},{value:"60-80",label:"60-80万"},{value:"80-100",label:"80-100万"},{value:"100-150",label:"100-150万"},{value:"150-200",label:"150-200万"},{value:"200-300",label:"200-300万"},{value:"300-1000000000",label:"300万以上"}],buildingAreaLimit:[{value:"0-50",label:"50㎡以下"},{value:"50-70",label:"50-70㎡"},{value:"70-90",label:"70-90㎡"},{value:"90-110",label:"90-110㎡"},{value:"110-130",label:"110-130㎡"},{value:"130-150",label:"130-150㎡"},{value:"150-200",label:"150-200㎡"},{value:"200-1000000",label:"200㎡以上"}],floorNumberLimit:[{value:"0-6",label:"6层以下"},{value:"6-12",label:"6-12层"},{value:"12-18",label:"12-18层"},{value:"18-1000",label:"18层以上"}],houseStatus:["有效","封盘","暂缓","预订","内成交","外成交"],roomNum:["一室","二室","三室","四室","四室以上"],dealStatus:["待结佣","部分结佣","已结佣","已关闭","待审业绩"],performanceTypes:["客源成交人","客源合作人","项目方抽成"],commissionStatusList:["待结佣","部分结佣","已结佣"],communityScopeList:["我关注的"],communityStatusList:["草稿","待审核","被驳回"],waterUseTypeList:["民用水","商用水"],heatingTypeList:["自采暖","小区集中供暖","市政供暖"],electricityTypeList:["民用电","商用电"],buildingStructureList:["混凝土结构","钢结构","木结构","砌体结构"],buildingTypeList:["多层","小高层","高层","超高层","花园洋房","独栋别墅","双拼别墅","联排别墅","三拼别墅","叠加别墅","四合院","板楼","塔楼","楼塔组合"],communityOfferStatusList:[{label:"未报盘",value:1},{label:"在售",value:2},{label:"封盘",value:3},{label:"无效",value:4},{label:"已成交",value:5}],invalidReasonList:["暂缓","内成交","外成交","信息有误","其他"],keyList:["实体钥匙","电子钥匙"],windowTypeList:["未知窗户类型","落地窗","普通窗","飘窗","无窗"],educationList:[{label:"大专统招",value:1},{label:"大专非统招",value:2},{label:"本科统招",value:3},{label:"本科非统招",value:4},{label:"高中/中专",value:5},{label:"硕士",value:6},{label:"研究生",value:7},{label:"博士",value:8},{label:"其他",value:9}],workingStatus:{PENDING:{label:"待入职",color:"orange"},INCUMBENCY_FORMAL:{label:"正式",color:"green"},EXPERIENCE:{label:"体验",color:"pink"},LEAVE:{label:"离职",color:"gray"},INCUMBENCY_INTERNSHIP:{label:"试用期",color:"color6"}},workingStatus2:[{label:"离职",value:"LEAVE"},{label:"待入职",value:"PENDING"},{label:"正式",value:"INCUMBENCY_FORMAL"},{label:"试用期",value:"INCUMBENCY_INTERNSHIP"},{label:"体验",value:"EXPERIENCE"}],workingStatus3:{0:"LEAVE",1:"INCUMBENCY",2:"PENDING",3:"EXPERIENCE"},scope:[{label:"全部房源",value:""},{label:"分销楼盘",value:"1"},{label:"我关注的",value:"2"}],houseType:[{label:"一室",value:1},{label:"二室",value:2},{label:"三室",value:3},{label:"四室",value:4},{label:"四室以上",value:5}],averagePriceRange:["8000以下","8000-10000","10000-15000","15000-20000","20000-30000","30000以上"],commissionRange:["2%以下","2%-3%","3%-4%","4%-5%","5%-6%","6%-7%","7%-8%","8%-9%","9%以上"],areaRange:["50㎡以下","50-70㎡","70-90㎡","90-110㎡","110-130㎡","130-150㎡","150-200㎡","200㎡以上"]},rules:{required:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"不能为空";return{required:!0,trigger:["blur","change"],message:t}},number:{message:"必须为正数",pattern:/^\d*(\.\d*)?$/,trigger:"blur"},int:{message:"必须为整数",pattern:/^\d*$/,trigger:"blur"},tel:{pattern:/^1\d{10}$/,message:"目前只支持中国大陆的手机号码",trigger:"blur"},phone:{pattern:/^\d{3}-\d{8}|^\d{4}-\d{7}|^1\d{10}$/,message:"输入正确手机或座机号码",trigger:"blur"},tel2:{pattern:/^(1\d{10}|1\d{6}\*{4}|1\d{2}\*{4}\d{4})$/,message:"目前只支持中国大陆的手机号码",trigger:"blur"},m0m29:{message:"范围0-99整数",pattern:/^\d{0,2}$/,trigger:"blur"},m0m29p2:{message:"范围0-99.99,仅保留两位小数",pattern:/^\d{0,2}?(\.\d{0,2})?$/,trigger:"blur"},m0m69:{message:"范围0-999999整数",pattern:/^\d{0,6}$/,trigger:"blur"},m0m69p2:{message:"范围0-999999.99,仅保留两位小数",pattern:/^\d{0,6}?(\.\d{0,2})?$/,trigger:"blur"},m0m89p2:{message:"范围0-99999999.99,仅保留两位小数",pattern:/^\d{0,8}?(\.\d{0,2})?$/,trigger:"blur"},m0m100p2:{message:"范围0-100.00,仅保留两位小数",pattern:/^(\d|[1-9]\d|100)(\.\d{1,2})?$/,trigger:"blur"},dnl3:{message:"1-6位字母或者数字",pattern:/^[a-zA-Z0-9]{1,3}$/,trigger:"blur"},dnl6:{message:"1-6位字母或者数字",pattern:/^[a-zA-Z0-9]{1,3}$/,trigger:"blur"},d6:{message:"请输入6位验证码",pattern:/^\d{6}$/,trigger:"blur"},idNum:{message:"身份证号格式不对",pattern:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,trigger:"blur"},bankNum:{message:"银行卡号格式不对",pattern:/^([1-9]{1})([\d\s]{14,24})$/,trigger:"blur"}}};e["a"]=n},dc23:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dao-box"},[a("div",{staticClass:"role"},[a("div",{staticClass:"role-title fs18 color3"},[t._v("\n      设置房源角色人权限\n    ")]),t._v(" "),a("el-table",{staticClass:"house-role-settings-table",attrs:{data:t.tableData,"span-method":t.tableSpanMethod}},[a("el-table-column",{attrs:{label:"业务板块",prop:"title",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"功能点",prop:"description",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"权限",align:"center"}},t._l(t.roleTypesList,(function(e,n){return a("el-table-column",{key:n,attrs:{label:e.description,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{on:{change:function(a){return t.permissionChange(e.row,n,e.$index)}},model:{value:e["row"]["roleType"+n],callback:function(a){t.$set(e["row"],"roleType"+n,a)},expression:"scope['row'][`roleType${index}`]"}})]}}],null,!0)})})),1)],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("c24f");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){u(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function d(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=p(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function p(t,e){if(t){if("string"===typeof t)return m(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function f(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function v(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){f(i,n,s,r,o,"next",t)}function o(t){f(i,n,s,r,o,"throw",t)}r(void 0)}))}}var h={data:function(){return{roleTypesList:[],tableData:[],formData:{resourceType:null,roleType:null,roleAction:null,authorize:null}}},created:function(){this.getTableData()},methods:{getTableData:function(){var t=this;return v(r.a.mark((function e(){var a,n,s,i,l,u,p;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["j"])();case 2:if(a=e.sent,a){t.tableData=[],t.roleTypesList=a.roleTypesList,n=d(a.moduleVoList);try{for(n.s();!(s=n.n()).done;){i=s.value,l=d(i.functionPointVoList);try{for(l.s();!(u=l.n()).done;)p=u.value,t.tableData.push(c({title:i.description},p))}catch(r){l.e(r)}finally{l.f()}}}catch(r){n.e(r)}finally{n.f()}t.tableData=t.tableData.map((function(t){for(var e in t.authorizedMap)t["roleType".concat(e)]=t.authorizedMap[e];return delete t.authorizedMap,t}))}case 4:case"end":return e.stop()}}),e)})))()},tableSpanMethod:function(t){var e=t.row,a=t.rowIndex,n=t.columnIndex;if(0!=n)return{rowspan:1,colspan:1};var s,i=0,r=d(this.tableData);try{for(r.s();!(s=r.n()).done;){var o=s.value;e.title==o.title&&i++}}catch(l){r.e(l)}finally{r.f()}return 1==i?{rowspan:1,colspan:1}:i>1?this.tableData[a-1]&&this.tableData[a].title==this.tableData[a-1].title?{owspan:0,colspan:0}:{rowspan:i,colspan:1}:void 0},permissionChange:function(t,e){var a=this;return v(r.a.mark((function n(){var s,i,l;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.resourceType,i=t.roleAction,a.formData.resourceType=s,a.formData.roleAction=i,a.formData.roleType=e,a.formData.authorize=t["roleType".concat(e)],n.next=7,Object(o["i"])(a.formData);case 7:l=n.sent,l&&(a.$showSuccess("操作成功"),a.getTableData());case 9:case"end":return n.stop()}}),n)})))()}}},b=h,g=(a("2026"),a("0b62"),a("2877")),_=Object(g["a"])(b,n,s,!1,null,"4c6b0ff0",null);e["default"]=_.exports},dc43:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-customer-phone"},[a("el-form",{ref:"form",attrs:{model:t.formData,rules:t.subRules[0]}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"客户姓名",prop:"customerName"}},[a("el-input",{staticClass:"input-group",attrs:{size:"small",placeholder:"请输入客户姓名",disabled:""},model:{value:t.formData.customerName,callback:function(e){t.$set(t.formData,"customerName",e)},expression:"formData.customerName"}},[a("el-select",{attrs:{slot:"append",disabled:"",placeholder:"请选择"},slot:"append",model:{value:t.formData.gender,callback:function(e){t.$set(t.formData,"gender",e)},expression:"formData.gender"}},[a("el-option",{attrs:{label:"先生",value:1}}),t._v(" "),a("el-option",{attrs:{label:"女士",value:2}})],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"客户电话",prop:"customerCellphone"}},[a("el-input",{attrs:{type:"number",size:"small",placeholder:"请输入客户电话"},model:{value:t.formData.customerCellphone,callback:function(e){t.$set(t.formData,"customerCellphone",e)},expression:"formData.customerCellphone"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:" "}},[a("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-plus"},on:{click:t.addPhone}},[t._v("添加备用电话")])],1)],1)],1)],1),t._v(" "),t._l(t.formData.spareCellphones,(function(e,n){return a("el-form",{key:n,ref:"subForm",refInFor:!0,attrs:{model:e,rules:t.subRules[n]}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"客户姓名",prop:"customerName"}},[a("el-input",{staticClass:"input-group",attrs:{size:"small",placeholder:"请输入客户姓名"},model:{value:e.customerName,callback:function(a){t.$set(e,"customerName",a)},expression:"item.customerName"}},[a("el-select",{attrs:{slot:"append",placeholder:"请选择"},slot:"append",model:{value:e.gender,callback:function(a){t.$set(e,"gender",a)},expression:"item.gender"}},[a("el-option",{attrs:{label:"先生",value:1}}),t._v(" "),a("el-option",{attrs:{label:"女士",value:2}})],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"客户电话",prop:"customerCellphone"}},[a("el-input",{attrs:{type:"number",size:"small",placeholder:"请输入客户电话"},model:{value:e.customerCellphone,callback:function(a){t.$set(e,"customerCellphone",a)},expression:"item.customerCellphone"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:" "}},[a("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(e){return t.removePhone(n)}}})],1)],1)],1)],1)})),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("保 存")])],1)],2)},s=[],i=a("a34a"),r=a.n(i),o=a("61f7"),l=a("f6b0");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}function d(t){return h(t)||v(t)||m(t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(t,e){if(t){if("string"===typeof t)return f(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function v(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return t}var b={props:{options:{type:Object,default:function(){return{}}}},watch:{show:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.form.resetFields(),e.$refs.subForm&&e.$refs.subForm.forEach((function(t){t.resetFields()}))}))},options:{immediate:!0,handler:function(t){if(this.formData=JSON.parse(JSON.stringify(t)),this.formData.spareCellphones.length>1)for(var e=1;e<this.formData.spareCellphones.length;e++){var a=d(this.subRules),n=a.slice(0);this.subRules.push(n[0])}}}},data:function(){return{formData:{customerId:"",customerCellphone:"",customerName:"",gender:"",spareCellphones:[]},subRules:[{customerCellphone:[{required:!0,trigger:"blur",validator:o["a"].phone}],customerName:[{required:!0,trigger:"blur",message:"请输入客户姓名"}]}]}},methods:{close:function(){this.$emit("close",!0)},addPhone:function(){var t=d(this.subRules),e=t.slice(0);this.formData.spareCellphones.push({customerCellphone:"",customerName:"",gender:1}),this.subRules.push(e[0])},removePhone:function(t){this.formData.spareCellphones.splice(t,1),this.subRules.splice(t,1)},submitForm:function(){var t=this;return u(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!0,n=!0,e.next=4,t.$refs.form.validate((function(t){a=t}));case 4:return e.next=6,t.$refs.subForm;case 6:if(e.t0=e.sent,!e.t0){e.next=9;break}t.$refs.subForm.forEach((function(t){t.validate((function(t){n=t}))}));case 9:if(a&&n){e.next=11;break}return e.abrupt("return");case 11:Object(l["b"])(t.formData).then((function(e){e&&(t.$showSuccess("更改成功"),t.close())}));case 12:case"end":return e.stop()}}),e)})))()}}},g=b,_=(a("9b7c"),a("2877")),y=Object(_["a"])(g,n,s,!1,null,null,null);e["default"]=y.exports},dc70:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return o}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/company/bank/create",method:"post",data:t})}function i(){return Object(n["a"])({url:"/api/v1/fm/company/bank/list",method:"get"})}function r(t,e){return Object(n["a"])({url:"/api/v1/fm/company/bank/".concat(e),method:"put",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/company/bank/".concat(t),method:"delete"})}},dc75:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.showPage?n("div",{staticClass:"wrap"},[n("div",{staticClass:"container"},[n("div",{staticClass:"page-bg",style:{backgroundImage:"url("+a("2c81")+")"}}),t._v(" "),n("div",{staticClass:"shortcut"},[n("el-button",{attrs:{size:"small",type:"default"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回上一页")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.$navigateTo("/Login")}}},[t._v("登录")])],1)])]):t._e()])},s=[],i={data:function(){return{showPage:!1,timer:null}},created:function(){var t=this;this.timer=setTimeout((function(){t.showPage=!0,clearTimeout(t.timer)}),500)}},r=i,o=(a("5ad5"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"eee613de",null);e["default"]=l.exports},dc96:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"line"},[a("div")])}],i=(a("f041"),a("2877")),r={},o=Object(i["a"])(r,n,s,!1,null,"e2609534",null);e["default"]=o.exports},dcd0:function(t,e,a){},dda0:function(t,e,a){"use strict";var n=a("560a"),s=a.n(n);s.a},dda9:function(t,e,a){},ddcd:function(t,e,a){},de62:function(t,e,a){},deaf:function(t,e,a){},dee5:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"performanceReceivable"},[a("div",{staticClass:"head"},[a("div",{staticClass:"filtrator"},[a("el-input",{staticClass:"search-input",staticStyle:{"margin-right":"0",width:"220px"},attrs:{placeholder:"成单号","prefix-icon":"el-icon-search",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.query.orderCode,callback:function(e){t.$set(t.query,"orderCode",e)},expression:"query.orderCode"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("\n        搜索\n      ")]),t._v(" "),a("el-select",{attrs:{placeholder:"选择月",size:"small"},on:{change:t.search},model:{value:t.query.month,callback:function(e){t.$set(t.query,"month",e)},expression:"query.month"}},t._l(t.dateList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),t._v(" "),a("el-cascader",{ref:"nodeTree",attrs:{clearable:"",options:t.storegrouptree,props:{value:"nodeId",label:"name",emitPath:!1,checkStrictly:!0},placeholder:"部门/门店/员工",size:"small"},on:{change:t.nodeChange},model:{value:t.query.nodeId,callback:function(e){t.$set(t.query,"nodeId",e)},expression:"query.nodeId"}})],1),t._v(" "),a("div",{staticClass:"operator"},[a("div",{on:{click:t.exportExcel}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"export"}}),t._v(" "),a("span",[t._v("导出Excel")])],1)])]),t._v(" "),a("div",{staticClass:"content"},[a("h2",{staticClass:"title"},[t._v("实收业绩明细")]),t._v(" "),a("div",{staticClass:"base-info flex"},[a("p",[a("span",[t._v("统计范围：")]),t._v(t._s(t.nodeName))]),t._v(" "),a("p",[a("span",[t._v("收益月：")]),t._v(t._s(t._f("toDate")(t.query.month)))])]),t._v(" "),a("el-table",{attrs:{size:"small",data:t.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"50px",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"业务类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.performanceKind))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"成单号"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"blue pointer",on:{click:function(a){return t.toDetail(e.row)}}},[t._v("\n          "+t._s(t._f("toNull")(e.row.orderCode))+"\n        ")])}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"科目名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.performanceName))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"业绩类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.performanceTypeStr))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"员工姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.agentUserName))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"部门/门店"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.storeName))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"收益日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("toNull")(e.row.dealDate))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"比例"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s((100*e.row.distributeRate).toFixed(2))+"%\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"实收业绩",width:"135px"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{staticClass:"x2 aic"},[t._v("\n          ¥"+t._s(t._f("toNull")(t._f("toThousands")(e.row.performanceAmount)))+"\n        ")])}}])})],1),t._v(" "),a("div",{staticClass:"total x aic"},[a("div",{staticClass:"flex1 x1 aic bold"},[t._v("\n        合计（共"+t._s(t.countAndTotal.count)+"条）\n      ")]),t._v(" "),a("div",{staticClass:"amount x2 aic bold"},[t._v("\n        ¥"+t._s(t._f("toThousands")(t.countAndTotal.totalAmount))+"\n      ")])]),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{"current-page":t.query.pageNum,background:"","page-size":t.query.pageSize,layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页",total:t.total},on:{"update:currentPage":function(e){return t.$set(t.query,"pageNum",e)},"update:current-page":function(e){return t.$set(t.query,"pageNum",e)},"current-change":t.handleCurrentChange}})],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("2b6d"),l=a("b383"),c=a.n(l);function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={data:function(){return{query:{month:null,nodeId:"",orderCode:"",pageNum:1,pageSize:10},total:0,tableData:[],countAndTotal:{},storegrouptree:[],dateList:[],nodeName:"全部"}},filters:{toDate:function(t){var e=String(t),a="";return t&&(a=e.slice(0,4)+"年"+e.slice(4)+"月"),a},toNull:function(t){return t||"-"}},created:function(){this.getStoregrouptree(),this.getPerformanceReceiveMonth()},methods:{getPerformanceReceiveMonth:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["s"])();case 2:a=e.sent,t.dateList=a||[],t.query.month=t.dateList[0].id,t.getPerformanceReceiveDetailList();case 6:case"end":return e.stop()}}),e)})))()},getPerformanceReceiveDetailList:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["r"])(t.query);case 2:a=e.sent,a&&(n=a.countAndTotal,s=a.page,i=s.list,l=s.total,t.countAndTotal=n,t.total=l,t.tableData=i);case 4:case"end":return e.stop()}}),e)})))()},getStoregrouptree:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["v"])();case 2:a=e.sent,a&&(t.storegrouptree=a);case 4:case"end":return e.stop()}}),e)})))()},nodeChange:function(){var t=this.$refs["nodeTree"].getCheckedNodes(),e="全部";t.length&&(e=t[0].data.name),this.nodeName=e,this.search()},exportPDF:function(){var t=this;this.showPrintDom=!0,this.$nextTick((function(){t.getPDF("#performanceReceivable","门店费用支出汇总表"),t.showPrintDom=!1}))},handleCurrentChange:function(t){this.query.pageNum=t,this.getPerformanceReceiveDetailList()},search:function(){this.query.pageNum=1,this.getPerformanceReceiveDetailList()},toDetail:function(t){this.$navigateTo("/work/business/newHouse/dealDetail/".concat(t.orderId))},exportExcel:function(){var t="".concat(window.baseURL,"/api/v1/fm/performance/manage/PerformanceReceiveDetailList/export"),e=c.a.stringify(this.query);window.location.href="".concat(t,"?").concat(e)}}},m=p,f=(a("a827"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"d0a8517e",null);e["default"]=v.exports},df26:function(t,e,a){},df8e:function(t,e,a){"use strict";var n=a("f9da"),s=a.n(n);s.a},df95:function(t,e,a){},e020:function(t,e,a){"use strict";var n=a("1bcc"),s=a.n(n);s.a},e097:function(t,e,a){},e099:function(t,e,a){"use strict";var n=a("0e73"),s=a.n(n);s.a},e196:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})},s=[],i=a("a34a"),r=a.n(i),o=a("164e"),l=a.n(o),c=a("9754");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{className:{type:String,default:"my-chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},data:function(){return{chart:null,Abscissa:[],ShCenterAll:[],ShCountAll:[],ShNewCityAll:[]}},created:function(){this.getDealVolumeByHistory()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{getDealVolumeByHistory:function(){var t=this;return d(r.a.mark((function e(){var a,n,s,i,o,l;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={QueryDealType:2,QueryDealTimeType:1},e.next=3,Object(c["b"])(a);case 3:n=e.sent,s=n.Abscissa,i=n.ShCenterAll,o=n.ShCountAll,l=n.ShNewCityAll,s=s.map((function(t){return t+"月"})),t.Abscissa=s.reverse(),t.ShCenterAll=i.reverse(),t.ShCountAll=o.reverse(),t.ShNewCityAll=l.reverse(),t.initChart();case 11:case"end":return e.stop()}}),e)})))()},initChart:function(){var t=this.Abscissa,e=this.ShCenterAll,a=this.ShCountAll,n=this.ShNewCityAll;this.chart=l.a.init(document.getElementById(this.id));var s={tooltip:{trigger:"axis"},color:["#5AC54F","#9C7AF1","#28C0FF"],legend:{data:["全市","中心城市","郊区新城"],x:"right",y:"top"},grid:{left:"0",right:"1%",bottom:"0",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t,axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#cccccc"}}},yAxis:{type:"value",axisLabel:{textStyle:{color:"#666666"}},axisLine:{show:!0,lineStyle:{color:"#ffffff"}},splitLine:{show:!0,lineStyle:{color:"#cccccc",width:1,type:"solid"}}},series:[{name:"全市",type:"line",smooth:!0,showSymbol:!1,data:a,lineStyle:{normal:{color:"#5AC54F"}}},{name:"中心城市",type:"line",smooth:!0,showSymbol:!1,data:e,lineStyle:{normal:{color:"#9C7AF1"}}},{name:"郊区新城",type:"line",smooth:!0,showSymbol:!1,data:n,lineStyle:{normal:{color:"#28C0FF"}}}]};this.chart.setOption(s)}}},m=p,f=a("2877"),v=Object(f["a"])(m,n,s,!1,null,null,null);e["default"]=v.exports},e24e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"head"},[a("div",{staticClass:"fm-title20 x aic"},[a("h2",[t._v(t._s(t.company.companyName))]),t._v(" "),a("span",{directives:[{name:"permit",rawName:"v-permit",value:t.bjgs,expression:"bjgs"}],staticClass:"blue fs14 pointer",staticStyle:{"margin-left":"50px"},on:{click:t.editCompany}},[t._v("\n        [编辑公司]\n      ")])]),t._v(" "),a("div",{staticClass:"tips"},[a("p",[t._v("由 "+t._s(t.company.createUserName)+" 于 "+t._s(t.company.createDate)+" 创建")]),t._v(" "),a("p",[t._v("\n        联系人："+t._s(t.company.contacterName)+"，"+t._s(t._f("formatPhone")(t.company.contacterPhone))+"\n      ")])]),t._v(" "),a("div",{staticClass:"bg-img"},[a("img",{attrs:{src:t.bgImg}})])]),t._v(" "),a("el-tabs",{staticClass:"store-cost-tabs",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t._l(t.tabs,(function(e,n){return[a("el-tab-pane",{key:n,attrs:{label:e.value,name:""+(n+1)}},["subordinate"==e.key?a("subordinate"):t._e()],1)]}))],2),t._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"close-on-click-modal":!1,title:"编辑公司",visible:t.showDialog,width:"500px"},on:{"update:visible":function(e){t.showDialog=e}}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"公司名称",prop:"companyName",rules:[t.formRules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.companyName,callback:function(e){t.$set(t.formData,"companyName",e)},expression:"formData.companyName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"品牌LOGO",prop:"logo"}},[a("div",{staticClass:"logo",style:"background-image: url("+t.formData.logoUrl+")"},[a("div",{staticClass:"height",class:{mask:!!t.formData.logoUrl}},[a("el-upload",{ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",accept:"image/*",data:t.uploadData,"on-progress":function(){t.loading=!0},"on-success":t.upload,"show-file-list":!1}},[a("el-button",{staticClass:"upload-btn"},[t._v("\n                "+t._s(t.formData.logoUrl?"重新上传":"立即上传")+"\n              ")])],1)],1)]),t._v(" "),a("p",{staticClass:"color9"},[t._v("建议宽度不超过130px，高度不超过30px；")])]),t._v(" "),a("el-form-item",{attrs:{label:"联系人",prop:"contacterName",rules:[t.formRules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.contacterName,callback:function(e){t.$set(t.formData,"contacterName",e)},expression:"formData.contacterName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"联系电话",prop:"contacterPhone",rules:[t.formRules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.contacterPhone,callback:function(e){t.$set(t.formData,"contacterPhone",e)},expression:"formData.contacterPhone"}})],1)],1),t._v(" "),a("div",{staticClass:"x2"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("保存")])],1)],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("fcac"),l=a("733a"),c=a("6333"),u=a.n(c),d=a("db49");function p(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){p(i,n,s,r,o,"next",t)}function o(t){p(i,n,s,r,o,"throw",t)}r(void 0)}))}}var f={components:{subordinate:l["default"]},data:function(){return{bgImg:u.a,formRules:d["a"].rules,activeName:"1",tabs:[{key:"subordinate",value:"旗下门店"}],loading:!1,showDialog:!1,formData:{},company:{}}},computed:{baseURL:function(){return window.baseURL},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},uploadData:function(){var t=this.token,e=this.userId;return{token:t,userId:e}}},created:function(){this.userBelongCompanyBasicInfo()},methods:{getTab:function(t){this.activeName=t},userBelongCompanyBasicInfo:function(){var t=this;return m(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["d"])();case 2:a=e.sent,t.company=a;case 4:case"end":return e.stop()}}),e)})))()},editCompany:function(){this.showDialog=!0,this.formData=JSON.parse(JSON.stringify(this.company))},upload:function(t){this.loading=!1;var e=t.data[0];this.formData.logoUrl=e.fileUrl},submitForm:function(){var t=this;this.$refs.form.validate(function(){var e=m(r.a.mark((function e(a){var n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return delete t.formData.createDate,e.next=5,Object(o["a"])(t.formData);case 5:n=e.sent,n&&(t.userBelongCompanyBasicInfo(),t.showDialog=!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},v=f,h=(a("3073"),a("67b8"),a("2877")),b=Object(h["a"])(v,n,s,!1,null,"0110850c",null);e["default"]=b.exports},e284:function(t,e,a){},e2d2:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wage-card",class:{isView:t.isView}},[a("el-form",{ref:"form",staticClass:"body",attrs:{model:t.formData}},[a("el-form-item",{staticClass:"item",attrs:{prop:"bankName",rules:[t.rules.required()]}},[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("开户银行")]),t._v(" "),a("span",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:t.formData.bankName,callback:function(e){t.$set(t.formData,"bankName",e)},expression:"formData.bankName"}})],1)])]),t._v(" "),a("el-form-item",{staticClass:"item",attrs:{prop:"accountName",rules:[t.rules.required()]}},[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("开户名")]),t._v(" "),a("span",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入",disabled:t.isView},model:{value:t.formData.accountName,callback:function(e){t.$set(t.formData,"accountName",e)},expression:"formData.accountName"}})],1)])]),t._v(" "),a("el-form-item",{staticClass:"item",attrs:{prop:"cardNumber",rules:[t.rules.required(),t.rules.bankNum]}},[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("银行卡号")]),t._v(" "),a("span",{staticClass:"td"},[a("el-input",{attrs:{maxlength:"24",placeholder:"0000 0000 0000 0000",disabled:t.isView},on:{input:function(e){return t.strFormat()}},model:{value:t.formData.cardNumber,callback:function(e){t.$set(t.formData,"cardNumber",e)},expression:"formData.cardNumber"}})],1)])]),t._v(" "),a("el-form-item",{staticClass:"item",attrs:{prop:"cardFace",rules:[t.rules.required()]}},[a("div",{staticClass:"cell required"},[a("span",{staticClass:"th"},[t._v("银行卡正面照")]),t._v(" "),a("span",{staticClass:"td"},[a("div",{staticClass:"ml15"},[t.formData.cardFace?a("i",{staticClass:"link-btn",attrs:{type:"preview",resourceMap:t.formData.cardFace,src:t.formData.cardFace}},[t._v("查看图片")]):a("i",[t._v("未上传")]),t._v(" "),t.isView?t._e():a("el-upload",{ref:"upload",staticClass:"upload",attrs:{accept:"image/*","on-change":t.handleUploadChange,"auto-upload":!1}},[t.formData.cardFace?a("i",{staticClass:"link-btn"},[t._v("重新上传")]):a("i",{staticClass:"link-btn"},[t._v("立即上传")])])],1)])])])],1),t._v(" "),t.$own(t.authActions,"glygda")&&t.isView||t.isMine&&t.isFirst&&t.isView?a("div",{staticClass:"btn-group"},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){t.isView=!1}}},[a("svg-icon",{attrs:{"icon-class":"follow-up"}}),t._v(" "),a("span",[t._v("编辑")])],1)],1):t._e(),t._v(" "),t.isView?t._e():a("div",{staticClass:"mt20",class:[t.isRegPage?"":"btn-group"]},[t.isRegPage?t._e():a("el-button",{attrs:{size:"small"},on:{click:function(e){t.isView=!0}}},[t._v("取消")]),t._v(" "),a("el-button",{class:[t.isRegPage?"w170":""],attrs:{type:"primary",size:t.isRegPage?"":"small"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),t.isShowSkip&&t.isRegPage?a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("fulfill","isFinishCard")}}},[t._v("跳过")]):t._e()],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("91b6"),c=a("e60e");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={props:{isMine:{type:Boolean,default:!0}},data:function(){return{isShowSkip:!0,rules:o["a"].rules,isView:!0,formData:{accountName:"",bankName:"",cardFace:"",cardNumber:"",userId:null},isFirst:!1}},computed:{userId:function(){return this.$route.params.id||this.$store.state.settings.userInfo.userId},isRegPage:function(){return"/enrollment"==this.$route.path},authActions:function(){return this.$route.meta.authActions||[]}},created:function(){this.initData(),this.getWageCard(),this.isView=!this.isRegPage},methods:{initData:function(){this.formData.userId=this.userId},strFormat:function(){this.formData.cardNumber=this.formData.cardNumber.replace(/\s/g,"").replace(/[^\d]/g,"").replace(/(\d{4})(?=\d)/g,"$1 ")},handleUploadChange:function(t){var e=this;return d(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["a"])({uploadType:"files",file:t.raw});case 2:n=a.sent,n&&(e.formData.cardFace=n[0].fileUrl);case 4:case"end":return a.stop()}}),a)})))()},getWageCard:function(){var t=this;return d(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["j"])(t.userId);case 2:a=e.sent,a&&a.accountName?(t.isShowSkip=!1,t.formData=t.$cloneObj(a)):t.isFirst=!0;case 4:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;this.$refs.form.validate(function(){var e=d(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=t.isShowSkip?c["d"]:c["l"],e.next=5,n({userSalaryCardVo:t.formData});case 5:s=e.sent,s&&(t.$showSuccess("保存成功"),t.$emit("fulfill","isFinishCard"),t.getWageCard(),t.isShowSkip=!1,t.isRegPage||(t.isView=!0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},m=p,f=(a("aed4"),a("aa10"),a("2877")),v=Object(f["a"])(m,n,s,!1,null,"4daf10e2",null);e["default"]=v.exports},e31e:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fyb/dict/sites",method:"post",data:t})}var i=function(t){return Object(n["a"])({url:"/api/v1/fyb/dict/areas",data:t})}},e405:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"window2-box"},[a("div",{staticClass:"pd20 mb20"},[a("p",{staticClass:"flex-between h5 bd3-b"},[a("span",{staticClass:"color9"},[t._v("钥匙信息")]),t._v(" "),a("span",[t._v("\n          "+t._s(t.keyInfo.keyTypeStr)+"\n          "),1==t.keyType?[t._v("\n            (编号"+t._s(t.keyInfo.keyCode)+")\n          ")]:t._e()],2)]),t._v(" "),a("p",{staticClass:"flex-between h5 bd3-b mb10"},[a("span",{staticClass:"color9"},[t._v("钥匙人")]),t._v(" "),a("span",[t._v(t._s(t.keyInfo.keyUserInfo))])]),t._v(" "),a("div",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"借用钥匙理由"},model:{value:t.borrowReason,callback:function(e){t.borrowReason=e},expression:"borrowReason"}})],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"mt10"},t._l(t.applyBorrowList,(function(e,n){return a("p",{key:n,staticClass:"bd1 mr10 h1 br1 pd10 pointer color-bg dp-ib mb5",on:{click:function(a){t.borrowReason+=e.name}}},[t._v("\n          "+t._s(e.name)+"\n        ")])})),0)])]),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt10"},[a("p",{staticClass:"color9"},[t._v("快捷用语")])])}],i=a("a34a"),r=a.n(i),o=a("9a2e"),l=a("acb0");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:{keyInfo:{type:Object,required:!0}},data:function(){return{borrowReason:"",applyBorrowList:[]}},computed:{keyType:function(){var t=this.keyInfo.keyType||2;return t}},created:function(){this.getDictList()},methods:{getDictList:function(){var t=this;return u(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={dicttype:3,enable:!1,subType:41},e.next=3,Object(l["n"])(a);case 3:n=e.sent,n&&(t.applyBorrowList=n);case 5:case"end":return e.stop()}}),e)})))()},close:function(){this.$emit("close")},save:function(){var t=this;return u(r.a.mark((function e(){var a,n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.borrowReason,n=t.keyInfo,a){e.next=4;break}return t.$showError("借用钥匙理由不能为空"),e.abrupt("return");case 4:return s={borrowReason:a,isOwner:!1,keyId:n.id},e.next=7,Object(o["a"])(s);case 7:i=e.sent,i&&(t.close(),t.$emit("refresh"),t.$root.$emit("houseDetailRefresh"));case 9:case"end":return e.stop()}}),e)})))()}}},p=d,m=(a("9592"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"e345d2ee",null);e["default"]=f.exports},e47a:function(t,e,a){},e484:function(t,e,a){},e49c:function(t,e,a){"use strict";var n=a("e47a"),s=a.n(n);s.a},e4ad:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUMyRUVGN0MwQjgwMTFFQUEwM0FBNTc2ODJEQzczNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUMyRUVGN0QwQjgwMTFFQUEwM0FBNTc2ODJEQzczNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFQzJFRUY3QTBCODAxMUVBQTAzQUE1NzY4MkRDNzM0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFQzJFRUY3QjBCODAxMUVBQTAzQUE1NzY4MkRDNzM0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgkF2+sAAAn3SURBVHja3F1LbBVVGP5nOoVEKAItVSIQBeQhqYFQSHxEBRMXSjCKAcFGjCygqKxdEF2oiexBgRBZiAIaNcEYlRgwoICCC2M0pYkLaYFIKyhF0D7u73/ua2bOnOfMmcvFA6fzz7N3vvv9z3Nm6uGbr0KK5lNfRH0J9Xbqs6jfRn0MII4WnoHVH9wmFByL6nOF66GA6uP/JfFvWj9LcjfJp2h5mNZP0rJQORb560rkwBK4KdRfoP4M9amJu0TJWQKQUAhcEmQbMJHfzwFb3se+4NEkT6RlG62vKO/roR/v0SHbSO4VnJe8JpaYZNKagV0Y4FfqLyfAQwl4xe0o2CQApbgNBdskx0TWQxEFN43VhWbfVGT3huweke4Vm2PnxWSsyiYArqTeRX0j9VE6gKTAVVknYpgZUKJ1NDleA2TxX7hvFC03Uqd7xlVRsESqrAKQqffb1PdTbzECTqWuiGqQhSxEpboiD0ZiXQQcVvdxwAEHVgst9pUwwEDEQFTYwJvKwC0zAUgOnMimObZzZnYvsQ+FxwkdxoaS7WdshKtVF4OhNxUxb28CvKzqmped07CM31dlnUitowyMs3EZLfaSFCAHsAjArdSX64EDOXBoaed06qpSz3R2Tgy4xM6V1XU5XWArDzAP4Crq683UFQWbUAuyDQvjdg7Vdk4CZAI4EVgKT1s6v3rOelpZXf34GGdgc5l9duqKNVRXEyA5dbUBKw5c3NZFmEkY4aTKvUQBfJ02tlira/2HJXKwJBkGquwh4kRavFbZXgYQp9HKOnN1Rb26otqu1SQsMbBtCnWNJwhx+XmSp5UYWNrRSXKjuyzCnIWOsgguvEmhroiKUAZ5mbDCzgoDWe9wm0XAjaeuoAllOJn+dzAnHJSrKlPskv5swbFh0q/cp6yWGFRSENCg2sITIvr5kWG2iAG49H+cRWiAEwOUOD8OXPT4JZTj4UJtjc4EzFoApyktqdiIhgCLZJQzs50xcHam4qZOXVXgOFVXOagO1FV2zGwG4OSaqKsGSO+uNvAeeRRgQrO+wHbpIhS++BTwpx9T2jklKCbAVaTJPjmJpuueRYyfAN5Ta8zAY23CRPBXdhSXllmELCwJvWvCMyuBbApiRVJMb+ekYxEe9Sb6joJAwkg6ZPZcgIYGu8EFOt6bMw+w6+cEQF7lVwwPAVy+HA9xFGw0ZF1UHuUV3tiMWZ2GUF3ZDd7/EHiL7gEYOxauW7syAIVjR6Fw6CDAyEgWdU3IWKz9YQ5hie+Bt+Y58GbcCde9jW0Cn2yrd/t0GNn1ViwdxBROJQpevJjgMIvwFt9bH+BFmjdrDvj3PVDJIkLWiXPdEAtOxgp4WCkmOBmLiAPpLWiHemzsi0UNQKbAVe41cBsMl+WW1voEsLU1DpBQPVVxaPJeg1yyCFuPWqvWEFg7Cd0xQW5ZRL02LQNNgOMZmDGLkMV3me6z7wIUDnwE0N9HJqEF/GVPgnfLre4AlICiUleR7OcxFuGiFT75ELC7C/BiP+DpLlrfnw8TIVLN5h2ogRwYzmhKkfRnvL9zPbE0C8+dywk4c3Xl5eLMhFyKm04oiHKb5QBENABIBVwYxmBeNbrMdylJ+h2BhyqbLmcjcucEZupqWdx0hJ+w9ufksmZgyVgHWRhoPhbhwFaJ0ixnYYy9uoqwMWSgoL5WizhQVi1xwWyNGqOhIwkyq6uskuHM0Du+LmBqdZUwENOpq2pkLG9blRMD0SLyUDDQUl1zZKDz8CX2OQXAWYU1EgamGjpEcG+rVOMSzgJpU3UVsxGjDEytrrIBa0emyj0D7e2cWN3LDMQUYBkPHWYOY1Bc4M10WdOCiBo4pQ3MPEXCKQtdZzjp1dXMCxuw0XikP/NdYqxakm8gbcA6wXFWDKwNcKCvlriwrSnUNTUD0XJahJMWNMYiAq9xlONAWk4cNPEB5YVvP9Ea9bKD5rcvjjkPf/5Cx5YhOVUYq95Z9hhE8rwgm7rm50galq8Ab/pMwL4+8FhJv21+rgxEqygkXA/4spHTGU2ZKOiDf/eCnDx7OnUVYeJnmGgNyhlNrtq1azkgqFBXVDxbIsAkSKeuyK26dySFrl9gePfO4uQgGNMEwdp14M9rc5cK2yQN0riQGGj4XERCVk6RcNBGPt4PMDBQuuaVy7T+gSP+6R73kjkMCJmbLKgaTLQ2mtHkLh7ES5fiRv6vP3OxgTYOAwW4+MqwJP5cBPcIVI5ld/bBZs4q/+pSFuLdMcNthiN7aklg5zBGHFQF0uBuAmLWMObpDoBx4wAv/A7epFZoeOzxHBkoZiRK9yfCGIfAOcLQu3k8BKufzSM/1AJpAlw1YbJ8LkIr1/nUIq3dQ0PgQhVGF6zjkv6hIYDGxvoDj30urbqKgZKB6Vf8cuJxfeuZm5EvobenLslX6Pkt4QT4sCQJlCChiGYiySwCU05ADEEdOXKoLgEc+epgwruaApWMMqpzpHEw60Rr/pjCyRNQOP5NfYF39GsYOX40ksYZAgeyd94UpUEWSA/QhmZ7xqnL48Pv7ga/uwsaHnwYvClTSw/a1LoND0HhzBli3pcwcuyIlXc1s4UwwObGnAf2wokME61ls5sK3x2DwolvU0wl4417+mqJvXc1Aq7C5PPsOZHTSdbFxyLMZ25CbMwh6WBQPauVL26iXXHTNosQq6vKiVSAq9rP08wG/mBu50AjYyz9MgUreb4CHG3Sj5ydM2WdzmlAFLhKO8VU+DCvurYTrcPPlH6KhIvipm0WYamugqAcDzPL/j31XvYOAJPnImTpG1qCZWfnzIDETEBZAQdFzABOMhUuEDX3qB+BkquuVl0173FRqivYqmtKu2amrnxIs4f5Sb/8ObYV40GNbdPaOQDjd1QlSuqGJXSXWYR47jXK31QSbmZYbYvUA5HRcZepp5Wqq9bTqsYibByGmyxC4V25cxOAvkPbesNXP5UOeoWkP1SqK1dXM09rpq6KfW6zCBt1jTaG0eb4qFzpeLbjxbzCEtdjEWniNxGYKFBhzUt1NxVBDAGM3ew+kncIJ/UYgqW0c6kcho26op26qu2cSI13Un8/uisQhBybaDG5+MZG12GJZXxX47BEXH0Ndx2g/lJi7EagroP0a9hbGj83VlfIK4vAPLMIUD4BFb/GZ9RXl70vByBv50rXvUo/2CjOjtTqCuAmLMGahCUqr0smDZ6gflU4epgIS0KAhkjeACU29tuHJXbxHVoD5TQsEYHfT30NdfYa5CHp8KtBWLKPfswlaTvJg+nDkrrKInRB8nbq7J736kqOvjiLSADCGNhJwgySt9ApZ2/gLELGRvbXHbZQZyP4nWUG6odf/1m/Nk1xk6k+e3HjUlpfSDL7cxjsbd/sFUWN7oqbIAQpo3dlpulKuRjQTZ2V89ggTunPYVi2/wQYAAhr0/sLLLACAAAAAElFTkSuQmCC"},e60e:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"k",(function(){return i})),a.d(e,"g",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"h",(function(){return l})),a.d(e,"d",(function(){return c})),a.d(e,"l",(function(){return u})),a.d(e,"j",(function(){return d})),a.d(e,"f",(function(){return p})),a.d(e,"a",(function(){return m})),a.d(e,"e",(function(){return f})),a.d(e,"i",(function(){return v}));var n=a("b775"),s=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/personal/create",data:t})},i=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/personal/update",data:t})},r=function(t){return Object(n["a"])({url:"api/v1/fm/employee/process/info/".concat(t),method:"GET"})},o=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/process/create",data:t})},l=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/personal/info/".concat(t),method:"GET"})},c=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/salary/create",data:t})},u=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/salary/update",data:t})},d=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/salary/info/".concat(t),method:"GET"})},p=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/personal/file/".concat(t),method:"GET"})},m=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/file/upload",data:t})},f=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/personal/file/delete/".concat(t),method:"DELETE"})},v=function(t){return Object(n["a"])({url:"/api/v1/fm/employee/userInfo/".concat(t),method:"GET"})}},e6b2:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"amap"},[a("div",{staticClass:"main"},[a("el-amap-search-box",{staticClass:"search-box",attrs:{"search-option":t.searchOption,"on-search-result":t.onSearchResult}}),t._v(" "),a("el-amap",{ref:"amap",attrs:{vid:"amap",zoom:12,events:t.events}},[a("el-amap-marker",{attrs:{position:t.marker.position,visible:t.marker.visible}})],1)],1),t._v(" "),a("div",{staticClass:"menu"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.getLL}},[t._v("保存")])],1)])},s=[],i={data:function(){var t=this;return{events:{click:function(e){t.mapClick(e.lnglat)}},marker:{position:[0,0],visible:!1},searchOption:{citylimit:!1},markers:[],address:""}},computed:{amap:function(){return this.$refs.amap.$amap}},methods:{mapClick:function(t){var e=this,a=t.lat,n=t.lng;this.marker.position=[n,a],this.marker.visible=!0,this.amap.panTo([n,a]);var s=new AMap.Geocoder({radius:1e3,extensions:"all"});s.getAddress([n,a],(function(t,a){if("complete"===t&&"OK"===a.info&&a&&a.regeocode){var n=a.regeocode.formattedAddress;e.address=n,e.$nextTick()}}))},getLL:function(){this.$emit("getLL",{position:this.marker.position,address:this.address})},onSearchResult:function(t){t.length&&this.mapClick(t[0])}}},r=i,o=(a("4c4e"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"b4b23996",null);e["a"]=l.exports},e6d6:function(t,e,a){},e796:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"position-manage"},[a("div",{staticClass:"title"},[a("div",{staticClass:"l fm-filtrator"},[a("el-input",{staticClass:"search-input",attrs:{"prefix-icon":"el-icon-search",placeholder:"岗位名称",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.query.keyWord,callback:function(e){t.$set(t.query,"keyWord",e)},expression:"query.keyWord"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("\n        搜索\n      ")])],1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.addItem}},[t._v("\n      添加岗位\n    ")])],1),t._v(" "),a("el-table",{staticClass:"table",attrs:{border:"",data:t.list,size:"mini"}},[a("el-table-column",{attrs:{prop:"name",label:"岗位名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"岗位描述",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"roles",label:"岗位角色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.roles,(function(e,n){return a("span",{key:n,staticStyle:{"margin-right":"10px"}},[t._v("\n          "+t._s(e.name)+"\n        ")])}))}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"岗位层级",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"创建人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"创建时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return-1!=e.row.id?[a("span",{staticClass:"btn blue",on:{click:function(a){return t.editItem(e.row)}}},[t._v("\n          编辑\n        ")]),t._v(" "),-2!=e.row.id?a("span",{staticClass:"btn red",on:{click:function(a){return t.deleteItem(e.row)}}},[t._v("\n          删除\n        ")]):t._e()]:void 0}}],null,!0)})],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.formTitle,visible:t.showEditDialog,width:"500px"},on:{"update:visible":function(e){t.showEditDialog=e},open:function(e){return t.getRoleList()}}},[a("el-form",{ref:"editInfoForm",attrs:{model:t.formData,rules:t.formRules,"label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"岗位名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入岗位名"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"岗位等级",prop:"level"}},[a("el-select",{attrs:{placeholder:"请选择岗位等级"},model:{value:t.formData.level,callback:function(e){t.$set(t.formData,"level",e)},expression:"formData.level"}},[a("el-option",{attrs:{value:1,label:"站点"}}),t._v(" "),a("el-option",{attrs:{value:2,label:"店东"}}),t._v(" "),a("el-option",{attrs:{value:3,label:"门店"}}),t._v(" "),a("el-option",{attrs:{value:4,label:"店组"}}),t._v(" "),a("el-option",{attrs:{value:5,label:"个人"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"岗位角色",prop:"roleIds"}},[a("el-select",{attrs:{multiple:""},model:{value:t.formData.roleIds,callback:function(e){t.$set(t.formData,"roleIds",e)},expression:"formData.roleIds"}},t._l(t.roles,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"岗位描述",prop:"des"}},[a("el-input",{attrs:{rows:5,maxlength:100,type:"textarea",placeholder:"请输入岗位描述(最多可输入100字符)"},model:{value:t.formData.des,callback:function(e){t.$set(t.formData,"des",e)},expression:"formData.des"}})],1)],1),t._v(" "),a("template",{slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitForm}},[t._v("\n        提 交\n      ")])],1)],2)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("6e6f"),l=a("cc5e"),c=a("db49");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={name:"",des:"",roleIds:[]},m={data:function(){return{formTitle:"",showDialog:!1,formData:JSON.parse(JSON.stringify(p)),list:[],total:0,query:{keyWord:"",pageSize:10,pageNum:1},roleList:[]}},computed:{rules:function(){return c["a"].rules}},created:function(){this.getPosition(),this.getRole()},methods:{pageNumChange:function(t){this.query.pageNum=t,this.getPosition()},getPosition:function(){var t=this;return d(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["f"])(t.query);case 2:a=e.sent,n=a.list,s=a.total,t.list=n,t.total=s;case 6:case"end":return e.stop()}}),e)})))()},getRole:function(){var t=this;return d(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["c"])(t.query);case 2:a=e.sent,n=a.list,t.roleList=n;case 5:case"end":return e.stop()}}),e)})))()},search:function(){this.query.pageNum=1,this.getPosition()},addItem:function(){var t=this;this.formData=JSON.parse(JSON.stringify(p)),this.formTitle="添加岗位",this.showDialog=!0,this.$nextTick((function(){t.$refs.form.clearValidate()}))},editItem:function(t){var e={id:t.id,name:t.name,des:t.description,roleIds:t.roles.map((function(t){return t.id}))};this.formData=e,this.formTitle="编辑岗位",this.showDialog=!0},deleteItem:function(t){var e=this;this.$showConfirm(d(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["b"])({id:t.id});case 2:n=a.sent,n&&(e.$message({message:"删除成功",type:"success"}),e.search());case 4:case"end":return a.stop()}}),a)}))))},save:function(){var t=this;this.$refs.form.validate(function(){var e=d(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return n=t.formData,e.next=4,Object(o["c"])(n);case 4:s=e.sent,s&&(t.showDialog=!1,t.search()),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=m,v=(a("e802"),a("65ca"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,null,null);e["default"]=h.exports},e7a8:function(t,e,a){"use strict";var n=a("615e"),s=a.n(n);s.a},e7bc:function(t,e,a){},e7d3:function(t,e,a){},e802:function(t,e,a){"use strict";var n=a("7823"),s=a.n(n);s.a},e8dd:function(t,e,a){},e926:function(t,e,a){"use strict";var n=a("85e0"),s=a.n(n);s.a},e92f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"pd20 mb20 mt20 window2-box upload-agrement"},[a("div",{staticClass:"mt10 pd10-b bd3-b"},[a("el-form",{ref:"form",attrs:{size:"small",labelPosition:"top",model:t.form,"label-width":"80px"}},[a("div",{staticClass:"grid2"},[a("el-form-item",{attrs:{label:"协议编号",prop:"agreementCode",rules:[t.rules.required(),t.rules.number]}},[a("el-input",{model:{value:t.form.agreementCode,callback:function(e){t.$set(t.form,"agreementCode",e)},expression:"form.agreementCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"协议到期日期",prop:"agreementExpiredDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":t.$disabledPastDate,type:"date","value-format":"yyyy-MM-dd",placeholder:""},model:{value:t.form.agreementExpiredDate,callback:function(e){t.$set(t.form,"agreementExpiredDate",e)},expression:"form.agreementExpiredDate"}})],1)],1)])],1),t._v(" "),a("div",{staticClass:"mt10"},[a("div",{staticClass:"flex-between"},[a("p",[t._v("协议附件")]),t._v(" "),a("el-upload",{ref:"upload",attrs:{action:t.baseURL+"/api/v1/upload/mulit",multiple:"",accept:"image/*","on-progress":function(){t.loading=!0},data:t.uploadData,"on-success":t.uploadSuccess,"show-file-list":!1}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload"}},[t._v("\n            立即上传\n          ")])],1)],1),t._v(" "),t.refresh?a("div",{staticClass:"grid4 mt20"},t._l(t.form.files||[],(function(e,n){return a("div",{key:e,staticClass:"pt-r"},[a("el-image",{staticStyle:{width:"100px",height:"90px"},attrs:{src:e,fit:"cover"}}),t._v(" "),a("svg-icon",{staticClass:"icon pointer red pt-a",staticStyle:{left:"93px",top:"-5px"},attrs:{"icon-class":"close2"},on:{click:function(e){return e.stopPropagation(),t.delImg(n)}}})],1)})),0):t._e()])]),t._v(" "),a("div",{staticClass:"window-footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.close}},[t._v("\n      取消\n    ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.save}},[t._v("\n      提交\n    ")])],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("1fa6"),l=a("db49");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d={props:{id:{type:[Number,String],required:!0},create:{type:Boolean,default:!1}},data:function(){return{config:l["a"].config,rules:l["a"].rules,loading:!1,form:{},refresh:!0}},computed:{baseURL:function(){return window.baseURL},token:function(){return this.$store.state.user.token},userId:function(){return this.$store.state.user.userId},uploadData:function(){var t=this.token,e=this.userId;return{token:t,userId:e}}},created:function(){this.create||this.getDetail()},methods:{getDetail:function(){var t=this;return u(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.id);case 2:a=e.sent,t.form=a;case 4:case"end":return e.stop()}}),e)})))()},uploadSuccess:function(t){if(this.loading=!1,t.data){this.refresh=!1;var e=t.data[0],a=this.form.files||[];a.push(e.fileUrl),this.form.files=a,this.refresh=!0}},delImg:function(t){this.refresh=!1,this.form.files.splice(t,1),this.refresh=!0},close:function(){this.$emit("close")},save:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.form.validate(function(){var e=u(r.a.mark((function e(a){var n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=t.form,n.houseId=t.id,s=o["e"],t.create&&(s=o["a"]),e.next=8,s(n);case 8:i=e.sent,i&&(t.$showSuccess("操作成功"),t.$emit("refresh"),t.$root.$emit("houseDetailRefresh"),t.close());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()}}},p=d,m=(a("8342"),a("2877")),f=Object(m["a"])(p,n,s,!1,null,"2c1cd950",null);e["default"]=f.exports},e9aa:function(t,e,a){"use strict";var n=a("1003"),s=a.n(n);s.a},ea0a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-cell"},[t.showTag?a("div",{staticClass:"tags"},t._l(t.tags,(function(e){return a("div",{key:e.value,staticClass:"tag",class:{active:t.tagValue===e.value},on:{click:function(a){return t.changeTag(e.value)}}},[t._v(t._s(e.name))])})),0):t._e(),t._v(" "),t._m(0)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("div",{staticClass:"cell"},[a("div",{staticClass:"title"},[a("p",[t._v("05-09 12:12 张德帅（商圈经理）")])]),t._v(" "),a("div",{staticClass:"content"},[a("p",[t._v("上个月该房子在中原成交了，但因为客户的原因，又退单了，现在继续出售，价格没有什么变化，业主很诚心出售")])]),t._v(" "),a("div",{staticClass:"tag-box"},[a("div",{staticClass:"tag"},[t._v("去电")]),t._v(" "),a("div",{staticClass:"tag up"},[t._v("置顶")])])])])}],i={props:{showTag:{type:Boolean,default:!1},tags:{type:Array,default:function(){return[{name:"全部",value:"all"},{name:"去电",value:"qd"},{name:"面访",value:"mf"}]}}},data:function(){return{tagValue:"all"}},methods:{changeTag:function(t){this.tagValue=t}}},r=i,o=(a("b049"),a("2877")),l=Object(o["a"])(r,n,s,!1,null,"46880795",null);e["default"]=l.exports},ea92:function(t,e,a){},eaac:function(t,e,a){"use strict";var n=a("e6d6"),s=a.n(n);s.a},ed49:function(t,e,a){"use strict";var n=a("e7bc"),s=a.n(n);s.a},ed4b:function(t,e,a){},ede9:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tel"},[a("el-steps",{attrs:{active:t.telActive,"align-center":""}},[a("el-step",{attrs:{title:"身份验证"}}),t._v(" "),a("el-step",{attrs:{title:"变更手机"}})],1),t._v(" "),a("el-form",{ref:"telForm",attrs:{model:t.telForm}},[0==t.telActive?a("div",{staticClass:"tel_main"},[a("div",{staticClass:"tip"},[a("p",[t._v("\n            请输入手机号"+t._s(t._f("formatPhone")(t.userInfo.cellphone))+"接收到的验证码，用于验证当前用户身份\n          ")])]),t._v(" "),a("div",{staticClass:"vcode"},[a("el-form-item",{staticClass:"input-group",attrs:{prop:"vcode",rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{attrs:{type:"vcode",placeholder:"验证码",autocomplete:"off"},model:{value:t.telForm.vcode,callback:function(e){t.$set(t.telForm,"vcode",e)},expression:"telForm.vcode"}}),t._v(" "),a("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary"},on:{click:function(e){return t.sms(t.userInfo.cellphone)}}},[t._v(t._s(t.vText))])],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.step}},[t._v("下一步")])],1):t._e(),t._v(" "),1==t.telActive?a("div",{staticClass:"tel_main"},[a("div",{staticClass:"tel"},[a("el-form-item",{staticStyle:{width:"310px"},attrs:{prop:"tel",rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{attrs:{type:"tel",placeholder:"新手机号",autocomplete:"off"},model:{value:t.telForm.tel,callback:function(e){t.$set(t.telForm,"tel",e)},expression:"telForm.tel"}})],1)],1),t._v(" "),a("div",{staticClass:"vcode"},[a("el-form-item",{staticClass:"input-group",attrs:{prop:"vcode",rules:[{required:!0,message:"不能为空"}]}},[a("el-input",{attrs:{type:"vcode",placeholder:"验证码",autocomplete:"off"},model:{value:t.telForm.vcode,callback:function(e){t.$set(t.telForm,"vcode",e)},expression:"telForm.vcode"}}),t._v(" "),a("el-button",{staticStyle:{flex:"1"},attrs:{type:"primary"},on:{click:function(e){return t.newSms(t.telForm.tel)}}},[t._v(t._s(t.vText))])],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1):t._e()])],1),t._v(" "),2==t.telActive?a("div",{staticClass:"tel-ok"},[a("div",{staticClass:"tel-ok_t"},[a("svg-icon",{attrs:{"icon-class":"ok"}}),t._v(" "),a("p",[t._v("手机号更新成功")])],1),t._v(" "),a("div",{staticClass:"tel-ok_b"},[a("p",[t._v("下次登录系统，请使用新手机号 "+t._s(t.telForm.tel))])])]):t._e()])},s=[],i=a("a34a"),r=a.n(i),o=a("ed08"),l=a("7ded");function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){c(i,n,s,r,o,"next",t)}function o(t){c(i,n,s,r,o,"throw",t)}r(void 0)}))}}var d=60,p={tel:"",vcode:""},m={props:{userOptions:{type:Object,default:function(){}},model:{type:Boolean,default:function(){return!1}}},data:function(){return{telActive:0,telForm:Object(o["b"])(p),vText:"获取验证码",timer:null,time:d,smsing:!1}},computed:{userInfo:function(){return this.userOptions&&this.userOptions.cellphone?this.userOptions:this.$store.state.settings.userInfo}},watch:{model:function(){this.telForm=this.$cloneObj(p)}},methods:{initTimer:function(){this.vText="发送验证码",clearInterval(this.timer),this.time=d,this.smsing=!1},sms:function(t){var e=this;this.smsing||(this.smsing=!0,Object(l["h"])({cellphone:t,type:"2"}),this.timer=setInterval((function(){e.time--,e.vText="".concat(e.time,"s"),e.time<0&&e.initTimer()}),1e3))},step:function(){var t=this;return u(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.telForm.validateField("vcode",function(){var e=u(r.a.mark((function e(a){var n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=5;break}return e.next=3,Object(l["a"])({cellphone:t.userInfo.cellphone,verifyCode:t.telForm.vcode});case 3:n=e.sent,n&&(t.initTimer(),t.telForm=Object(o["b"])(p),t.telActive=1,t.$nextTick((function(){t.$refs.telForm.clearValidate()})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()},newSms:function(t){var e=this;this.$refs.telForm.validateField("tel",(function(a){a||(e.smsing=!1,e.sms(t))}))},save:function(){var t=this;this.$refs.telForm.validate(function(){var e=u(r.a.mark((function e(a){var n,s,i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return n=t.telForm,s=n.tel,i=n.vcode,e.next=4,Object(l["b"])({cellphone:s,verifyCode:i});case 4:o=e.sent,o&&(t.initTimer(),t.telForm.vcode="",t.telActive=2,t.$emit("getUserInfo"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=m,v=(a("f70d"),a("abbd"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"bafc2bd0",null);e["default"]=h.exports},edf1:function(t,e,a){},ee1b:function(t,e,a){"use strict";var n=a("1c5b"),s=a.n(n);s.a},ee5f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-group-form"},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"150px","label-position":"top"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所属门店",prop:"storeId",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请输入",disabled:""},model:{value:t.formData.storeName,callback:function(e){t.$set(t.formData,"storeName",e)},expression:"formData.storeName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分组名称",prop:"groupName",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请输入",autocomplete:"off"},model:{value:t.formData.groupName,callback:function(e){t.$set(t.formData,"groupName",e)},expression:"formData.groupName"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"submit"},[a("el-button",{staticClass:"width180 mt20",attrs:{type:"primary"},on:{click:t.submit}},[t._v("\n      保存\n    ")])],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("db49"),l=a("73f5"),c=a("ed08");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={storeId:null,storeName:null,groupName:null,groupId:null},m={props:{options:{type:Object,default:function(){}}},data:function(){return{areas:[],rules:o["a"].rules,formData:Object(c["b"])(p)}},watch:{options:{immediate:!0,handler:function(t){var e=this;(t.groupId||t.storeId)&&(this.formData=Object(c["b"])(t)),this.$nextTick((function(){e.$refs.form.clearValidate()}))}}},methods:{submit:function(){var t=this;this.$refs.form.validate(function(){var e=d(r.a.mark((function e(a){var n,s,i;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return n=Object(c["b"])(t.formData),s=n.groupId?l["i"]:l["b"],e.next=6,s(n);case 6:i=e.sent,i&&(t.$showSuccess("操作成功"),t.$refs.form.clearValidate(),t.formData.groupName="",t.$emit("close"));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=m,v=(a("df8e"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,null,null);e["default"]=h.exports},ef5c:function(t,e,a){"use strict";var n=a("184a"),s=a.n(n);s.a},f041:function(t,e,a){"use strict";var n=a("1142"),s=a.n(n);s.a},f085:function(t,e,a){},f148:function(t,e,a){},f16c:function(t,e,a){"use strict";var n=a("3596"),s=a.n(n);s.a},f1a8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"organograma"},[a("div",{staticClass:"fm-filtrator flex-between"},[a("div",{staticClass:"fl"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"部门名称","prefix-icon":"el-icon-search",size:"small"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("\n        搜索\n      ")])],1),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.tj,expression:"tj"}],attrs:{size:"small",plain:"",type:"primary"},on:{click:function(e){t.toggleEditDialog=!0,t.current={}}}},[t._v("\n      添加部门\n    ")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{attrs:{size:"small",data:t.statistics,"row-key":"index",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"ID",type:"index",align:"center",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{label:"部门名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.state?a("span",{staticClass:"gray"},[t._v("启用")]):0==e.row.state?a("span",{staticClass:"red"},[t._v("停用")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createDate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createUserName",label:"创建人",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createUserName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operate"},[a("span",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],staticClass:"link-btn",on:{click:function(a){return t.showEdit(e.row)}}},[t._v("\n              编辑\n            ")]),t._v(" "),a("i",[t._v("|")]),t._v(" "),e.row.state?a("span",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],staticClass:"link-btn",class:{red:e.row.state},on:{click:function(a){return t.switchStatus(e.row)}}},[t._v("\n              停用\n            ")]):t._e(),t._v(" "),e.row.state?t._e():a("span",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],staticClass:"link-btn",class:{red:e.row.state},on:{click:function(a){return t.switchStatus(e.row)}}},[t._v("\n              启用\n            ")])])]}}])})],1)],1),t._v(" "),a("el-dialog",{staticClass:"fm-dialog",attrs:{visible:t.toggleEditDialog,"close-on-click-modal":!1,title:(t.current.id?"编辑":"添加")+"组织架构",width:"500px"},on:{"update:visible":function(e){t.toggleEditDialog=e},close:t.closeDialog}},[a("edit",{attrs:{options:t.current,stores:t.statistics},on:{close:function(e){t.search(),t.toggleEditDialog=!1}}})],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("c24f"),l=a("0730");function c(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=u(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return r=t.done,t},e:function(t){o=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function u(t,e){if(t){if("string"===typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function p(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){p(i,n,s,r,o,"next",t)}function o(t){p(i,n,s,r,o,"throw",t)}r(void 0)}))}}var f={components:{Edit:l["default"]},data:function(){return{toggleEditDialog:!1,showPrintDom:!1,store:[],keyword:"",current:{},statistics:[]}},computed:{site:function(){return this.$store.state.settings.site}},created:function(){this.search()},methods:{showEdit:function(t){this.toggleEditDialog=!0;var e=t.name,a=t.id,n=t.state,s=t.departmentType;this.current.parentId=t.parentIdList,this.current=Object.assign({},this.current,{name:e,id:a,state:n,departmentType:s})},switchStatus:function(t){var e=this;return m(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["p"])(t.id);case 2:n=a.sent,n&&(e.$showSuccess("操作成功"),e.search());case 4:case"end":return a.stop()}}),a)})))()},closeDialog:function(t){t&&this.search(),this.toggleEditDialog=!1},handleTableData:function(t){var e=1,a=function t(a){var n,s=c(a);try{for(s.s();!(n=s.n()).done;){var i=n.value;i.index=e++,i.children&&i.children.length&&t(i.children)}}catch(r){s.e(r)}finally{s.f()}};return a(t),t},search:function(){var t=this;return m(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["f"])({keyword:t.keyword});case 2:a=e.sent,a&&(t.statistics=t.handleTableData(a));case 4:case"end":return e.stop()}}),e)})))()}}},v=f,h=(a("5af1"),a("2877")),b=Object(h["a"])(v,n,s,!1,null,"b5e27e7a",null);e["default"]=b.exports},f1b2:function(t,e,a){"use strict";var n=a("66d8"),s=a.n(n);s.a},f22a:function(t,e,a){},f26e:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dao-box"},[a("div",{staticClass:"main"},[a("div",{staticClass:"title x3 aic"},[a("div",{staticClass:"x"},[a("el-input",{staticClass:"search-input",attrs:{"prefix-icon":"el-icon-search",placeholder:"岗位名称",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.query.keyWord,callback:function(e){t.$set(t.query,"keyWord",e)},expression:"query.keyWord"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("\n          搜索\n        ")])],1),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.tj,expression:"tj"}],attrs:{type:"primary",size:"small",plain:""},on:{click:t.addItem}},[t._v("\n        添加岗位\n      ")])],1),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,size:"small",border:""}},[a("el-table-column",{attrs:{align:"center",prop:"name",label:"岗位名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"description",label:"岗位描述"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"岗位角色"},scopedSlots:t._u([{key:"default",fn:function(e){return a("p",{},t._l(e.row.roles,(function(n,s){return a("span",{key:s},[t._v("\n              "+t._s(n.name)+"\n              "),s!==e.row.roles.length-1?[t._v("\n                、\n              ")]:t._e()],2)})),0)}}])}),t._v(" "),t.isWork?a("el-table-column",{attrs:{align:"center",prop:"dataLevelName",label:"岗位层级"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inUserName",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"inDate",label:"创建时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.modifiable?[a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.bj,expression:"bj"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return t.editItem(e.row)}}},[t._v("\n              编辑\n            ")]),t._v(" "),a("el-button",{directives:[{name:"permit",rawName:"v-permit",value:t.sc,expression:"sc"}],staticStyle:{color:"#ff0000"},attrs:{size:"mini",type:"text"},on:{click:function(a){return t.deleteItem(e.row)}}},[t._v("\n              删除\n            ")])]:void 0}}],null,!0)})],1),t._v(" "),a("div",{staticClass:"fm-pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.query.pageSize,"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next","current-page":t.query.pageNum,total:t.total},on:{"current-change":t.pageNumChange,"update:currentPage":function(e){return t.$set(t.query,"pageNum",e)},"update:current-page":function(e){return t.$set(t.query,"pageNum",e)}}})],1)],1),t._v(" "),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:t.formTitle,visible:t.showDialog,width:"500px"},on:{"update:visible":function(e){t.showDialog=e}}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"name",rules:[t.rules.required()]}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"岗位角色",prop:"roleIds",rules:[t.rules.required()]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",multiple:""},model:{value:t.formData.roleIds,callback:function(e){t.$set(t.formData,"roleIds",e)},expression:"formData.roleIds"}},t._l(t.roleList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),t.isWork?a("el-form-item",{attrs:{label:"岗位层级",prop:"level",rules:[t.rules.required()]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.formData.level,callback:function(e){t.$set(t.formData,"level",e)},expression:"formData.level"}},t._l(t.levelList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"岗位描述",prop:"des"}},[a("el-input",{attrs:{type:"textarea",maxlength:"100",rows:5,size:"small",placeholder:"岗位描述"},model:{value:t.formData.des,callback:function(e){t.$set(t.formData,"des",e)},expression:"formData.des"}})],1)],1),t._v(" "),a("div",{staticClass:"save x2"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1)])},s=[],i=a("a34a"),r=a.n(i),o=a("6e6f"),l=a("cc5e"),c=a("db49");function u(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){u(i,n,s,r,o,"next",t)}function o(t){u(i,n,s,r,o,"throw",t)}r(void 0)}))}}var p={name:"",des:"",level:"",roleIds:[]},m={data:function(){return{formTitle:"",showDialog:!1,formData:JSON.parse(JSON.stringify(p)),list:[],total:0,query:{keyWord:"",pageSize:10,pageNum:1},roleList:[],levelList:[{id:1,name:"公司级"},{id:2,name:"部门级"},{id:3,name:"门店级"},{id:4,name:"店组级"},{id:5,name:"个人级"}]}},computed:{rules:function(){return c["a"].rules},isWork:function(){var t=this.$route.path,e=!1;return"/work/enterprise/station"==t&&(e=!0),e}},created:function(){this.getPosition(),this.getRole()},methods:{pageNumChange:function(t){this.query.pageNum=t,this.getPosition()},getPosition:function(){var t=this;return d(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["f"])(t.query);case 2:a=e.sent,n=a.list,s=a.total,t.list=n,t.total=s;case 6:case"end":return e.stop()}}),e)})))()},getRole:function(){var t=this;return d(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(t.query)),a.pageSize=99,e.next=4,Object(l["c"])(a);case 4:n=e.sent,s=n.list,t.roleList=s;case 7:case"end":return e.stop()}}),e)})))()},search:function(){this.query.pageNum=1,this.getPosition()},addItem:function(){var t=this;this.formData=JSON.parse(JSON.stringify(p)),this.formTitle="添加岗位",this.showDialog=!0,this.$nextTick((function(){t.$refs.form.clearValidate()}))},editItem:function(t){var e={id:t.id,name:t.name,des:t.description,roleIds:t.roles.map((function(t){return t.id})),level:t.dataLevel};this.formData=e,this.formTitle="编辑岗位",this.showDialog=!0},deleteItem:function(t){var e=this;this.$showConfirm(d(r.a.mark((function a(){var n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["b"])({id:t.id});case 2:n=a.sent,n&&(e.$message({message:"删除成功",type:"success"}),e.search());case 4:case"end":return a.stop()}}),a)}))))},save:function(){var t=this;this.$refs.form.validate(function(){var e=d(r.a.mark((function e(a){var n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=9;break}return n=t.formData,t.isWork||delete n.level,e.next=5,Object(o["c"])(n);case 5:s=e.sent,s&&(t.showDialog=!1,t.search()),e.next=10;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},f=m,v=(a("f1b2"),a("2877")),h=Object(v["a"])(f,n,s,!1,null,"36359552",null);e["default"]=h.exports},f27d:function(t,e,a){"use strict";var n=a("9d49"),s=a.n(n);s.a},f346:function(t,e,a){t.exports=a.p+"img/xiazai.2c36b5f1.png"},f363:function(t,e,a){"use strict";var n=a("70ac"),s=a.n(n);s.a},f365:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"enrollment"},[a("div",{staticClass:"wrap flex"},[a("div",{staticClass:"left"},[a("div",{staticClass:"base-info"},[a("div",{staticClass:"head flex-y-center"},[a("el-image",{staticClass:"avatar",attrs:{fit:"cover",src:t.userImg}},[a("img",{attrs:{slot:"error",src:t.avatar},slot:"error"})]),t._v(" "),a("div",{staticClass:"name-wrap"},[a("h3",[t._v(t._s(t.userInfo.realName))]),t._v(" "),a("p",[t._v(t._s(t._f("formatPhone")(t.userInfo.cellphone)))])])],1),t._v(" "),a("div",{staticClass:"body"},[a("p",[t._v("NO."+t._s(t.userInfo.code))]),t._v(" "),a("p",[a("svg-icon",{attrs:{"icon-class":"levels"}}),t._v(" "),a("span",[t._v("\n              "+t._s(t.userInfo.positionName)),t.userInfo.storeInfo?a("i",[t._v("/")]):t._e(),t._v(t._s(t.userInfo.storeInfo))])],1)])]),t._v(" "),a("ol",{staticClass:"tab"},t._l(t.tabs,(function(e,n){return a("li",{key:n,staticClass:"flex-y-center",class:{notClick:n==t.tabs.length-1&&!t.isComplete,active:n==t.activeIndex},on:{click:function(e){return t.switchTab(n)}}},[a("p",[a("strong",[t._v(t._s(n+1)+"."+t._s(e.label)+" ")]),a("span",{staticClass:"red",class:{red:!e.isComplete,green:e.isComplete}},[t._v(t._s(e.name))])]),t._v(" "),e.isComplete?a("svg-icon",{staticClass:"green",attrs:{"icon-class":"ok"}}):t._e()],1)})),0)]),t._v(" "),a("div",{staticClass:"right flex1"},[a("div",{staticClass:"e-head"},[t._v("\n        "+t._s(t.tabs[t.activeIndex].label)+" "+t._s(t.tabs[t.activeIndex].name)+"\n      ")]),t._v(" "),a("div",{staticClass:"e-container"},[a("info",{directives:[{name:"show",rawName:"v-show",value:0==t.activeIndex,expression:"activeIndex == 0"}],on:{fulfill:t.createProcess,userInfo:t.getUserInfo}}),t._v(" "),a("employee-handbook",{directives:[{name:"show",rawName:"v-show",value:1==t.activeIndex,expression:"activeIndex == 1"}],on:{fulfill:t.createProcess}}),t._v(" "),a("user-doc",{directives:[{name:"show",rawName:"v-show",value:2==t.activeIndex,expression:"activeIndex == 2"}],on:{fulfill:t.createProcess}}),t._v(" "),a("user-image",{directives:[{name:"show",rawName:"v-show",value:3==t.activeIndex,expression:"activeIndex == 3"}],attrs:{userImg:t.userImg},on:{fulfill:t.createProcess}}),t._v(" "),a("wage-card",{directives:[{name:"show",rawName:"v-show",value:4==t.activeIndex,expression:"activeIndex == 4"}],on:{fulfill:t.createProcess}}),t._v(" "),a("electronic-file",{directives:[{name:"show",rawName:"v-show",value:5==t.activeIndex,expression:"activeIndex == 5"}],on:{fulfill:t.createProcess}}),t._v(" "),a("employee-handbook",{directives:[{name:"show",rawName:"v-show",value:6==t.activeIndex,expression:"activeIndex == 6"}],attrs:{type:"PXZL"},on:{fulfill:t.createProcess}}),t._v(" "),a("enrollment-complete",{directives:[{name:"show",rawName:"v-show",value:7==t.activeIndex,expression:"activeIndex == 7"}],attrs:{options:t.tabs},on:{fulfill:t.createProcess}})],1)])])])},s=[],i=a("a34a"),r=a.n(i),o=a("1195"),l=a.n(o),c=a("aa22"),u=a("63ea"),d=a("005d"),p=a("4ec4"),m=a("e2d2"),f=a("656c"),v=a("c8cf"),h=a("e60e");function b(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function g(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){b(i,n,s,r,o,"next",t)}function o(t){b(i,n,s,r,o,"throw",t)}r(void 0)}))}}var _={components:{Info:c["default"],EmployeeHandbook:u["default"],UserDoc:d["default"],UserImage:p["default"],WageCard:m["default"],ElectronicFile:f["default"],EnrollmentComplete:v["default"]},data:function(){return{avatar:l.a,activeIndex:0,userInfo:{},userImg:"",isComplete:!1,tabs:[{label:"了解",name:"我的入职信息",judgeName:"isFinishEmployee"},{label:"阅读",name:"员工手册",judgeName:"isFinishHandbook"},{label:"完善",name:"个人档案信息",judgeName:"isFinishBasic"},{label:"登记",name:"个人形象照片",judgeName:"isFinishImage"},{label:"填写",name:"工资卡信息",judgeName:"isFinishCard"},{label:"上传",name:"电子版入职资料",judgeName:"isFinishElectronic"},{label:"学习",name:"应知应会培训资料",judgeName:"isFinishTraining"},{label:"完成",name:"登录我的首页",judgeName:"isFinishAll"}]}},computed:{userId:function(){return this.$store.state.settings.userInfo.userId},dynamicMenu:function(){return this.$store.state.settings.menus}},created:function(){var t=this;this.getProcess(),this.$root.$on("getUserImg",(function(e){t.userImg=e}))},methods:{getUserInfo:function(t){this.userInfo=t,this.userImg=t.avatarPath},createProcess:function(t,e){var a=this;return g(r.a.mark((function n(){var s,i,o;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s={isFinishAll:!1},s[t]=!0,n.next=4,Object(h["b"])({vo:s});case 4:if(i=n.sent,!i){n.next=20;break}return n.next=8,a.getProcess();case 8:if("isFinishAll"==t&&(a.$store.dispatch("tagsView/delView",a.$route),a.$navigateTo({path:a.dynamicMenu[0].path,type:"replace"})),e){n.next=12;break}if("isFinishEmployee"!=t&&"isFinishImage"!=t){n.next=12;break}return n.abrupt("return");case 12:o=0;case 13:if(!(o<a.tabs.length)){n.next=20;break}if(a.tabs[o].isComplete){n.next=17;break}return a.activeIndex=o,n.abrupt("break",20);case 17:o++,n.next=13;break;case 20:case"end":return n.stop()}}),n)})))()},switchTab:function(t){this.activeIndex=t},getProcess:function(){var t=this;return g(r.a.mark((function e(){var a,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["g"])(t.userId);case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:return t.tabs=t.tabs.map((function(t){return a[t.judgeName]&&(t.isComplete=!0),t})),n=t.tabs.find((function(t){return!t.isComplete})),n&&"isFinishAll"!=n.judgeName||(t.isComplete=!0),e.abrupt("return",Promise.resolve(t.tabs));case 9:case"end":return e.stop()}}),e)})))()}}},y=_,w=(a("8be9"),a("8474"),a("2877")),C=Object(w["a"])(y,n,s,!1,null,"f01a421c",null);e["default"]=C.exports},f366:function(t,e,a){},f533:function(t,e,a){t.exports={menuText:"#fff",menuActiveText:"#fff",subMenuActiveText:"#f4f4f5",menuBg:"#636977",menuHover:"#263445",subMenuBg:"#232736",subMenuHover:"#263445"}},f556:function(t,e,a){},f5bc:function(t,e,a){"use strict";var n=a("e8dd"),s=a.n(n);s.a},f62d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("el-dialog",{staticClass:"enter-customer",attrs:{"close-on-click-modal":!1,title:"录入客户",visible:e.show,width:"800px","before-close":e.close},on:{"update:visible":function(t){e.show=t}}},[n("el-form",{ref:"form",attrs:{model:e.formData,rules:e.formRules}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"客户需求",prop:"customerRequirement"}},[n("fm-checkbox-group",{attrs:{options:e.customerRequirement,model:e.demandModel},on:{change:function(a,n){t.demandModel=n,e.formData.customerRequirement=n.toString()}}})],1)],1)],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"客户姓名",prop:"customerName"}},[n("el-input",{staticClass:"input-group",attrs:{size:"small",placeholder:"请输入客户姓名"},model:{value:e.formData.customerName,callback:function(t){e.$set(e.formData,"customerName",t)},expression:"formData.customerName"}},[n("el-select",{attrs:{slot:"append",placeholder:"请选择"},slot:"append",model:{value:e.formData.gender,callback:function(t){e.$set(e.formData,"gender",t)},expression:"formData.gender"}},[n("el-option",{attrs:{label:"先生",value:"1"}}),e._v(" "),n("el-option",{attrs:{label:"女士",value:"2"}})],1)],1)],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"客户电话",prop:"customerCellphone"}},[n("el-input",{attrs:{type:"number",size:"small",maxlength:"11",placeholder:"请输入客户电话"},model:{value:e.formData.customerCellphone,callback:function(t){e.$set(e.formData,"customerCellphone",t)},expression:"formData.customerCellphone"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:" "}},[n("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-plus"},on:{click:e.addPhone}},[e._v("添加备用电话")])],1)],1)],1),e._v(" "),e._l(e.formData.spareCellphones,(function(t,a){return n("el-form",{key:a,ref:"subForm",refInFor:!0,attrs:{model:t,rules:e.subRules[a]}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"客户姓名",prop:"customerName"}},[n("el-input",{staticClass:"input-group",attrs:{size:"small",placeholder:"请输入客户姓名"},model:{value:t.customerName,callback:function(a){e.$set(t,"customerName",a)},expression:"item.customerName"}},[n("el-select",{attrs:{slot:"append",placeholder:"请选择"},slot:"append",model:{value:t.gender,callback:function(a){e.$set(t,"gender",a)},expression:"item.gender"}},[n("el-option",{attrs:{label:"先生",value:"1"}}),e._v(" "),n("el-option",{attrs:{label:"女士",value:"2"}})],1)],1)],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"客户电话",prop:"customerCellphone"}},[n("el-input",{attrs:{type:"number",size:"small",placeholder:"请输入客户电话"},model:{value:t.customerCellphone,callback:function(a){e.$set(t,"customerCellphone",a)},expression:"item.customerCellphone"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:" "}},[n("svg-icon",{staticClass:"del-icon",attrs:{"icon-class":"delete"},on:{click:function(t){return e.removePhone(a)}}})],1)],1)],1)],1)})),e._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"客户来源",prop:"customerSource"}},[n("el-cascader",{attrs:{size:"small",placeholder:"请选择客户来源",options:e.customerSources,props:{value:"id",label:"name"}},on:{change:e.sourceChange}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"客户等级",prop:"customerLevel"}},[n("el-select",{attrs:{size:"small",placeholder:"请选择客户等级"},model:{value:e.formData.customerLevel,callback:function(t){e.$set(e.formData,"customerLevel",t)},expression:"formData.customerLevel"}},e._l(e.customerLevel,(function(t,e){return n("el-option",{key:e,attrs:{value:t.value,label:t.label}})})),1)],1)],1)],1),e._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"自定义客户标签",prop:"customerLabel"}},[n("div",{staticClass:"body custom-tag"},[e._l(e.customerLabel,(function(t){return n("el-tag",{key:t,attrs:{type:"warning",closable:"",effect:"plain","disable-transitions":!1},on:{close:function(a){return e.handleClose(t)}}},[e._v(e._s(t))])})),e._v(" "),e.showTagInput?n("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.tagInputValue,callback:function(t){e.tagInputValue="string"===typeof t?t.trim():t},expression:"tagInputValue"}}):n("el-button",{staticClass:"button-new-tag",attrs:{disabled:e.customerLabel.length>=5,size:"small"},on:{click:e.showInput}},[e._v("+新增")])],2)])],1)],1)],2),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保 存")])],1)],1)},s=[],i=a("a34a"),r=a.n(i),o=a("4bce"),l=a("61f7"),c=a("f6b0"),u=a("acb0"),d=a("db49");function p(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,s)}function m(t){return function(){var e=this,a=arguments;return new Promise((function(n,s){var i=t.apply(e,a);function r(t){p(i,n,s,r,o,"next",t)}function o(t){p(i,n,s,r,o,"throw",t)}r(void 0)}))}}function f(t){return _(t)||g(t)||h(t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"===typeof t)return b(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function g(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _(t){if(Array.isArray(t))return t}var y={components:{FmCheckboxGroup:o["default"]},props:{show:{type:Boolean,default:!0}},watch:{show:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.form.resetFields(),e.formData.spareCellphones=[],e.formData.customerRequirement="",e.formData.customerLabel="",e.customerLabel=[],e.demandModel=[],Object(u["n"])({dicttype:2}).then((function(t){t&&(e.customerSources=t)}))}))}},data:function(){return{demandModel:[],customerInfo:[{name:"",gender:"",phone:""}],showTagInput:!1,tagInputValue:"",customerLabel:[],customerSources:[],formData:{customerCellphone:"",customerId:"",customerLabel:"",customerLevel:"",customerName:"",customerRequirement:[],customerSource:"",editType:"1",gender:"1",spareCellphones:[]},formRules:{customerCellphone:[{required:!0,trigger:"blur",validator:l["a"].phone}],customerLabel:[{required:!0,trigger:"blur",message:"请添加客户标签"}],customerName:[{required:!0,trigger:"blur",message:"请输入客户姓名"}],customerRequirement:[{required:!0,trigger:"blur",message:"请选择客户需求"}]},subRules:[{customerCellphone:[{required:!0,trigger:"blur",validator:l["a"].phone}],customerName:[{required:!0,trigger:"blur",message:"请输入客户姓名"}]}]}},computed:{customerRequirement:function(){return d["a"].config.customerDemands},customerLevel:function(){return d["a"].config.customerLevels}},methods:{sourceChange:function(t){this.formData.customerSource=t[t.length-1]},removePhone:function(t){this.formData.spareCellphones.splice(t,1),this.subRules.splice(t,1)},addPhone:function(){var t=f(this.subRules),e=t.slice(0);this.formData.spareCellphones.push({customerCellphone:"",customerName:"",gender:"1"}),this.subRules.push(e[0])},close:function(){this.$emit("close",!1)},handleClose:function(t){this.customerLabel.splice(this.customerLabel.indexOf(t),1),this.formData.customerLabel=this.customerLabel.toString()},showInput:function(){var t=this;this.showTagInput=!0,this.$nextTick((function(){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this.tagInputValue;t&&(this.customerLabel.push(t),this.formData.customerLabel=this.customerLabel.toString()),this.showTagInput=!1,this.tagInputValue=""},submitForm:function(){var t=this;return m(r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!0,n=!0,e.next=4,t.$refs.form.validate((function(t){a=t}));case 4:return e.next=6,t.$refs.subForm;case 6:if(e.t0=e.sent,!e.t0){e.next=9;break}t.$refs.subForm.forEach((function(t){t.validate((function(t){n=t}))}));case 9:if(a&&n){e.next=11;break}return e.abrupt("return");case 11:s=Object.assign({},t.formData),s.customerLevel||(s.customerLevel="1"),Object(c["a"])(s).then((function(e){e&&(t.$showSuccess("添加客户成功"),t.$root.$emit("RESET_CUSTOMER_LIST",!0),t.close())}));case 14:case"end":return e.stop()}}),e)})))()}}},w=y,C=(a("f363"),a("2877")),k=Object(C["a"])(w,n,s,!1,null,null,null);e["default"]=k.exports},f671:function(t,e,a){},f6b0:function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return l})),a.d(e,"f",(function(){return c}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/customer/customer/getCustomerPage",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/customer/customer/getCustomerList",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/api/v1/fm/customer/customer/getCustomerDetail",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/customer/customer/editCustomerBaseInfo",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/api/v1/fm/customer/customer/editCustomerCellPhone",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/api/v1/fm/customer/customer/getCustomerRequireList",method:"post",data:t})}},f6f5:function(t,e,a){"use strict";var n=a("0219"),s=a.n(n);s.a},f70d:function(t,e,a){"use strict";var n=a("e7d3"),s=a.n(n);s.a},f803:function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"m",(function(){return i})),a.d(e,"l",(function(){return r})),a.d(e,"k",(function(){return o})),a.d(e,"q",(function(){return l})),a.d(e,"p",(function(){return c})),a.d(e,"g",(function(){return u})),a.d(e,"f",(function(){return d})),a.d(e,"e",(function(){return p})),a.d(e,"i",(function(){return m})),a.d(e,"h",(function(){return f})),a.d(e,"j",(function(){return v})),a.d(e,"c",(function(){return h})),a.d(e,"n",(function(){return b})),a.d(e,"o",(function(){return g})),a.d(e,"b",(function(){return _})),a.d(e,"r",(function(){return y})),a.d(e,"a",(function(){return w}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/house/sell/editSellHouse",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/house/sell/getHouseSellList",method:"post",data:t})}function r(t){return Object(n["a"])({url:"/api/v1/fm/house/sell/getHouseSellDetail",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/api/v1/fm/house/lease/getHouseLeaseList",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/api/v1/fm/community/focus",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/api/v1/fm/house/sell/getSellHouseRoundId",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getEstatePage",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getEstateHousePlaneImage",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getEstateHouseList",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getEstateUnitList",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getEstateTrendsPage",method:"post",data:t})}function v(t){return Object(n["a"])({url:"/api/v1/fm/house/estate/getHouseDetail",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/api/v1/fm/request/editEstateRequest",method:"post",data:t})}function b(t,e){return Object(n["a"])({url:"/api/v1/fm/community/buliding/houses/".concat(t),method:"get",data:e})}function g(t){return Object(n["a"])({url:"/api/v1/fm/house/sell/same/list/".concat(t.id),method:"post",data:t})}function _(t){return Object(n["a"])({url:"/api/v1/fm/house/sell/delete",method:"delete",data:t})}function y(t){return Object(n["a"])({url:"/api/v1/fm/house/sell/submitAudit",data:t})}function w(t){return Object(n["a"])({url:"/api/v1/fm/house/sell/audit",data:t})}},f839:function(t,e,a){"use strict";var n=a("1c51"),s=a.n(n);s.a},f853:function(t,e,a){"use strict";var n=a("8a36"),s=a.n(n);s.a},f9b8:function(t,e,a){"use strict";var n=a("6e99"),s=a.n(n);s.a},f9be:function(t,e,a){},f9da:function(t,e,a){},fa24:function(t,e,a){"use strict";var n=a("702b"),s=a.n(n);s.a},fb15:function(t,e,a){"use strict";var n=a("a250"),s=a.n(n);s.a},fb24:function(t,e,a){},fba6:function(t,e,a){},fc17:function(t,e,a){},fcac:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return o}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v1/fm/company/page",method:"get",data:t})}function i(t){return Object(n["a"])({url:"/api/v1/fm/company/merge",method:"post",params:t})}function r(t){return Object(n["a"])({url:"/api/v1/fm/company/".concat(t),method:"delete"})}function o(){return Object(n["a"])({url:"/api/v1/fm/company/userBelongCompanyBasicInfo",method:"get"})}},fce9:function(t,e,a){"use strict";var n=a("26a6"),s=a.n(n);s.a},fd1c:function(t,e,a){"use strict";var n=a("359b"),s=a.n(n);s.a},fde2:function(t,e,a){},fdf3:function(t,e,a){},fe63:function(t,e){(function(t,e){var a=function t(a,n){if(!(this instanceof t))return new t(a,n);this.options=this.extend({noPrint:".no-print",onStart:function(){},onEnd:function(){}},n),this.dom="string"===typeof a?e.querySelector(a):a,this.init()};a.prototype={init:function(){var t=this.getStyle()+this.getHtml();this.writeIframe(t)},extend:function(t,e){for(var a in e)t[a]=e[a];return t},getStyle:function(){for(var t="",a=e.querySelectorAll("style,link"),n=0;n<a.length;n++)t+=a[n].outerHTML;return t+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>",t},getHtml:function(){var t=e.querySelectorAll("input"),a=e.querySelectorAll("textarea"),n=e.querySelectorAll("select");for(var s in t)"checkbox"==t[s].type||"radio"==t[s].type?1==t[s].checked?t[s].setAttribute("checked","checked"):t[s].removeAttribute("checked"):"text"==t[s].type&&t[s].setAttribute("value",t[s].value);for(var i in a)"textarea"==a[i].type&&(a[i].innerHTML=a[i].value);for(var r in n)if("select-one"==n[r].type){var o=n[r].children;for(var l in o)"OPTION"==o[l].tagName&&(1==o[l].selected?o[l].setAttribute("selected","selected"):o[l].removeAttribute("selected"))}return this.dom.outerHTML},writeIframe:function(t){var a,n,s=e.createElement("iframe"),i=e.body.appendChild(s);s.id="myIframe",s.style="position:absolute;width:0;height:0;top:-10px;left:-10px;",a=i.contentWindow||i.contentDocument,n=i.contentDocument||i.contentWindow.document,n.open(),n.write(t),n.close(),this.toPrint(a,(function(){e.body.removeChild(s)}))},toPrint:function(t,e){var a=this;t.onload=function(){try{setTimeout((function(){t.focus(),"function"===typeof a.options.onStart&&a.options.onStart(),t.document.execCommand("print",!1,null)||t.print(),"function"===typeof a.options.onEnd&&a.options.onEnd(),t.close(),e&&e()}))}catch(n){}}}},t.Print=a})(window,document)},fee2:function(t,e,a){"use strict";var n=a("8ac2"),s=a.n(n);s.a},ff40:function(t,e,a){t.exports=a.p+"img/house_num_empty.f81fe127.png"}}]);